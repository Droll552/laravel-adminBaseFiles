"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[504],{7504:(e,t,i)=>{var n;i.r(t),i.d(t,{init:()=>d});var a="fileinput-new",p=" fileinput-exists",s='[data-trigger="fileinput"]',l='[data-dismiss="fileinput"]',u='[data-remove="fileinput"]',r=function(e){this.$wrapper=n(e).parents('[data-toggle="imageInput"], [data-toggle="fileInput"]'),this.$input=this.$wrapper.find("input:file"),this.isImage="imageInput"===this.$wrapper.attr("data-toggle"),this.$removeInput=this.$wrapper.find('input[name="remove_'+this.$input.attr("name")+'"]'),this.$addIdInput=this.$wrapper.find('input[name="add_'+this.$input.attr("name")+'"]'),this.$thumbWrapper=this.$wrapper.find(".fileinput-preview"),this.invalidMessage=this.$wrapper.find(".fileinput-invalidMsg").text(),this.$filename=this.$wrapper.find(".fileinput-filename"),this.changeInputAndText=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e||(this.$input.val(""),this.$filename.length&&this.$filename.text(""),this.$wrapper.addClass(a).removeClass(p)),e&&(this.$filename.length&&this.$filename.text(t),this.$wrapper.removeClass(a).addClass(p),this.$removeInput.val(null)),this.$addIdInput.val(i)}},d=function(){i.e(2).then(i.t.bind(i,4002,23)).then((function(e){n=e.default,document.addEventListener("baseAdmin.fileInput.changed",(function(e){new r(e.detail.input).changeInputAndText(e.detail.filled||!1,e.detail.name||null,e.detail.addInputVal)})),n(document).on("click",u,(function(e){new r(this).$wrapper.remove()})),n(document).on("click",s,(function(e){new r(this).$input.click()})),n(document).on("click",l,(function(e){var t=new r(this);t.$thumbWrapper.empty(),t.changeInputAndText(!1),t.$removeInput.val(t.$removeInput.data("id"))})),n(document).on("change",'[data-toggle="imageInput"] input:file, [data-toggle="fileInput"] input:file',(function(){var e=new r(this);if(this.files.length>0){var t=this.files[0];if(!/(jpg|jpeg|png|gif)$/i.exec(t.type)&&e.isImage)return alert("Oops..."+e.invalidMessage),void e.changeInputAndText(!1);if(e.isImage){var i=new FileReader;i.onload=function(){e.$thumbWrapper.html('<img src="'+i.result+'" class="'+e.$thumbWrapper.attr("data-imgclass")+'">'),e.changeInputAndText(!0,t.name)},i.readAsDataURL(event.target.files[0])}else e.changeInputAndText(!0,t.name)}}))}))}}}]);