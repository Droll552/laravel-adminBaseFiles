/*! For license information please see 167.chunk.66572c76f68b7174.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[167],{3426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>a,encode:()=>n});for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="undefined"==typeof Uint8Array?[]:new Uint8Array(256),s=0;s<i.length;s++)o[i.charCodeAt(s)]=s;var n=function(e){var t,r=new Uint8Array(e),o=r.length,s="";for(t=0;t<o;t+=3)s+=i[r[t]>>2],s+=i[(3&r[t])<<4|r[t+1]>>4],s+=i[(15&r[t+1])<<2|r[t+2]>>6],s+=i[63&r[t+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s},a=function(e){var t,r,i,s,n,a=.75*e.length,l=e.length,p=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(t=0;t<l;t+=4)r=o[e.charCodeAt(t)],i=o[e.charCodeAt(t+1)],s=o[e.charCodeAt(t+2)],n=o[e.charCodeAt(t+3)],h[p++]=r<<2|i>>4,h[p++]=(15&i)<<4|s>>2,h[p++]=(3&s)<<6|63&n;return u}},3063:(e,t)=>{function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}t.Emitter=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<i.length;o++)if((r=i[o])===t||r.fn===t){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){i=0;for(var o=(r=r.slice(0)).length;i<o;++i)r[i].apply(this,t)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},5158:e=>{e.exports=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),r.length-1);e=Number(e/Math.pow(1024,i));var o=r[i];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+o:(t?"-":"")+e.toFixed(1)+" "+o}},8922:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>{let{currentDeviceId:t,audioSources:r,onChangeSource:o}=e;return i("div",{className:"uppy-Audio-videoSource"},i("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:e=>{o(e.target.value)}},r.map((e=>i("option",{key:e.deviceId,value:e.deviceId,selected:e.deviceId===t},e.label)))))}},9930:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{onDiscard:t,i18n:r}=e;return i("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},i("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},i("g",{fill:"#FFF",fillRule:"evenodd"},i("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),i("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}},9726:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>{const{icon:t,hasAudio:r,i18n:o}=e;return i("div",{className:"uppy-Audio-permissons"},i("div",{className:"uppy-Audio-permissonsIcon"},t()),i("h1",{className:"uppy-Audio-title"},o(r?"allowAudioAccessTitle":"noAudioTitle")),i("p",null,o(r?"allowAudioAccessDescription":"noAudioDescription")))}},4815:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{recording:t,onStartRecording:r,onStopRecording:o,i18n:s}=e;return t?i("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:s("stopAudioRecording"),"aria-label":s("stopAudioRecording"),onClick:o,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},i("rect",{x:"15",y:"15",width:"70",height:"70"}))):i("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:s("startAudioRecording"),"aria-label":s("startAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},i("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}},1244:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(9986);e.exports=function(e){let{recordingLengthSeconds:t,i18n:r}=e;const s=o(t);return i("span",{"aria-label":r("recordingLength",{recording_length:s})},s)}},3629:(e,t,r)=>{"use strict";const{h:i}=r(6400),{useEffect:o,useRef:s}=r(396),n=r(4815),a=r(1244),l=r(8922),p=r(5107),u=r(1510),h=r(9930);e.exports=function(e){const{stream:t,recordedAudio:r,onStop:d,recording:c,supportsRecording:f,audioSources:m,showAudioSourceDropdown:g,onSubmit:y,i18n:v,onStartRecording:b,onStopRecording:w,onDiscardRecordedAudio:x,recordingLengthSeconds:k}=e,P=s(null),S=s(null);o((()=>()=>{S.current=null,d()}),[d]),o((()=>{if(!r&&(S.current=new p(P.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),S.current.draw(),t)){const e=(new AudioContext).createMediaStreamSource(t);S.current.addSource(e)}}),[r,t]);const C=null!=r,_=!C&&f,D=g&&!C&&m&&m.length>1;return i("div",{className:"uppy-Audio-container"},i("div",{className:"uppy-Audio-audioContainer"},C?i("audio",{className:"uppy-Audio-player",controls:!0,src:r}):i("canvas",{ref:P,className:"uppy-Audio-canvas"})),i("div",{className:"uppy-Audio-footer"},i("div",{className:"uppy-Audio-audioSourceContainer"},D?l(e):null),i("div",{className:"uppy-Audio-buttonContainer"},_&&i(n,{recording:c,onStartRecording:b,onStopRecording:w,i18n:v}),C&&i(u,{onSubmit:y,i18n:v}),C&&i(h,{onDiscard:x,i18n:v})),i("div",{className:"uppy-Audio-recordingLength"},!C&&i(a,{recordingLengthSeconds:k,i18n:v}))))}},1510:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{onSubmit:t,i18n:r}=e;return i("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},i("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},i("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}},5107:e=>{"use strict";var t;var r=0;function i(e){return"__private_"+r+++"_"+e}function o(e){return"function"==typeof e}function s(e){return o(e)?e():e}e.exports=(t=i("draw"),class{constructor(e,r){void 0===r&&(r={}),Object.defineProperty(this,t,{writable:!0,value:()=>this.draw()});const i=r.canvas||{},n=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=s(i.width)||this.canvas.width,this.height=s(i.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=s(n.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=s(n.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=s(n.lineWidth)||1,this.onDrawFrame=o(r.onDrawFrame)?r.onDrawFrame:()=>{}}addSource(e){this.streamSource=e,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}draw(){const{analyser:e,dataArray:r,bufferLength:i}=this,o=this.canvasContext,s=this.width,n=this.height;e&&e.getByteTimeDomainData(r),o.fillRect(0,0,s,n),o.beginPath();const a=1*s/i;let l=0;i||o.moveTo(0,this.height/2);for(let e=0;e<i;e++){const t=r[e]/128*(n/2);0===e?o.moveTo(l,t):o.lineTo(l,t),l+=a}o.lineTo(s,n/2),o.stroke(),this.onDrawFrame(this),requestAnimationFrame(function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(this,t)[t])}})},9986:e=>{"use strict";e.exports=function(e){return`${Math.floor(e/60)}:${String(e%60).padStart(2,0)}`}},1947:(e,t,r)=>{"use strict";var i,o,s,n,a,l,p,u,h,d,c,f,m,g,y,v,b,w,x;function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},k.apply(this,arguments)}function P(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var S=0;function C(e){return"__private_"+S+++"_"+e}const{h:_}=r(6400),{UIPlugin:D}=r(9429),A=r(182),F=r(5926),E=r(3629),B=r(9726),R=r(8409);function T(){return P(this,p)[p]?P(this,p)[p].enumerateDevices().then((e=>e.some((e=>"audioinput"===e.kind)))):Promise.resolve(!1)}function I(){const e=P(this,n)[n].find((e=>{var t;return(null==(t=e.type)?void 0:t.length)>0})).type,t=A(e);if(!t)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${e}"`));const r=`audio-${Date.now()}.${t}`,i=new Blob(P(this,n)[n],{type:e}),o={source:this.id,name:r,data:new Blob([i],{type:e}),type:e};return Promise.resolve(o)}e.exports=(o=C("stream"),s=C("audioActive"),n=C("recordingChunks"),a=C("recorder"),l=C("capturedMediaFile"),p=C("mediaDevices"),u=C("supportsUserMedia"),h=C("hasAudioCheck"),d=C("start"),c=C("startRecording"),f=C("stopRecording"),m=C("discardRecordedAudio"),g=C("submit"),y=C("stop"),v=C("getAudio"),b=C("changeSource"),w=C("updateSources"),x=i=class extends D{constructor(e,t){var r;super(e,t),r=this,Object.defineProperty(this,v,{value:I}),Object.defineProperty(this,h,{value:T}),Object.defineProperty(this,o,{writable:!0,value:null}),Object.defineProperty(this,s,{writable:!0,value:!1}),Object.defineProperty(this,n,{writable:!0,value:null}),Object.defineProperty(this,a,{writable:!0,value:null}),Object.defineProperty(this,l,{writable:!0,value:null}),Object.defineProperty(this,p,{writable:!0,value:null}),Object.defineProperty(this,u,{writable:!0,value:null}),Object.defineProperty(this,d,{writable:!0,value:function(e){if(void 0===e&&(e=null),!P(r,u)[u])return Promise.reject(new Error("Microphone access not supported"));P(r,s)[s]=!0,P(r,h)[h]().then((t=>(r.setPluginState({hasAudio:t}),P(r,p)[p].getUserMedia({audio:!0}).then((t=>{P(r,o)[o]=t;let i=null;const s=t.getAudioTracks();e&&e.deviceId?s.forEach((t=>{t.getSettings().deviceId===e.deviceId&&(i=t.getSettings().deviceId)})):i=s[0].getSettings().deviceId,P(r,w)[w](),r.setPluginState({currentDeviceId:i,audioReady:!0})})).catch((e=>{r.setPluginState({audioReady:!1,cameraError:e}),r.uppy.info(e.message,"error")})))))}}),Object.defineProperty(this,c,{writable:!0,value:()=>{P(this,a)[a]=new MediaRecorder(P(this,o)[o]),P(this,n)[n]=[];let e=!1;P(this,a)[a].addEventListener("dataavailable",(t=>{P(this,n)[n].push(t.data);const{restrictions:r}=this.uppy.opts;if(P(this,n)[n].length>1&&null!=r.maxFileSize&&!e){const t=P(this,n)[n].reduce(((e,t)=>e+t.size),0),i=3*((t-P(this,n)[n][0].size)/(P(this,n)[n].length-1));t>Math.max(0,r.maxFileSize-i)&&(e=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),P(this,f)[f]())}})),P(this,a)[a].start(500),this.recordingLengthTimer=setInterval((()=>{const e=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:e+1})}),1e3),this.setPluginState({isRecording:!0})}}),Object.defineProperty(this,f,{writable:!0,value:()=>new Promise((e=>{P(this,a)[a].addEventListener("stop",(()=>{e()})),P(this,a)[a].stop(),clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0})})).then((()=>(this.setPluginState({isRecording:!1}),P(this,v)[v]()))).then((e=>{try{P(this,l)[l]=e,this.setPluginState({recordedAudio:URL.createObjectURL(e.data)})}catch(e){e.isRestriction||this.uppy.log(e)}})).then((()=>{P(this,n)[n]=null,P(this,a)[a]=null}),(e=>{throw P(this,n)[n]=null,P(this,a)[a]=null,e}))}),Object.defineProperty(this,m,{writable:!0,value:()=>{this.setPluginState({recordedAudio:null}),P(this,l)[l]=null}}),Object.defineProperty(this,g,{writable:!0,value:()=>{try{P(this,l)[l]&&this.uppy.addFile(P(this,l)[l])}catch(e){e.isRestriction||this.uppy.log(e,"error")}}}),Object.defineProperty(this,y,{writable:!0,value:async()=>{if(P(this,o)[o]){P(this,o)[o].getAudioTracks().forEach((e=>e.stop()))}P(this,a)[a]&&await new Promise((e=>{P(this,a)[a].addEventListener("stop",e,{once:!0}),P(this,a)[a].stop(),clearInterval(this.recordingLengthTimer)})),P(this,n)[n]=null,P(this,a)[a]=null,P(this,s)[s]=!1,P(this,o)[o]=null,this.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0})}}),Object.defineProperty(this,b,{writable:!0,value:e=>{P(this,y)[y](),P(this,d)[d]({deviceId:e})}}),Object.defineProperty(this,w,{writable:!0,value:()=>{P(this,p)[p].enumerateDevices().then((e=>{this.setPluginState({audioSources:e.filter((e=>"audioinput"===e.kind))})}))}}),P(this,p)[p]=navigator.mediaDevices,P(this,u)[u]=null!=P(this,p)[p],this.id=this.opts.id||"Audio",this.type="acquirer",this.icon=()=>_("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},_("g",{fill:"none","fill-rule":"evenodd"},_("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),_("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"}))),this.defaultLocale=R,this.opts={...t},this.i18nInit(),this.title=this.i18n("pluginNameAudio"),this.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null})}render(){P(this,s)[s]||P(this,d)[d]();const e=this.getPluginState();return e.audioReady&&e.hasAudio?_(E,k({},e,{audioActive:P(this,s)[s],onChangeSource:P(this,b)[b],onStartRecording:P(this,c)[c],onStopRecording:P(this,f)[f],onDiscardRecordedAudio:P(this,m)[m],onSubmit:P(this,g)[g],onStop:P(this,y)[y],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:F(),recording:e.isRecording,stream:P(this,o)[o]})):_(B,{icon:this.icon,i18n:this.i18n,hasAudio:e.hasAudio})}install(){this.setPluginState({audioReady:!1,recordingLengthSeconds:0});const{target:e}=this.opts;e&&this.mount(e,this),P(this,p)[p]&&(P(this,w)[w](),P(this,p)[p].ondevicechange=()=>{if(P(this,w)[w](),P(this,o)[o]){let e=!0;const{audioSources:t,currentDeviceId:r}=this.getPluginState();t.forEach((t=>{r===t.deviceId&&(e=!1)})),e&&(P(this,y)[y](),P(this,d)[d]())}})}uninstall(){P(this,o)[o]&&P(this,y)[y](),this.unmount()}},i.VERSION="0.2.1",x)},8409:e=>{"use strict";e.exports={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}}},5926:e=>{"use strict";e.exports=function(){var e;return"function"==typeof MediaRecorder&&"function"==typeof(null==(e=MediaRecorder.prototype)?void 0:e.start)}},2744:(e,t,r)=>{"use strict";function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function s(e){return"__private_"+o+++"_"+e}const{AbortController:n,createAbortError:a}=r(8692),l=r(254),p={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:e=>Math.ceil(e.size/1e4),onStart(){},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function u(e){if("string"==typeof e)return parseInt(e,10);if("number"==typeof e)return e;throw new TypeError("Expected a number")}var h=s("aborted"),d=s("initChunks"),c=s("createUpload"),f=s("resumeUpload"),m=s("uploadParts"),g=s("retryable"),y=s("prepareUploadParts"),v=s("uploadPartRetryable"),b=s("uploadPart"),w=s("onPartProgress"),x=s("onPartComplete"),k=s("uploadPartBytes"),P=s("completeUpload"),S=s("abortUpload"),C=s("onError");function _(){return this.abortController.signal.aborted}function D(){const e=[],t=this.options.getChunkSize(this.file),r=Math.max(5242880,Math.ceil(this.file.size/1e4)),i=Math.max(t,r);if(0===this.file.size)e.push(this.file);else for(let t=0;t<this.file.size;t+=i){const r=Math.min(this.file.size,t+i);e.push(this.file.slice(t,r))}this.chunks=e,this.chunkState=e.map((()=>({uploaded:0,busy:!1,done:!1})))}function A(){return this.createdPromise=Promise.resolve().then((()=>this.options.createMultipartUpload())),this.createdPromise.then((e=>{if(i(this,h)[h]())throw a();if(!("object"==typeof e&&e&&"string"==typeof e.uploadId&&"string"==typeof e.key))throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");this.key=e.key,this.uploadId=e.uploadId,this.options.onStart(e),i(this,m)[m]()})).catch((e=>{i(this,C)[C](e)}))}async function F(){try{const e=await this.options.listParts({uploadId:this.uploadId,key:this.key});if(i(this,h)[h]())throw a();e.forEach((e=>{const t=e.PartNumber-1;this.chunkState[t]={uploaded:u(e.Size),etag:e.ETag,done:!0},this.parts.some((t=>t.PartNumber===e.PartNumber))||this.parts.push({PartNumber:e.PartNumber,ETag:e.ETag})})),i(this,m)[m]()}catch(e){i(this,C)[C](e)}}function E(){if(this.isPaused)return;if(this.chunkState.every((e=>e.done)))return void i(this,P)[P]();const e=this.options.limit-this.partsInProgress,t=this.chunkState.filter((e=>e.done)).length,r=this.chunks.length-t;let o=Math.ceil(this.options.limit/2);if(o>r&&(o=r),e<o)return;const s=[];for(let t=0;t<this.chunkState.length;t++){const r=this.chunkState[t];if(!r.done&&!r.busy&&(s.push(t),s.length>=e))break}0!==s.length&&i(this,y)[y](s).then((e=>{s.forEach((t=>{const r=t+1,o={url:e.presignedUrls[r],headers:e.headers};i(this,v)[v](t,o).then((()=>{i(this,m)[m]()}),(e=>{i(this,C)[C](e)}))}))}))}function B(e){let{before:t,attempt:r,after:o}=e;const{retryDelays:s}=this.options,{signal:n}=this.abortController;t&&t();const p=e=>r().catch((t=>{if(i(this,h)[h]())throw a();if(function(e){if(e.source&&"number"==typeof e.source.status){const{status:t}=e.source;return 0===t||409===t||423===t||t>=500&&t<600}return!1}(t)&&e<s.length)return l(s[e],{signal:n}).then((()=>p(e+1)));throw t}));return p(0).then((e=>(o&&o(),e)),(e=>{throw o&&o(),e}))}async function R(e){e.forEach((e=>{this.chunkState[e].busy=!0}));const t=await i(this,g)[g]({attempt:()=>this.options.prepareUploadParts({key:this.key,uploadId:this.uploadId,partNumbers:e.map((e=>e+1))})});if("object"!=typeof(null==t?void 0:t.presignedUrls))throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");return t}function T(e,t){return i(this,g)[g]({before:()=>{this.partsInProgress+=1},attempt:()=>i(this,b)[b](e,t),after:()=>{this.partsInProgress-=1}})}function I(e,t){this.chunkState[e].busy=!0;if(!("string"==typeof(null==t?void 0:t.url)))throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");const{url:r,headers:o}=t;if(i(this,h)[h]())throw this.chunkState[e].busy=!1,a();return i(this,k)[k](e,r,o)}function O(e,t){this.chunkState[e].uploaded=u(t);const r=this.chunkState.reduce(((e,t)=>e+t.uploaded),0);this.options.onProgress(r,this.file.size)}function U(e,t){this.chunkState[e].etag=t,this.chunkState[e].done=!0;const r={PartNumber:e+1,ETag:t};this.parts.push(r),this.options.onPartComplete(r)}function M(e,t,r){const o=this.chunks[e],{signal:s}=this.abortController;let n;const l=new Promise(((e,t)=>{n={resolve:e,reject:t}})),p=new XMLHttpRequest;function u(){s.removeEventListener("abort",h)}function h(){p.abort()}return p.open("PUT",t,!0),r&&Object.keys(r).forEach((e=>{p.setRequestHeader(e,r[e])})),p.responseType="text",s.addEventListener("abort",h),p.upload.addEventListener("progress",(t=>{t.lengthComputable&&i(this,w)[w](e,t.loaded,t.total)})),p.addEventListener("abort",(()=>{u(),this.chunkState[e].busy=!1,n.reject(a())})),p.addEventListener("load",(t=>{if(u(),this.chunkState[e].busy=!1,t.target.status<200||t.target.status>=300){const e=new Error("Non 2xx");return e.source=t.target,void n.reject(e)}this.chunks[e]=null,i(this,w)[w](e,o.size,o.size);const r=t.target.getResponseHeader("ETag");null!==r?(i(this,x)[x](e,r),n.resolve()):n.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."))})),p.addEventListener("error",(t=>{u(),this.chunkState[e].busy=!1;const r=new Error("Unknown error");r.source=t.target,n.reject(r)})),p.send(o),l}async function z(){this.parts.sort(((e,t)=>e.PartNumber-t.PartNumber));try{const e=await this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});this.options.onSuccess(e)}catch(e){i(this,C)[C](e)}}function N(){this.abortController.abort(),this.createdPromise.then((()=>{this.options.abortMultipartUpload({key:this.key,uploadId:this.uploadId})}),(()=>{}))}function L(e){e&&"AbortError"===e.name||this.options.onError(e)}e.exports=class{constructor(e,t){Object.defineProperty(this,C,{value:L}),Object.defineProperty(this,S,{value:N}),Object.defineProperty(this,P,{value:z}),Object.defineProperty(this,k,{value:M}),Object.defineProperty(this,x,{value:U}),Object.defineProperty(this,w,{value:O}),Object.defineProperty(this,b,{value:I}),Object.defineProperty(this,v,{value:T}),Object.defineProperty(this,y,{value:R}),Object.defineProperty(this,g,{value:B}),Object.defineProperty(this,m,{value:E}),Object.defineProperty(this,f,{value:F}),Object.defineProperty(this,c,{value:A}),Object.defineProperty(this,d,{value:D}),Object.defineProperty(this,h,{value:_}),this.options={...p,...t},this.options.getChunkSize||(this.options.getChunkSize=p.getChunkSize),this.file=e,this.abortController=new n,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,i(this,d)[d](),this.createdPromise.catch((()=>{}))}start(){this.isPaused=!1,this.uploadId?i(this,f)[f]():i(this,c)[c]()}pause(){this.abortController.abort(),this.abortController=new n,this.isPaused=!0}abort(e){var t;void 0===e&&(e=void 0),null!=(t=e)&&t.really?i(this,S)[S]():this.pause()}}},7949:(e,t,r)=>{"use strict";var i,o;const s=r(8937),{Socket:n,Provider:a,RequestClient:l}=r(6385),p=r(8429),u=r(7351),h=r(5313),{RateLimitedQueue:d}=r(8618),c=r(2744);function f(e){if(e&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",this.title="AWS S3 Multipart",this.client=new l(e,t);const r={timeout:3e4,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:this.createMultipartUpload.bind(this),listParts:this.listParts.bind(this),prepareUploadParts:this.prepareUploadParts.bind(this),abortMultipartUpload:this.abortMultipartUpload.bind(this),completeMultipartUpload:this.completeMultipartUpload.bind(this)};this.opts={...r,...t},this.upload=this.upload.bind(this),this.requests=new d(this.opts.limit),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null)}resetUploaderReferences(e,t){void 0===t&&(t={}),this.uploaders[e]&&(this.uploaders[e].abort({really:t.abort||!1}),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)}assertHost(e){if(!this.opts.companionUrl)throw new Error(`Expected a \`companionUrl\` option containing a Companion address, or if you are not using Companion, a custom \`${e}\` implementation.`)}createMultipartUpload(e){this.assertHost("createMultipartUpload");const t={};return Object.keys(e.meta).forEach((r=>{null!=e.meta[r]&&(t[r]=e.meta[r].toString())})),this.client.post("s3/multipart",{filename:e.name,type:e.type,metadata:t}).then(f)}listParts(e,t){let{key:r,uploadId:i}=t;this.assertHost("listParts");const o=encodeURIComponent(r);return this.client.get(`s3/multipart/${i}?key=${o}`).then(f)}prepareUploadParts(e,t){let{key:r,uploadId:i,partNumbers:o}=t;this.assertHost("prepareUploadParts");const s=encodeURIComponent(r);return this.client.get(`s3/multipart/${i}/batch?key=${s}&partNumbers=${o.join(",")}`).then(f)}completeMultipartUpload(e,t){let{key:r,uploadId:i,parts:o}=t;this.assertHost("completeMultipartUpload");const s=encodeURIComponent(r),n=encodeURIComponent(i);return this.client.post(`s3/multipart/${n}/complete?key=${s}`,{parts:o}).then(f)}abortMultipartUpload(e,t){let{key:r,uploadId:i}=t;this.assertHost("abortMultipartUpload");const o=encodeURIComponent(r),s=encodeURIComponent(i);return this.client.delete(`s3/multipart/${s}?key=${o}`).then(f)}uploadFile(e){return new Promise(((t,r)=>{const i=new c(e.data,{createMultipartUpload:this.opts.createMultipartUpload.bind(this,e),listParts:this.opts.listParts.bind(this,e),prepareUploadParts:this.opts.prepareUploadParts.bind(this,e),completeMultipartUpload:this.opts.completeMultipartUpload.bind(this,e),abortMultipartUpload:this.opts.abortMultipartUpload.bind(this,e),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):null,onStart:t=>{const r=this.uppy.getFile(e.id);this.uppy.setFileState(e.id,{s3Multipart:{...r.s3Multipart,key:t.key,uploadId:t.uploadId}})},onProgress:(t,r)=>{this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t,bytesTotal:r})},onError:t=>{this.uppy.log(t),this.uppy.emit("upload-error",e,t),o.done(),this.resetUploaderReferences(e.id),r(t)},onSuccess:r=>{const s={body:{...r},uploadURL:r.location};o.done(),this.resetUploaderReferences(e.id);const n=this.uppy.getFile(e.id);this.uppy.emit("upload-success",n||e,s),r.location&&this.uppy.log(`Download ${i.file.name} from ${r.location}`),t(i)},onPartComplete:t=>{const r=this.uppy.getFile(e.id);r&&this.uppy.emit("s3-multipart:part-uploaded",r,t)},limit:this.opts.limit||5,retryDelays:this.opts.retryDelays||[],...e.s3Multipart});this.uploaders[e.id]=i,this.uploaderEvents[e.id]=new p(this.uppy);let o=this.requests.run((()=>(e.isPaused||i.start(),()=>{})));this.onFileRemove(e.id,(r=>{o.abort(),this.resetUploaderReferences(e.id,{abort:!0}),t(`upload ${r.id} was removed`)})),this.onCancelAll(e.id,(()=>{o.abort(),this.resetUploaderReferences(e.id,{abort:!0}),t(`upload ${e.id} was canceled`)})),this.onFilePause(e.id,(e=>{e?(o.abort(),i.pause()):(o.abort(),o=this.requests.run((()=>(i.start(),()=>{}))))})),this.onPauseAll(e.id,(()=>{o.abort(),i.pause()})),this.onResumeAll(e.id,(()=>{o.abort(),e.error&&i.abort(),o=this.requests.run((()=>(i.start(),()=>{})))})),e.progress.uploadStarted&&e.isRestored||this.uppy.emit("upload-started",e)}))}uploadRemote(e){return this.resetUploaderReferences(e.id),e.progress.uploadStarted&&e.isRestored||this.uppy.emit("upload-started",e),e.serverToken?this.connectToServerSocket(e):new Promise(((t,r)=>{new(e.remote.providerOptions.provider?a:l)(this.uppy,e.remote.providerOptions).post(e.remote.url,{...e.remote.body,protocol:"s3-multipart",size:e.data.size,metadata:e.meta}).then((t=>(this.uppy.setFileState(e.id,{serverToken:t.token}),e=this.uppy.getFile(e.id)))).then((e=>this.connectToServerSocket(e))).then((()=>{t()})).catch((t=>{this.uppy.emit("upload-error",e,t),r(t)}))}))}connectToServerSocket(e){return new Promise(((t,r)=>{const i=e.serverToken,o=h(e.remote.companionUrl),s=new n({target:`${o}/api/${i}`,autoOpen:!1});this.uploaderSockets[e.id]=s,this.uploaderEvents[e.id]=new p(this.uppy),this.onFileRemove(e.id,(()=>{a.abort(),s.send("cancel",{}),this.resetUploaderReferences(e.id,{abort:!0}),t(`upload ${e.id} was removed`)})),this.onFilePause(e.id,(e=>{e?(a.abort(),s.send("pause",{})):(a.abort(),a=this.requests.run((()=>(s.send("resume",{}),()=>{}))))})),this.onPauseAll(e.id,(()=>{a.abort(),s.send("pause",{})})),this.onCancelAll(e.id,(()=>{a.abort(),s.send("cancel",{}),this.resetUploaderReferences(e.id),t(`upload ${e.id} was canceled`)})),this.onResumeAll(e.id,(()=>{a.abort(),e.error&&s.send("pause",{}),a=this.requests.run((()=>{s.send("resume",{})}))})),this.onRetry(e.id,(()=>{s.isOpen&&(s.send("pause",{}),s.send("resume",{}))})),this.onRetryAll(e.id,(()=>{s.isOpen&&(s.send("pause",{}),s.send("resume",{}))})),s.on("progress",(t=>u(this,t,e))),s.on("error",(t=>{this.uppy.emit("upload-error",e,new Error(t.error)),this.resetUploaderReferences(e.id),a.done(),r(new Error(t.error))})),s.on("success",(r=>{const i={uploadURL:r.url};this.uppy.emit("upload-success",e,i),this.resetUploaderReferences(e.id),a.done(),t()}));let a=this.requests.run((()=>(s.open(),e.isPaused&&s.send("pause",{}),()=>{})))}))}upload(e){if(0===e.length)return Promise.resolve();const t=e.map((e=>{const t=this.uppy.getFile(e);return t.isRemote?this.uploadRemote(t):this.uploadFile(t)}));return Promise.all(t)}onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",(r=>{e===r.id&&t(r.id)}))}onFilePause(e,t){this.uploaderEvents[e].on("upload-pause",((r,i)=>{e===r&&t(i)}))}onRetry(e,t){this.uploaderEvents[e].on("upload-retry",(r=>{e===r&&t()}))}onRetryAll(e,t){this.uploaderEvents[e].on("retry-all",(()=>{this.uppy.getFile(e)&&t()}))}onPauseAll(e,t){this.uploaderEvents[e].on("pause-all",(()=>{this.uppy.getFile(e)&&t()}))}onCancelAll(e,t){this.uploaderEvents[e].on("cancel-all",(()=>{this.uppy.getFile(e)&&t()}))}onResumeAll(e,t){this.uploaderEvents[e].on("resume-all",(()=>{this.uppy.getFile(e)&&t()}))}install(){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,resumableUploads:!0}}),this.uppy.addUploader(this.upload)}uninstall(){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,resumableUploads:!1}}),this.uppy.removeUploader(this.upload)}},i.VERSION="2.2.0",o)},1383:(e,t,r)=>{"use strict";var i,o,s,n,a;function l(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var p=0;function u(e){return"__private_"+p+++"_"+e}const{nanoid:h}=r(2961),{Provider:d,RequestClient:c,Socket:f}=r(6385),m=r(7351),g=r(5313),y=r(8429),v=r(4772),b=r(6311),w=r(883),{internalRateLimitedQueue:x}=r(8618);function k(e,t){if(w(e))return new b(t,e);const r=new Error("Upload error");return r.cause=t,r.request=e,r}function P(e,t){const r=new FormData;!function(e,t,r){(Array.isArray(r.metaFields)?r.metaFields:Object.keys(t)).forEach((r=>{e.append(r,t[r])}))}(r,e.meta,t);const i=function(e){return e.data.slice(0,e.data.size,e.meta.type)}(e);return e.name?r.append(t.fieldName,i,e.meta.name):r.append(t.fieldName,i),r}function S(e){var t;const{uppy:r}=this,i=r.getState().xhrUpload;return{...this.opts,...i||{},...e.xhrUpload||{},headers:{...this.opts.headers,...null==i?void 0:i.headers,...null==(t=e.xhrUpload)?void 0:t.headers}}}function C(e,t,r){this.uploaderEvents[t].on(e,(e=>{t===e&&r()}))}function _(e,t,r){this.uploaderEvents[t].on(e,(()=>{this.uppy.getFile(t)&&r()}))}function D(e,t,r){const n=l(this,i)[i](e);return this.uppy.log(`uploading ${t} of ${r}`),new Promise(((t,r)=>{const i=n.formData?P(e,n):(e=>e.data)(e),a=new XMLHttpRequest;this.uploaderEvents[e.id]=new y(this.uppy);const p=new v(n.timeout,(()=>{a.abort(),d.done();const t=new Error(this.i18n("timedOut",{seconds:Math.ceil(n.timeout/1e3)}));this.uppy.emit("upload-error",e,t),r(t)})),u=h();a.upload.addEventListener("loadstart",(()=>{this.uppy.log(`[AwsS3/XHRUpload] ${u} started`)})),a.upload.addEventListener("progress",(t=>{this.uppy.log(`[AwsS3/XHRUpload] ${u} progress: ${t.loaded} / ${t.total}`),p.progress(),t.lengthComputable&&this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t.loaded,bytesTotal:t.total})})),a.addEventListener("load",(i=>{if(this.uppy.log(`[AwsS3/XHRUpload] ${u} finished`),p.done(),d.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),n.validateStatus(i.target.status,a.responseText,a)){const r=n.getResponseData(a.responseText,a),o=r[n.responseUrlFieldName],s={status:i.target.status,body:r,uploadURL:o};return this.uppy.emit("upload-success",e,s),o&&this.uppy.log(`Download ${e.name} from ${o}`),t(e)}const o=n.getResponseData(a.responseText,a),s=k(a,n.getResponseError(a.responseText,a)),l={status:i.target.status,body:o};return this.uppy.emit("upload-error",e,s,l),r(s)})),a.addEventListener("error",(()=>{this.uppy.log(`[AwsS3/XHRUpload] ${u} errored`),p.done(),d.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null);const t=k(a,n.getResponseError(a.responseText,a));return this.uppy.emit("upload-error",e,t),r(t)})),a.open(n.method.toUpperCase(),n.endpoint,!0),a.withCredentials=Boolean(n.withCredentials),""!==n.responseType&&(a.responseType=n.responseType),Object.keys(n.headers).forEach((e=>{a.setRequestHeader(e,n.headers[e])}));const d=this.requests.run((()=>(a.send(i),()=>{p.done(),a.abort()})),{priority:1});l(this,o)[o]("file-removed",e.id,(()=>{d.abort(),r(new Error("File removed"))})),l(this,s)[s]("cancel-all",e.id,(()=>{d.abort(),r(new Error("Upload cancelled"))}))}))}function A(e){const t=l(this,i)[i](e),r=Array.isArray(t.metaFields)?t.metaFields:Object.keys(e.meta);return new(e.remote.providerOptions.provider?d:c)(this.uppy,e.remote.providerOptions).post(e.remote.url,{...e.remote.body,endpoint:t.endpoint,size:e.data.size,fieldname:t.fieldName,metadata:Object.fromEntries(r.map((t=>[t,e.meta[t]]))),httpMethod:t.method,useFormData:t.formData,headers:t.headers}).then((r=>new Promise(((i,n)=>{const{token:a}=r,p=g(e.remote.companionUrl),u=new f({target:`${p}/api/${a}`,autoOpen:!1});this.uploaderEvents[e.id]=new y(this.uppy);const h=this.requests.run((()=>(u.open(),e.isPaused&&u.send("pause",{}),()=>u.close())));l(this,o)[o]("file-removed",e.id,(()=>{u.send("pause",{}),h.abort(),i(`upload ${e.id} was removed`)})),l(this,s)[s]("cancel-all",e.id,(()=>{u.send("pause",{}),h.abort(),i(`upload ${e.id} was canceled`)})),l(this,o)[o]("upload-retry",e.id,(()=>{u.send("pause",{}),u.send("resume",{})})),l(this,s)[s]("retry-all",e.id,(()=>{u.send("pause",{}),u.send("resume",{})})),u.on("progress",(t=>m(this,t,e))),u.on("success",(r=>{const o=t.getResponseData(r.response.responseText,r.response),s=o[t.responseUrlFieldName],n={status:r.response.status,body:o,uploadURL:s,bytesUploaded:r.bytesUploaded};return this.uppy.emit("upload-success",e,n),h.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),i()})),u.on("error",(r=>{const i=r.response,o=i?t.getResponseError(i.responseText,i):Object.assign(new Error(r.error.message),{cause:r.error});this.uppy.emit("upload-error",e,o),h.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),n(o)}))})).catch((t=>(this.uppy.emit("upload-error",e,t),Promise.reject(t))))))}e.exports=(i=u("getOptions"),o=u("addEventHandlerForFile"),s=u("addEventHandlerIfFileStillExists"),n=u("uploadLocalFile"),a=u("uploadRemoteFile"),class{constructor(e,t){Object.defineProperty(this,a,{value:A}),Object.defineProperty(this,n,{value:D}),Object.defineProperty(this,s,{value:_}),Object.defineProperty(this,o,{value:C}),Object.defineProperty(this,i,{value:S}),this.uppy=e,this.opts={validateStatus:e=>e>=200&&e<300,...t},this.requests=t[x],this.uploaderEvents=Object.create(null),this.i18n=t.i18n}uploadFile(e,t,r){const i=this.uppy.getFile(e);if(i.error)throw new Error(i.error);return i.isRemote?l(this,a)[a](i,t,r):l(this,n)[n](i,t,r)}})},4105:(e,t,r)=>{"use strict";var i,o,s,n,a,l;function p(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;function h(e){return"__private_"+u+++"_"+e}const d=r(8937),{RateLimitedQueue:c,internalRateLimitedQueue:f}=r(8618),{RequestClient:m}=r(6385),g=r(1383),y=r(1236),v=r(5819);function b(e,t){const r=e.indexOf(`<${t}>`),i=e.indexOf(`</${t}>`,r);return-1!==r&&-1!==i?e.slice(r+t.length+2,i):""}function w(e){if(e&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function x(e,t){if(!y(e,t))return;const r=b(e,"Message");return new Error(r)}let k=!1;e.exports=(o=h("client"),s=h("requests"),n=h("uploader"),a=h("handleUpload"),l=i=class extends d{constructor(e,t){super(e,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:e=>{const t=Object.create(null);function r(e){var r;const{id:i}=e;null==(r=t[i])||r.abort()}this.uppy.on("file-removed",r),e.forEach((e=>{const t=this.uppy.getFile(e);this.uppy.emit("upload-started",t)}));const i=p(this,s)[s].wrapPromiseFunction((e=>this.opts.getUploadParameters(e))),o=e.length;return Promise.allSettled(e.map(((e,r)=>(t[e]=i(this.uppy.getFile(e)),t[e].then((i=>{delete t[e];const s=this.uppy.getFile(e);!function(e,t){if(null==t||"string"!=typeof t.url||"object"!=typeof t.fields&&null!=t.fields)throw new TypeError(`AwsS3: got incorrect result from 'getUploadParameters()' for file '${e.name}', expected an object '{ url, method, fields, headers }' but got '${JSON.stringify(t)}' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);if(null!=t.method&&!/^p(u|os)t$/i.test(t.method))throw new TypeError(`AwsS3: got incorrect method from 'getUploadParameters()' for file '${e.name}', expected  'put' or 'post' but got '${t.method}' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`)}(s,i);const{method:a="post",url:l,fields:u,headers:h}=i,d={method:a,formData:"post"===a.toLowerCase(),endpoint:l,metaFields:u?Object.keys(u):[]};return h&&(d.headers=h),this.uppy.setFileState(s.id,{meta:{...s.meta,...u},xhrUpload:d}),p(this,n)[n].uploadFile(s.id,r,o)})).catch((r=>{delete t[e];const i=this.uppy.getFile(e);return this.uppy.emit("upload-error",i,r),Promise.reject(r)})))))).finally((()=>{this.uppy.off("file-removed",r)}))}}),this.type="uploader",this.id=this.opts.id||"AwsS3",this.title="AWS S3",this.defaultLocale=v;const r={timeout:3e4,limit:0,metaFields:[],getUploadParameters:this.getUploadParameters.bind(this)};this.opts={...r,...t},this.i18nInit(),p(this,o)[o]=new m(e,t),p(this,s)[s]=new c(this.opts.limit)}getUploadParameters(e){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");const t=e.meta.name,{type:r}=e.meta,i=Object.fromEntries(this.opts.metaFields.filter((t=>null!=e.meta[t])).map((t=>[`metadata[${t}]`,e.meta[t].toString()]))),s=new URLSearchParams({filename:t,type:r,...i});return p(this,o)[o].get(`s3/params?${s}`).then(w)}install(){const{uppy:e}=this;e.addUploader(p(this,a)[a]);const t={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,[f]:p(this,s)[s],responseType:"text",getResponseData:this.opts.getResponseData||function(t,r){const i=this;return y(t,r)?{location:(o=r.responseURL,s=b(t,"Location"),new URL(s,o||void 0).toString()),bucket:b(t,"Bucket"),key:b(t,"Key"),etag:b(t,"ETag")}:"POST"===i.method.toUpperCase()?(k||(e.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),k=!0),{location:null}):r.responseURL?{location:r.responseURL.replace(/\?.*$/,"")}:{location:null};var o,s},getResponseError:x};t.i18n=this.i18n,p(this,n)[n]=new g(e,t)}uninstall(){this.uppy.removeUploader(p(this,a)[a])}},i.VERSION="2.0.7",l)},1236:e=>{"use strict";e.exports=function(e,t){const r=t.headers?t.headers["content-type"]:t.getResponseHeader("Content-Type");if("string"==typeof r){const t=(i=r,i.replace(/;.*$/,"")).toLowerCase();if("application/xml"===t||"text/xml"===t)return!0;if("text/html"===t&&/^<\?xml /.test(e))return!0}var i;return!1}},5819:e=>{"use strict";e.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}},3291:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{Provider:n}=r(6385),{ProviderViews:a}=r(7792),{h:l}=r(6400),p=r(8361);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"Box",n.initPlugin(this,t),this.title=this.opts.title||"Box",this.icon=()=>l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},l("g",{fill:"none",fillRule:"evenodd"},l("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),l("g",{fill:"#fff",fillRule:"nonzero"},l("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),l("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"})))),this.provider=new n(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"box",pluginId:this.id}),this.defaultLocale=p,this.i18nInit(),this.title=this.i18n("pluginNameBox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new a(this,{provider:this.provider});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return this.view.getFolder()}render(e){return this.view.render(e)}},i.VERSION="1.0.5",o)},8361:e=>{"use strict";e.exports={strings:{pluginNameBox:"Box"}}},1220:e=>{"use strict";class t extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}e.exports=t},6808:(e,t,r)=>{"use strict";const i=r(2368),o=r(8871);e.exports=class extends i{constructor(e,t){super(e,t),this.provider=t.provider,this.id=this.provider,this.name=this.opts.name||this.id.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}headers(){return Promise.all([super.headers(),this.getAuthToken()]).then((e=>{let[t,r]=e;const i={};return r&&(i["uppy-auth-token"]=r),this.companionKeysParams&&(i["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...t,...i}}))}onReceiveResponse(e){e=super.onReceiveResponse(e);const t=this.uppy.getPlugin(this.pluginId),r=t.getPluginState().authenticated?401!==e.status:e.status<400;return t.setPluginState({authenticated:r}),e}setAuthToken(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}authUrl(e){return void 0===e&&(e={}),this.preAuthToken&&(e.uppyPreAuthToken=this.preAuthToken),`${this.hostname}/${this.id}/connect?${new URLSearchParams(e)}`}fileUrl(e){return`${this.hostname}/${this.id}/get/${e}`}fetchPreAuthToken(){return this.companionKeysParams?this.post(`${this.id}/preauth/`,{params:this.companionKeysParams}).then((e=>{this.preAuthToken=e.token})).catch((e=>{this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${e}`,"warning")})):Promise.resolve()}list(e){return this.get(`${this.id}/list/${e||""}`)}logout(){return this.get(`${this.id}/logout`).then((e=>Promise.all([e,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)]))).then((e=>{let[t]=e;return t}))}static initPlugin(e,t,r){if(e.type="acquirer",e.files=[],r&&(e.opts={...r,...t}),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){const r=t.companionAllowedHosts;if(!("string"==typeof r||Array.isArray(r)||r instanceof RegExp))throw new TypeError(`${e.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);e.opts.companionAllowedHosts=r}else/^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts=`https://${t.companionUrl.replace(/^\/\//,"")}`:e.opts.companionAllowedHosts=new URL(t.companionUrl).origin;e.storage=e.opts.storage||o}}},2368:(e,t,r)=>{"use strict";var i,o,s,n,a;function l(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var p=0;function u(e){return"__private_"+p+++"_"+e}const h=r(6865),d=r(1220);async function c(e){if(401===e.status)throw new d;const t=e.json();if(e.status<200||e.status>300){let r=`Failed request with status: ${e.status}. ${e.statusText}`;try{const e=await t;r=e.message?`${r} message: ${e.message}`:r,r=e.requestId?`${r} request-Id: ${e.requestId}`:r}finally{throw new Error(r)}}return t}function f(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`}function m(e,t){return r=>{var i;if(null==(i=r)||!i.isAuthError){const i=new Error(`Could not ${e} ${l(this,s)[s](t)}`);i.cause=r,r=i}return Promise.reject(r)}}e.exports=(o=u("getPostResponseFunc"),s=u("getUrl"),n=u("errorHandler"),a=i=class e{constructor(e,t){Object.defineProperty(this,n,{value:m}),Object.defineProperty(this,s,{value:f}),Object.defineProperty(this,o,{writable:!0,value:e=>t=>e?t:this.onReceiveResponse(t)}),this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}get hostname(){const{companion:e}=this.uppy.getState(),t=this.opts.companionUrl;return(e&&e[t]?e[t]:t).replace(/\/$/,"")}headers(){const t=this.opts.companionHeaders||{};return Promise.resolve({...e.defaultHeaders,...t})}onReceiveResponse(e){const t=this.uppy.getState().companion||{},r=this.opts.companionUrl,{headers:i}=e;return i.has("i-am")&&i.get("i-am")!==t[r]&&this.uppy.setState({companion:{...t,[r]:i.get("i-am")}}),e}preflight(e){return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(l(this,s)[s](e),{method:"OPTIONS"}).then((e=>(e.headers.has("access-control-allow-headers")&&(this.allowedHeaders=e.headers.get("access-control-allow-headers").split(",").map((e=>e.trim().toLowerCase()))),this.preflightDone=!0,this.allowedHeaders.slice()))).catch((e=>(this.uppy.log(`[CompanionClient] unable to make preflight request ${e}`,"warning"),this.preflightDone=!0,this.allowedHeaders.slice())))}preflightAndHeaders(e){return Promise.all([this.preflight(e),this.headers()]).then((e=>{let[t,r]=e;return Object.keys(r).forEach((e=>{t.includes(e.toLowerCase())||(this.uppy.log(`[CompanionClient] excluding disallowed header ${e}`),delete r[e])})),r}))}get(e,t){return this.preflightAndHeaders(e).then((t=>h(l(this,s)[s](e),{method:"get",headers:t,credentials:this.opts.companionCookiesRule||"same-origin"}))).then(l(this,o)[o](t)).then(c).catch(l(this,n)[n]("get",e))}post(e,t,r){const i="post";return this.preflightAndHeaders(e).then((r=>h(l(this,s)[s](e),{method:i,headers:r,credentials:this.opts.companionCookiesRule||"same-origin",body:JSON.stringify(t)}))).then(l(this,o)[o](r)).then(c).catch(l(this,n)[n](i,e))}delete(e,t,r){const i="delete";return this.preflightAndHeaders(e).then((r=>h(`${this.hostname}/${e}`,{method:i,headers:r,credentials:this.opts.companionCookiesRule||"same-origin",body:t?JSON.stringify(t):null}))).then(l(this,o)[o](r)).then(c).catch(l(this,n)[n](i,e))}},i.VERSION="2.0.4",i.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${i.VERSION}`},a)},3145:(e,t,r)=>{"use strict";const i=r(2368);e.exports=class extends i{constructor(e,t){super(e,t),this.provider=t.provider,this.id=this.provider,this.name=this.opts.name||this.id.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),this.pluginId=this.opts.pluginId}fileUrl(e){return`${this.hostname}/search/${this.id}/get/${e}`}search(e,t){return t=t?`&${t}`:"",this.get(`search/${this.id}/list?q=${encodeURIComponent(e)}${t}`)}}},9906:(e,t,r)=>{"use strict";var i,o,s,n,a;let l,p;function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var h=0;function d(e){return"__private_"+h+++"_"+e}const c=r(4800);e.exports=(i=d("queued"),o=d("emitter"),s=d("isOpen"),n=d("socket"),a=d("handleMessage"),l=Symbol.for("uppy test: getSocket"),p=Symbol.for("uppy test: getQueued"),class{constructor(e){Object.defineProperty(this,i,{writable:!0,value:[]}),Object.defineProperty(this,o,{writable:!0,value:c()}),Object.defineProperty(this,s,{writable:!0,value:!1}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:e=>{try{const t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(e){console.log(e)}}}),this.opts=e,e&&!1===e.autoOpen||this.open()}get isOpen(){return u(this,s)[s]}[l](){return u(this,n)[n]}[p](){return u(this,i)[i]}open(){u(this,n)[n]=new WebSocket(this.opts.target),u(this,n)[n].onopen=()=>{for(u(this,s)[s]=!0;u(this,i)[i].length>0&&u(this,s)[s];){const e=u(this,i)[i].shift();this.send(e.action,e.payload)}},u(this,n)[n].onclose=()=>{u(this,s)[s]=!1},u(this,n)[n].onmessage=u(this,a)[a]}close(){var e;null==(e=u(this,n)[n])||e.close()}send(e,t){u(this,s)[s]?u(this,n)[n].send(JSON.stringify({action:e,payload:t})):u(this,i)[i].push({action:e,payload:t})}on(e,t){u(this,o)[o].on(e,t)}emit(e,t){u(this,o)[o].emit(e,t)}once(e,t){u(this,o)[o].once(e,t)}})},6385:(e,t,r)=>{"use strict";const i=r(2368),o=r(6808),s=r(3145),n=r(9906);e.exports={RequestClient:i,Provider:o,SearchProvider:s,Socket:n}},8871:e=>{"use strict";e.exports.setItem=(e,t)=>new Promise((r=>{localStorage.setItem(e,t),r()})),e.exports.getItem=e=>Promise.resolve(localStorage.getItem(e)),e.exports.removeItem=e=>new Promise((t=>{localStorage.removeItem(e),t()}))},8937:(e,t,r)=>{"use strict";const i=r(3363);e.exports=class{constructor(e,t){void 0===t&&(t={}),this.uppy=e,this.opts=t}getPluginState(){const{plugins:e}=this.uppy.getState();return e[this.id]||{}}setPluginState(e){const{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:{...t,[this.id]:{...t[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(),this.i18nInit()}i18nInit(){const e=new i([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}},4649:(e,t,r)=>{"use strict";function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function s(e){return"__private_"+o+++"_"+e}const{render:n}=r(6400),a=r(2729),l=r(8937);var p=s("updateUI");class u extends l{constructor(){super(...arguments),Object.defineProperty(this,p,{writable:!0,value:void 0})}mount(e,t){const r=t.id,o=a(e);if(o){this.isTargetDOMEl=!0;const t=document.createDocumentFragment();return i(this,p)[p]=function(e){let t=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=o,t||(t=Promise.resolve().then((()=>(t=null,e(...r))))),t}}((e=>{this.uppy.getPlugin(this.id)&&(n(this.render(e),t),this.afterUpdate())})),this.uppy.log(`Installing ${r} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(o.innerHTML=""),n(this.render(this.uppy.getState()),t),this.el=t.firstElementChild,o.appendChild(t),this.onMount(),this.el}let s;if("object"==typeof e&&e instanceof u)s=e;else if("function"==typeof e){const t=e;this.uppy.iteratePlugins((e=>{if(e instanceof t)return s=e,!1}))}if(s)return this.uppy.log(`Installing ${r} to ${s.id}`),this.parent=s,this.el=s.addTarget(t),this.onMount(),this.el;this.uppy.log(`Not installing ${r}`);let l=`Invalid target option given to ${r}.`;throw l+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}update(e){var t,r;null!=this.el&&(null==(t=(r=i(this,p))[p])||t.call(r,e))}unmount(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}onMount(){}onUnmount(){}}e.exports=u},1790:(e,t,r)=>{"use strict";let i,o;function s(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var n=0;function a(e){return"__private_"+n+++"_"+e}const l=r(3363),p=r(4800),{nanoid:u}=r(2961),h=r(3096),d=r(5158),c=r(4193),f=r(6273),m=r(9404),g=r(8744),y=r(8619),v=r(8585),b=r(2008),{justErrorsLogger:w,debugLogger:x}=r(4519),k=r(8998);class P extends Error{constructor(){super(...arguments),this.isRestriction=!0}}"undefined"==typeof AggregateError&&(globalThis.AggregateError=class extends Error{constructor(e,t){super(t),this.errors=e}});class S extends AggregateError{constructor(){super(...arguments),this.isRestriction=!0}}var C=a("plugins"),_=a("storeUnsubscribe"),D=a("emitter"),A=a("preProcessors"),F=a("uploaders"),E=a("postProcessors"),B=a("checkRestrictions"),R=a("checkMinNumberOfFiles"),T=a("checkRequiredMetaFieldsOnFile"),I=a("checkRequiredMetaFields"),O=a("showOrLogErrorAndThrow"),U=a("assertNewUploadAllowed"),M=a("checkAndCreateFileStateObject"),z=a("startIfAutoProceed"),N=a("addListeners"),L=a("updateOnlineStatus"),j=a("createUpload"),H=a("getUpload"),$=a("removeUpload"),q=a("runUpload");i=Symbol.for("uppy test: getPlugins"),o=Symbol.for("uppy test: createUpload");class V{constructor(e){Object.defineProperty(this,q,{value:oe}),Object.defineProperty(this,$,{value:ie}),Object.defineProperty(this,H,{value:re}),Object.defineProperty(this,j,{value:te}),Object.defineProperty(this,N,{value:ee}),Object.defineProperty(this,z,{value:Q}),Object.defineProperty(this,M,{value:J}),Object.defineProperty(this,U,{value:Z}),Object.defineProperty(this,O,{value:K}),Object.defineProperty(this,I,{value:G}),Object.defineProperty(this,T,{value:X}),Object.defineProperty(this,R,{value:Y}),Object.defineProperty(this,B,{value:W}),Object.defineProperty(this,C,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,D,{writable:!0,value:p()}),Object.defineProperty(this,A,{writable:!0,value:new Set}),Object.defineProperty(this,F,{writable:!0,value:new Set}),Object.defineProperty(this,E,{writable:!0,value:new Set}),Object.defineProperty(this,L,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=k;const t={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:e=>e,onBeforeUpload:e=>e,store:f(),logger:w,infoTimeout:5e3};if(this.opts={...t,...e,restrictions:{...t.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=x),this.log(`Using Core v${this.constructor.VERSION}`),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.calculateProgress=h(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:v(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),s(this,_)[_]=this.store.subscribe(((e,t,r)=>{this.emit("state-update",e,t,r),this.updateAll(t)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),s(this,N)[N]()}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];s(this,D)[D].emit(e,...r)}on(e,t){return s(this,D)[D].on(e,t),this}once(e,t){return s(this,D)[D].once(e,t),this}off(e,t){return s(this,D)[D].off(e,t),this}updateAll(e){this.iteratePlugins((t=>{t.update(e)}))}setState(e){this.store.setState(e)}getState(){return this.store.getState()}get state(){return this.getState()}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Can’t set state for ${e} (the file could have been removed)`);this.setState({files:{...this.getState().files,[e]:{...this.getState().files[e],...t}}})}i18nInit(){const e=new l([this.defaultLocale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e&&e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((e=>{e.setOptions()})),this.setState()}resetProgress(){const e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},r={};Object.keys(t).forEach((i=>{const o={...t[i]};o.progress={...o.progress,...e},r[i]=o})),this.setState({files:r,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(e){s(this,A)[A].add(e)}removePreProcessor(e){return s(this,A)[A].delete(e)}addPostProcessor(e){s(this,E)[E].add(e)}removePostProcessor(e){return s(this,E)[E].delete(e)}addUploader(e){s(this,F)[F].add(e)}removeUploader(e){return s(this,F)[F].delete(e)}setMeta(e){const t={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach((t=>{r[t]={...r[t],meta:{...r[t].meta,...e}}})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:r})}setFileMeta(e,t){const r={...this.getState().files};if(!r[e])return void this.log("Was trying to set metadata for a file that has been removed: ",e);const i={...r[e].meta,...t};r[e]={...r[e],meta:i},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getObjectOfFilesPerState(){const{files:e,totalProgress:t,error:r}=this.getState(),i=Object.values(e),o=i.filter((e=>{let{progress:t}=e;return!t.uploadComplete&&t.uploadStarted})),s=i.filter((e=>!e.progress.uploadStarted)),n=i.filter((e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess)),a=i.filter((e=>e.progress.uploadStarted)),l=i.filter((e=>e.isPaused)),p=i.filter((e=>e.progress.uploadComplete)),u=i.filter((e=>e.error)),h=o.filter((e=>!e.isPaused)),d=i.filter((e=>e.progress.preprocess||e.progress.postprocess));return{newFiles:s,startedFiles:n,uploadStartedFiles:a,pausedFiles:l,completeFiles:p,erroredFiles:u,inProgressFiles:o,inProgressNotPausedFiles:h,processingFiles:d,isUploadStarted:a.length>0,isAllComplete:100===t&&p.length===i.length&&0===d.length,isAllErrored:!!r&&u.length===i.length,isAllPaused:0!==o.length&&l.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:i.some((e=>e.isGhost))}}validateRestrictions(e,t){try{return s(this,B)[B](e,t),{result:!0}}catch(e){return{result:!1,reason:e.message}}}checkIfFileAlreadyExists(e){const{files:t}=this.getState();return!(!t[e]||t[e].isGhost)}addFile(e){s(this,U)[U](e);const{files:t}=this.getState();let r=s(this,M)[M](t,e);return t[r.id]&&t[r.id].isGhost&&(r={...t[r.id],data:e.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${r.name}, ${r.id}`)),this.setState({files:{...t,[r.id]:r}}),this.emit("file-added",r),this.emit("files-added",[r]),this.log(`Added file: ${r.name}, ${r.id}, mime type: ${r.type}`),s(this,z)[z](),r.id}addFiles(e){s(this,U)[U]();const t={...this.getState().files},r=[],i=[];for(let o=0;o<e.length;o++)try{let i=s(this,M)[M](t,e[o]);t[i.id]&&t[i.id].isGhost&&(i={...t[i.id],data:e[o].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${i.name}, ${i.id}`)),t[i.id]=i,r.push(i)}catch(e){e.isRestriction||i.push(e)}if(this.setState({files:t}),r.forEach((e=>{this.emit("file-added",e)})),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.keys(r).forEach((e=>{this.log(`Added file: ${r[e].name}\n id: ${r[e].id}\n type: ${r[e].type}`)})),r.length>0&&s(this,z)[z](),i.length>0){let e="Multiple errors occurred while adding files:\n";if(i.forEach((t=>{e+=`\n * ${t.message}`})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:i.length}),details:e},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(i,e);{const t=new Error(e);throw t.errors=i,t}}}removeFiles(e,t){const{files:r,currentUploads:i}=this.getState(),o={...r},s={...i},n=Object.create(null);function a(e){return void 0===n[e]}e.forEach((e=>{r[e]&&(n[e]=r[e],delete o[e])})),Object.keys(s).forEach((e=>{const t=i[e].fileIDs.filter(a);0!==t.length?s[e]={...i[e],fileIDs:t}:delete s[e]}));const l={currentUploads:s,files:o};0===Object.keys(o).length&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),this.calculateTotalProgress();const p=Object.keys(n);p.forEach((e=>{this.emit("file-removed",n[e],t)})),p.length>5?this.log(`Removed ${p.length} files`):this.log(`Removed files: ${p.join(", ")}`)}removeFile(e,t){void 0===t&&(t=null),this.removeFiles([e],t)}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).uploadComplete)return;const t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}pauseAll(){const e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{const r={...e[t],isPaused:!0};e[t]=r})),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{const r={...e[t],isPaused:!1,error:null};e[t]=r})),this.setState({files:e}),this.emit("resume-all")}retryAll(){const e={...this.getState().files},t=Object.keys(e).filter((t=>e[t].error));if(t.forEach((t=>{const r={...e[t],isPaused:!1,error:null};e[t]=r})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});const r=s(this,j)[j](t,{forceAllowNewUpload:!0});return s(this,q)[q](r)}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),t=Object.keys(e);t.length&&this.removeFiles(t,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);const t=s(this,j)[j]([e],{forceAllowNewUpload:!0});return s(this,q)[q](t)}reset(){this.cancelAll()}logout(){this.iteratePlugins((e=>{e.provider&&e.provider.logout&&e.provider.logout()}))}calculateProgress(e,t){if(!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e.id}`);const r=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:r?Math.round(t.bytesUploaded/t.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){const e=this.getFiles().filter((e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});const t=e.filter((e=>null!=e.progress.bytesTotal)),r=e.filter((e=>null==e.progress.bytesTotal));if(0===t.length){const t=100*e.length,i=r.reduce(((e,t)=>e+t.progress.percentage),0),o=Math.round(i/t*100);return void this.setState({totalProgress:o})}let i=t.reduce(((e,t)=>e+t.progress.bytesTotal),0);const o=i/t.length;i+=o*r.length;let s=0;t.forEach((e=>{s+=e.progress.bytesUploaded})),r.forEach((e=>{s+=o*(e.progress.percentage||0)/100}));let n=0===i?0:Math.round(s/i*100);n>100&&(n=100),this.setState({totalProgress:n}),this.emit("progress",n)}updateOnlineStatus(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,t){if("function"!=typeof e){throw new TypeError(`Expected a plugin class, but got ${null===e?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`)}const r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const o=this.getPlugin(i);if(o){const e=`Already found a plugin named '${o.id}'. Tried to use: '${i}'.\nUppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(e)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),r.type in s(this,C)[C]?s(this,C)[C][r.type].push(r):s(this,C)[C][r.type]=[r],r.install(),this}getPlugin(e){for(const t of Object.values(s(this,C)[C])){const r=t.find((t=>t.id===e));if(null!=r)return r}}[i](e){return s(this,C)[C][e]}iteratePlugins(e){Object.values(s(this,C)[C]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const t=s(this,C)[C][e.type],r=t.findIndex((t=>t.id===e.id));-1!==r&&t.splice(r,1);const i={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(i)}close(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.reset(),s(this,_)[_](),this.iteratePlugins((e=>{this.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",s(this,L)[L]),window.removeEventListener("offline",s(this,L)[L]))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t,r){void 0===t&&(t="info"),void 0===r&&(r=3e3);const i="object"==typeof e;this.setState({info:[...this.getState().info,{type:t,message:i?e.message:e,details:i?e.details:null}]}),setTimeout((()=>this.hideInfo()),r),this.emit("info-visible")}log(e,t){const{logger:r}=this.opts;switch(t){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e)}}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?s(this,q)[q](e):(s(this,$)[$](e),Promise.reject(new Error("Nonexistent upload")))}[o](){return s(this,j)[j](...arguments)}addResultData(e,t){if(!s(this,H)[H](e))return void this.log(`Not setting result for an upload that has been removed: ${e}`);const{currentUploads:r}=this.getState(),i={...r[e],result:{...r[e].result,...t}};this.setState({currentUploads:{...r,[e]:i}})}upload(){var e;null!=(e=s(this,C)[C].uploader)&&e.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();const r=this.opts.onBeforeUpload(t);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"==typeof r&&(t=r,this.setState({files:t})),Promise.resolve().then((()=>{s(this,R)[R](t),s(this,I)[I](t)})).catch((e=>{s(this,O)[O](e)})).then((()=>{const{currentUploads:e}=this.getState(),r=Object.values(e).flatMap((e=>e.fileIDs)),i=[];Object.keys(t).forEach((e=>{const t=this.getFile(e);t.progress.uploadStarted||-1!==r.indexOf(e)||i.push(t.id)}));const o=s(this,j)[j](i);return s(this,q)[q](o)})).catch((e=>{s(this,O)[O](e,{showInformer:!1})})))}}function W(e,t){void 0===t&&(t=this.getFiles());const{maxFileSize:r,minFileSize:i,maxTotalFileSize:o,maxNumberOfFiles:s,allowedFileTypes:n}=this.opts.restrictions;if(s&&t.length+1>s)throw new P(`${this.i18n("youCanOnlyUploadX",{smart_count:s})}`);if(n){if(!n.some((t=>t.indexOf("/")>-1?!!e.type&&c(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.substr(1).toLowerCase()))){const e=n.join(", ");throw new P(this.i18n("youCanOnlyUploadFileTypes",{types:e}))}}if(o&&null!=e.size){let r=0;if(r+=e.size,t.forEach((e=>{r+=e.size})),r>o)throw new P(this.i18n("exceedsSize",{size:d(o),file:e.name}))}if(r&&null!=e.size&&e.size>r)throw new P(this.i18n("exceedsSize",{size:d(r),file:e.name}));if(i&&null!=e.size&&e.size<i)throw new P(this.i18n("inferiorSize",{size:d(i)}))}function Y(e){const{minNumberOfFiles:t}=this.opts.restrictions;if(Object.keys(e).length<t)throw new P(`${this.i18n("youHaveToAtLeastSelectX",{smart_count:t})}`)}function X(e){const{requiredMetaFields:t}=this.opts.restrictions,{hasOwnProperty:r}=Object.prototype,i=[],o=[];for(let n=0;n<t.length;n++)if(!r.call(e.meta,t[n])||""===e.meta[t[n]]){const r=new P(`${this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})}`);i.push(r),o.push(t[n]),s(this,O)[O](r,{file:e,showInformer:!1,throwErr:!1})}return this.setFileState(e.id,{missingRequiredMetaFields:o}),i}function G(e){const t=Object.keys(e).flatMap((e=>{const t=this.getFile(e);return s(this,T)[T](t)}));if(t.length)throw new S(t,`${this.i18n("missingRequiredMetaField")}`)}function K(e,t){let{showInformer:r=!0,file:i=null,throwErr:o=!0}=void 0===t?{}:t;const s="object"==typeof e?e.message:e,n="object"==typeof e&&e.details?e.details:"";let a=s;if(n&&(a+=` ${n}`),e.isRestriction?(this.log(a),this.emit("restriction-failed",i,e)):this.log(a,"error"),r&&this.info({message:s,details:n},"error",this.opts.infoTimeout),o)throw"object"==typeof e?e:new Error(e)}function Z(e){const{allowNewUpload:t}=this.getState();!1===t&&s(this,O)[O](new P(this.i18n("noMoreFilesAllowed")),{file:e})}function J(e,t){const r=m(t),i=b(r,t),o=g(i).extension,n=Boolean(t.isRemote),a=y({...t,type:r});if(this.checkIfFileAlreadyExists(a)){const e=new P(this.i18n("noDuplicates",{fileName:i}));s(this,O)[O](e,{file:t})}const l=t.meta||{};l.name=i,l.type=r;const p=Number.isFinite(t.data.size)?t.data.size:null;let u={source:t.source||"",id:a,name:i,extension:o||"",meta:{...this.getState().meta,...l},type:r,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:p,uploadComplete:!1,uploadStarted:null},size:p,isRemote:n,remote:t.remote||"",preview:t.preview};const h=this.opts.onBeforeFileAdded(u,e);!1===h?s(this,O)[O](new P("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,fileDescriptor:t}):"object"==typeof h&&null!==h&&(u=h);try{const t=Object.keys(e).map((t=>e[t]));s(this,B)[B](u,t)}catch(e){s(this,O)[O](e,{file:u})}return u}function Q(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((()=>{this.scheduledAutoProceed=null,this.upload().catch((e=>{e.isRestriction||this.log(e.stack||e.message||e)}))}),4))}function ee(){const e=(e,t,r)=>{let i=e.message||"Unknown error";e.details&&(i+=` ${e.details}`),this.setState({error:i}),null!=t&&t.id in this.getState().files&&this.setFileState(t.id,{error:i,response:r})};this.on("error",e),this.on("upload-error",((t,r,i)=>{if(e(r,t,i),"object"==typeof r&&r.message){const e=new Error(r.message);e.details=r.message,r.details&&(e.details+=` ${r.details}`),e.message=this.i18n("failedToUpload",{file:t.name}),s(this,O)[O](e,{throwErr:!1})}else s(this,O)[O](r,{throwErr:!1})})),this.on("upload",(()=>{this.setState({error:null})})),this.on("upload-started",(e=>{this.getFile(e.id)?this.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):this.log(`Not setting progress for a file that has been removed: ${e.id}`)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",((e,t)=>{if(!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e.id}`);const r=this.getFile(e.id).progress;this.setFileState(e.id,{progress:{...r,postprocess:s(this,E)[E].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal},response:t,uploadURL:t.uploadURL,isPaused:!1}),null==e.size&&this.setFileState(e.id,{size:t.bytesUploaded||r.bytesTotal}),this.calculateTotalProgress()})),this.on("preprocess-progress",((e,t)=>{this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,preprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${e.id}`)})),this.on("preprocess-complete",(e=>{if(!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e.id}`);const t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.preprocess,this.setState({files:t})})),this.on("postprocess-progress",((e,t)=>{this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getState().files[e.id].progress,postprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${e.id}`)})),this.on("postprocess-complete",(e=>{if(!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e.id}`);const t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.postprocess,this.setState({files:t})})),this.on("restored",(()=>{this.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(e=>{e&&s(this,T)[T](e)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",s(this,L)[L]),window.addEventListener("offline",s(this,L)[L]),setTimeout(s(this,L)[L],3e3))}function te(e,t){void 0===t&&(t={});const{forceAllowNewUpload:r=!1}=t,{allowNewUpload:i,currentUploads:o}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const s=u();return this.emit("upload",{id:s,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:{...o,[s]:{fileIDs:e,step:0,result:{}}}}),s}function re(e){const{currentUploads:t}=this.getState();return t[e]}function ie(e){const t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})}async function oe(e){let{currentUploads:t}=this.getState(),r=t[e];const i=r.step||0,o=[...s(this,A)[A],...s(this,F)[F],...s(this,E)[E]];try{for(let s=i;s<o.length&&r;s++){const i=o[s],n={...r,step:s};this.setState({currentUploads:{...t,[e]:n}}),await i(n.fileIDs,e),t=this.getState().currentUploads,r=t[e]}}catch(t){throw this.emit("error",t),s(this,$)[$](e),t}if(r){r.fileIDs.forEach((e=>{const t=this.getFile(e);t&&t.progress.postprocess&&this.emit("postprocess-complete",t)}));const i=r.fileIDs.map((e=>this.getFile(e))),o=i.filter((e=>!e.error)),s=i.filter((e=>e.error));await this.addResultData(e,{successful:o,failed:s,uploadID:e}),t=this.getState().currentUploads,r=t[e]}let n;return r&&(n=r.result,this.emit("complete",n),s(this,$)[$](e)),null==n&&this.log(`Not setting result for an upload that has been removed: ${e}`),n}V.VERSION="2.1.4",e.exports=V},2008:e=>{"use strict";e.exports=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}},9429:(e,t,r)=>{"use strict";const i=r(1790),o=r(4649),s=r(8937),{debugLogger:n}=r(4519);e.exports=i,e.exports.Uppy=i,e.exports.UIPlugin=o,e.exports.BasePlugin=s,e.exports.debugLogger=n},8998:e=>{"use strict";e.exports={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}}},4519:(e,t,r)=>{"use strict";const i=r(6770),o={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.error(`[Uppy] [${i()}]`,...t)}},s={debug:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.debug(`[Uppy] [${i()}]`,...t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.warn(`[Uppy] [${i()}]`,...t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.error(`[Uppy] [${i()}]`,...t)}};e.exports={justErrorsLogger:o,debugLogger:s}},8585:e=>{"use strict";e.exports=function(e){if(null==e&&(e="undefined"!=typeof navigator?navigator.userAgent:null),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const r=t[1];let[i,o]=r.split(".");return i=parseInt(i,10),o=parseInt(o,10),i<15||15===i&&o<15063||(i>18||18===i&&o>=18218)}},6052:(e,t,r)=>{"use strict";let i;const{h:o,Component:s}=r(6400);i=Symbol.for("uppy test: disable unused locale key warning");e.exports=class extends s{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,t)=>o("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:t}),this.renderMyDeviceAcquirer=()=>o("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},o("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},o("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},o("g",{fill:"none",fillRule:"evenodd"},o("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),o("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),o("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderBrowseButton=(e,t)=>{const r=this.props.acquirers.length;return o("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:t,"data-uppy-super-focusable":0===r},e)},this.renderDropPasteBrowseTagline=()=>{const e=this.props.acquirers.length,t=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),r=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),i=this.props.fileManagerSelectionType,s=i.charAt(0).toUpperCase()+i.slice(1);return o("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):e>0?this.props.i18nArray(`dropPasteImport${s}`,{browseFiles:t,browseFolders:r,browse:t}):this.props.i18nArray(`dropPaste${s}`,{browseFiles:t,browseFolders:r,browse:t}))},this.renderAcquirer=e=>o("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},o("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"aria-controls":`uppy-DashboardContent-panel--${e.id}`,"aria-selected":this.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},e.icon(),o("div",{className:"uppy-DashboardTab-name"},e.name))),this.renderAcquirers=(e,t)=>{const r=[...e],i=r.splice(e.length-2,e.length);return o("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!t&&this.renderMyDeviceAcquirer(),r.map((e=>this.renderAcquirer(e))),o("span",{role:"presentation",style:{"white-space":"nowrap"}},i.map((e=>this.renderAcquirer(e)))))}}[i](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:e}=this.props,t=e("poweredBy",{uppy:o("span",null,o("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},o("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),o("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return o("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},t)}render(){return o("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(e=>{this.fileInput=e})),this.renderHiddenInput(!0,(e=>{this.folderInput=e})),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),o("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&o("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}},5808:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(4184),s=r(6052);e.exports=e=>i("div",{className:o("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},i("div",{className:"uppy-DashboardContent-bar"},i("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),i("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1)},e.i18n("back"))),i(s,e))},5519:(e,t,r)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i.apply(this,arguments)}const{h:o}=r(6400),s=r(4184),n=r(3754),a=r(8689),l=r(6052),p=r(5808),u=r(5859),h=r(4477),d=r(7246),c=r(5261),f=r(352);e.exports=function(e){const t=0===e.totalFileCount,r=e.containerWidth>576,m=s({"uppy-Root":e.isTargetDOMEl}),g=s({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>400,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible});let y=1;e.containerWidth>900?y=5:e.containerWidth>700?y=4:e.containerWidth>576&&(y=3);const v=e.showSelectedFiles&&!t,b=e.recoveredState?Object.keys(e.recoveredState.files).length:null,w=e.files?Object.keys(e.files).filter((t=>e.files[t].isGhost)).length:null,x=o("div",{className:g,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&n(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},o("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),o("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:o("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},o("span",{"aria-hidden":"true"},"×")),o("div",{className:"uppy-Dashboard-innerWrap"},o("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),v&&o(d,e),b&&o("div",{className:"uppy-Dashboard-serviceMsg"},o("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},o("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},o("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),o("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),o("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),o("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),o("div",{className:"uppy-Dashboard-serviceMsg-text"},w>0?e.i18n("recoveredXFiles",{smart_count:w}):e.i18n("recoveredAllFiles"))),v?o(a,i({},e,{itemsPerRow:y})):o(l,i({},e,{isSizeMD:r})),o(f,null,e.showAddFilesPanel?o(p,i({key:"AddFiles"},e,{isSizeMD:r})):null),o(f,null,e.fileCardFor?o(c,i({key:"FileCard"},e)):null),o(f,null,e.activePickerPanel?o(u,i({key:"Picker"},e)):null),o(f,null,e.showFileEditor?o(h,i({key:"Editor"},e)):null),o("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((t=>e.uppy.getPlugin(t.id).render(e.state)))))));return o("div",{className:m,dir:e.direction},x)}},4477:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(4184);e.exports=function(e){const t=e.files[e.fileCardFor];return i("div",{className:o("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},i("div",{className:"uppy-DashboardContent-bar"},i("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:i("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),i("button",{className:"uppy-DashboardContent-back",type:"button",onClick:e.hideAllPanels},e.i18n("cancel")),i("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),i("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((t=>e.uppy.getPlugin(t.id).render(e.state)))))}},5261:(e,t,r)=>{"use strict";const{h:i,Component:o}=r(6400),s=r(4184),{nanoid:n}=r(2961),a=r(1882),l=r(8805),p=r(9282);e.exports=class extends o{constructor(e){super(e),this.form=document.createElement("form"),this.updateMeta=(e,t)=>{this.setState((r=>{let{formState:i}=r;return{formState:{...i,[t]:e}}}))},this.handleSave=e=>{e.preventDefault();const t=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,t)},this.handleCancel=()=>{this.props.toggleFileCard(!1)},this.saveOnEnter=e=>{if(13===e.keyCode){e.stopPropagation(),e.preventDefault();const t=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,t.id)}},this.renderMetaFields=()=>{const e=this.getMetaFields()||[],t={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map((e=>{const r=`uppy-Dashboard-FileCard-input-${e.id}`,o=this.props.requiredMetaFields.includes(e.id);return i("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},i("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:r},e.name),void 0!==e.render?e.render({value:this.state.formState[e.id],onChange:t=>this.updateMeta(t,e.id),fieldCSSClasses:t,required:o,form:this.form.id},i):i("input",{className:t.text,id:r,form:this.form.id,type:e.type||"text",required:o,value:this.state.formState[e.id],placeholder:e.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:t=>this.updateMeta(t.target.value,e.id),"data-uppy-super-focusable":!0}))}))};const t=this.props.files[this.props.fileCardFor],r=this.getMetaFields()||[],o={};r.forEach((e=>{o[e.id]=t.meta[e.id]||""})),this.state={formState:o},this.form.id=n()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return"function"==typeof this.props.metaFields?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){const e=this.props.files[this.props.fileCardFor],t=this.props.canEditFile(e);return i("div",{className:s("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:l,onDragLeave:l,onDrop:l,onPaste:l},i("div",{className:"uppy-DashboardContent-bar"},i("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:i("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),i("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),i("div",{className:"uppy-Dashboard-FileCard-inner"},i("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:a(e.type).color}},i(p,{file:e}),t&&i("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:t=>{this.handleSave(t),this.props.openFileEditor(e)},form:this.form.id},this.props.i18n("editFile"))),i("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),i("div",{className:"uppy-Dashboard-FileCard-actions"},i("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),i("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}},6757:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(818);function s(e){let{file:t,uploadInProgressOrComplete:r,metaFields:o,canEditFile:s,i18n:n,onClick:a}=e;return!r&&o&&o.length>0||!r&&s(t)?i("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":n("editFileWithFilename",{file:t.meta.name}),title:n("editFileWithFilename",{file:t.meta.name}),onClick:()=>a()},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},i("g",{fillRule:"evenodd"},i("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),i("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),i("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function n(e){let{i18n:t,onClick:r,file:o}=e;return i("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:o.meta.name}),title:t("removeFile",{file:o.meta.name}),onClick:()=>r()},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},i("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),i("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}function a(e){const{i18n:t}=e;return i("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:t=>((e,t)=>{o(t.file.uploadURL,t.i18n("copyLinkToClipboardFallback")).then((()=>{t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((()=>e.target.focus({preventScroll:!0})))})(t,e)},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},i("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}e.exports=function(e){const{uppy:t,file:r,uploadInProgressOrComplete:o,canEditFile:l,metaFields:p,showLinkToFileUploadResult:u,showRemoveButton:h,i18n:d,toggleFileCard:c,openFileEditor:f}=e;return i("div",{className:"uppy-Dashboard-Item-actionWrapper"},i(s,{i18n:d,file:r,uploadInProgressOrComplete:o,canEditFile:l,metaFields:p,onClick:()=>{p&&p.length>0?c(!0,r.id):f(r)}}),u&&r.uploadURL?i(a,{file:r,uppy:t,i18n:d}):null,h?i(n,{i18n:d,file:r,uppy:t,onClick:()=>e.uppy.removeFile(r.id,"removed-by-user")}):null)}},3844:(e,t,r)=>{"use strict";const{h:i,Fragment:o}=r(6400),s=r(5158),n=r(469),a=r(8092),l=e=>{let{file:t,onClick:r}=e;return t.error?i("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:r,type:"button"},"?"):null};e.exports=function(e){const{file:t}=e;return i("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},i("div",{className:"uppy-Dashboard-Item-fileName"},(e=>{const{author:t,name:r}=e.file.meta;return i("div",{className:"uppy-Dashboard-Item-name",title:r},n(r,e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30))})(e),i(l,{file:e.file,onClick:()=>alert(e.file.error)})),i("div",{className:"uppy-Dashboard-Item-status"},(e=>{const{author:t}=e.file.meta,{providerName:r}=e.file.remote;return t?i("div",{className:"uppy-Dashboard-Item-author"},i("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},n(t.name,13)),r?i(o,null," · ",r):null):null})(e),(e=>e.file.size&&i("div",{className:"uppy-Dashboard-Item-statusSize"},s(e.file.size)))(e),(e=>e.file.isGhost&&i("span",null," • ",i("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect"))))(e)),i(a,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}},6012:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(9282),s=r(8092),n=r(1882);e.exports=function(e){return i("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:n(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&i("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},i("span",{hidden:!0},e.file.meta.name)),i(o,{file:e.file}),i(s,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}},1911:(e,t,r)=>{"use strict";const{h:i}=r(6400);function o(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function s(e){return i("div",{className:"uppy-Dashboard-Item-progress"},i("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":o(e),title:o(e),onClick:()=>function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)},e.children))}function n(e){let{children:t}=e;return i("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function a(e){let{progress:t}=e;const r=2*Math.PI*15;return i("g",null,i("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),i("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*t}))}e.exports=function(e){return e.file.progress.uploadStarted?e.isUploaded?i("div",{className:"uppy-Dashboard-Item-progress"},i("div",{className:"uppy-Dashboard-Item-progressIndicator"},i(n,null,i("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),i("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?i(s,e,i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},i("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),i("path",{d:"M7.9 3H10v2H7.9z"}),i("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),i("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?i(s,e,i(n,null,i(a,{progress:e.file.progress.percentage}),e.file.isPaused?i("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):i("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},i("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),i("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?i("div",{className:"uppy-Dashboard-Item-progress"},i("div",{className:"uppy-Dashboard-Item-progressIndicator"},i(n,null,i(a,{progress:e.file.progress.percentage})))):i(s,e,i(n,null,i(a,{progress:e.file.progress.percentage}),i("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}},8092:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){const{file:t,toggleFileCard:r,i18n:o,metaFields:s}=e,{missingRequiredMetaFields:n}=t;if(null==n||!n.length)return null;const a=n.map((e=>((e,t)=>t.filter((t=>t.id===e))[0].name)(e,s))).join(", ");return i("div",{className:"uppy-Dashboard-Item-errorMessage"},o("missingRequiredMetaFields",{smart_count:n.length,fields:a})," ",i("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,t.id)},o("editFile")))}},5845:(e,t,r)=>{"use strict";const{h:i,Component:o}=r(6400),s=r(4184),n=r(81),a=r(6012),l=r(1911),p=r(3844),u=r(6757);e.exports=class extends o{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!n(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,t=e.progress.preprocess||e.progress.postprocess,r=e.progress.uploadComplete&&!t&&!e.error,o=e.progress.uploadStarted||t,n=e.progress.uploadStarted&&!e.progress.uploadComplete||t,h=e.error||!1,{isGhost:d}=e;let c=(this.props.individualCancellation||!n)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const f=s({"uppy-Dashboard-Item":!0,"is-inprogress":n&&!this.props.recoveredState,"is-processing":t,"is-complete":r,"is-error":!!h,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":d});return i("div",{className:f,id:`uppy_${e.id}`,role:this.props.role},i("div",{className:"uppy-Dashboard-Item-preview"},i(a,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),i(l,{uppy:this.props.uppy,file:e,error:h,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),i("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},i(p,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),i(u,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:o,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}},8689:(e,t,r)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i.apply(this,arguments)}const o=r(4184),{h:s}=r(6400),n=r(5845),a=r(4825);e.exports=e=>{const t=0===e.totalFileCount,r=o("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":t}),l=1===e.itemsPerRow?71:200,p={id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,acquirers:e.acquirers,resumableUploads:e.resumableUploads,individualCancellation:e.individualCancellation,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,recoveredState:e.recoveredState,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail},u=Object.keys(e.files);e.recoveredState&&u.sort(((t,r)=>e.files[r].isGhost-e.files[t].isGhost));const h=function(e,t){const r=[];let i=[];return e.forEach((e=>{i.length<t?i.push(e):(r.push(i),i=[e])})),i.length&&r.push(i),r}(u,e.itemsPerRow);return s(a,{class:r,role:"list",data:h,renderRow:t=>s("div",{role:"presentation",key:t[0]},t.map((t=>s(n,i({key:t,uppy:e.uppy},p,{role:"listitem",openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,file:e.files[t]}))))),rowHeight:l})}},9282:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(1882);e.exports=function(e){const{file:t}=e;if(t.preview)return i("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:r,icon:s}=o(t.type);return i("div",{className:"uppy-Dashboard-Item-previewIconWrap"},i("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r}},s),i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},i("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}},5859:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(4184),s=r(8805);e.exports=function(e){return i("div",{className:o("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.activePickerPanel.id}`,onDragOver:s,onDragLeave:s,onDrop:s,onPaste:s},i("div",{className:"uppy-DashboardContent-bar"},i("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("importFrom",{name:e.activePickerPanel.name})),i("button",{className:"uppy-DashboardContent-back",type:"button",onClick:e.hideAllPanels},e.i18n("cancel"))),i("div",{className:"uppy-DashboardContent-panelBody"},e.uppy.getPlugin(e.activePickerPanel.id).render(e.state)))}},7246:(e,t,r)=>{"use strict";const{h:i}=r(6400),o="error",s="waiting",n="preprocessing",a="uploading",l="postprocessing",p="complete",u="paused";function h(e){switch(function(e,t,r,i){if(void 0===i&&(i={}),e)return o;if(t)return p;if(r)return u;let h=s;const d=Object.keys(i);for(let e=0;e<d.length;e++){const{progress:t}=i[d[e]];if(t.uploadStarted&&!t.uploadComplete)return a;t.preprocess&&h!==a&&(h=n),t.postprocess&&h!==a&&h!==n&&(h=l)}return h}(e.isAllErrored,e.isAllComplete,e.isAllPaused,e.files)){case"uploading":return e.i18n("uploadingXFiles",{smart_count:e.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return e.i18n("processingXFiles",{smart_count:e.processingFiles.length});case"paused":return e.i18n("uploadPaused");case"waiting":return e.i18n("xFilesSelected",{smart_count:e.newFiles.length});case"complete":return e.i18n("uploadComplete")}}e.exports=function(e){let{allowNewUpload:t}=e;return t&&e.maxNumberOfFiles&&(t=e.totalFileCount<e.maxNumberOfFiles),i("div",{className:"uppy-DashboardContent-bar"},e.isAllComplete||e.hideCancelButton?i("div",null):i("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.uppy.cancelAll()},e.i18n("cancel")),i("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i(h,e)),t?i("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e.i18n("addMoreFiles"),title:e.i18n("addMoreFiles"),onClick:()=>e.toggleAddFilesPanel(!0)},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},i("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),i("span",{className:"uppy-DashboardContent-addMoreCaption"},e.i18n("addMore"))):i("div",null))}},352:(e,t,r)=>{"use strict";const{cloneElement:i,Component:o,toChildArray:s}=r(6400),n=r(4184),a="uppy-transition-slideDownUp";e.exports=class extends o{constructor(e){super(e),this.state={cachedChildren:null,className:""}}componentWillUpdate(e){const{cachedChildren:t}=this.state,r=s(e.children)[0];if(t===r)return null;const i={cachedChildren:r};r&&!t&&(i.className=`${a}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((()=>{this.setState({className:`${a}-enter ${a}-enter-active`}),this.enterTimeout=setTimeout((()=>{this.setState({className:""})}),250)}))),t&&!r&&void 0===this.leaveTimeout&&(i.cachedChildren=t,i.className=`${a}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((()=>{this.setState({className:`${a}-leave ${a}-leave-active`}),this.leaveTimeout=setTimeout((()=>{this.setState({cachedChildren:null,className:""})}),250)}))),this.setState(i)}render(){const{cachedChildren:e,className:t}=this.state;return e?i(e,{className:n(t,e.props.className)}):null}}},4825:(e,t,r)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i.apply(this,arguments)}const{h:o,Component:s}=r(6400),n={position:"relative",width:"100%",minHeight:"100%"},a={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};e.exports=class extends s{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){let{data:t,rowHeight:r,renderRow:s,overscanCount:l=10,...p}=e;const{offset:u,height:h}=this.state;let d=Math.floor(u/r),c=Math.floor(h/r);l&&(d=Math.max(0,d-d%l),c+=l);const f=d+c+4,m=t.slice(d,f),g={...n,height:t.length*r},y={...a,top:d*r};return o("div",i({onScroll:this.handleScroll},p),o("div",{role:"presentation",style:g},o("div",{role:"presentation",style:y},m.map(s))))}}},3121:(e,t,r)=>{"use strict";var i,o,s,n,a,l,p,u;function h(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var d=0;function c(e){return"__private_"+d+++"_"+e}const{h:f}=r(6400),{UIPlugin:m}=r(9429),g=r(3215),y=r(873),v=r(7753),b=r(1147),w=r(6361),x=r(4304),k=r(8958),{nanoid:P}=r(2961),S=r(3962),C=r(6673),_=r(845).default||r(845),D=r(9045),A=r(5519),F=r(5233);function E(){const e={};return e.promise=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),e}function B(){return f("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},f("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}e.exports=(o=c("openFileEditorWhenFilesAdded"),s=c("attachRenderFunctionToTarget"),n=c("isTargetSupported"),a=c("getAcquirers"),l=c("getProgressIndicators"),p=c("getEditors"),u=i=class extends m{constructor(e,t){var r;super(e,t),r=this,this.removeTarget=e=>{const t=this.getPluginState().targets.filter((t=>t.id!==e.id));this.setPluginState({targets:t})},this.addTarget=e=>{const t=e.id||e.constructor.name,r=e.title||t,i=e.type;if("acquirer"!==i&&"progressindicator"!==i&&"editor"!==i){const e="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";return void this.uppy.log(e,"error")}const o={id:t,name:r,type:i},s=this.getPluginState().targets.slice();return s.push(o),this.setPluginState({targets:s}),this.el},this.hideAllPanels=()=>{const e=this.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||this.setPluginState(t)},this.showPanel=e=>{const{targets:t}=this.getPluginState(),r=t.filter((t=>"acquirer"===t.type&&t.id===e))[0];this.setPluginState({activePickerPanel:r,activeOverlayType:"PickerPanel"})},this.canEditFile=e=>{const{targets:t}=this.getPluginState();return h(this,p)[p](t).some((t=>this.uppy.getPlugin(t.id).canEditFile(e)))},this.openFileEditor=e=>{const{targets:t}=this.getPluginState(),r=h(this,p)[p](t);this.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),r.forEach((t=>{this.uppy.getPlugin(t.id).selectFile(e)}))},this.saveFileEditor=()=>{const{targets:e}=this.getPluginState();h(this,p)[p](e).forEach((e=>{this.uppy.getPlugin(e.id).save()})),this.hideAllPanels()},this.openModal=()=>{const{promise:e,resolve:t}=E();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const e=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",e,!1),t()};this.el.addEventListener("animationend",e,!1)}else this.setPluginState({isHidden:!1}),t();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),e},this.closeModal=function(e){void 0===e&&(e={});const{manualClose:t=!0}=e,{isHidden:i,isClosing:o}=r.getPluginState();if(i||o)return;const{promise:s,resolve:n}=E();if(r.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),r.opts.animateOpenClose){r.setPluginState({isClosing:!0});const e=()=>{r.setPluginState({isHidden:!0,isClosing:!1}),r.superFocus.cancel(),r.savedActiveElement.focus(),r.el.removeEventListener("animationend",e,!1),n()};r.el.addEventListener("animationend",e,!1)}else r.setPluginState({isHidden:!0}),r.superFocus.cancel(),r.savedActiveElement.focus(),n();var a;(document.removeEventListener("keydown",r.handleKeyDownInModal),t)&&(r.opts.browserBackButtonClose&&null!=(a=history.state)&&a[r.modalName]&&history.back());return r.uppy.emit("dashboard:modal-closed"),s},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=e=>{const{capabilities:t}=this.uppy.getState();this.uppy.setState({capabilities:{...t,darkMode:e}})},this.handleSystemDarkModeChange=e=>{const t=e.matches;this.uppy.log("[Dashboard] Dark mode is "+(t?"on":"off")),this.setDarkModeCapability(t)},this.toggleFileCard=(e,t)=>{const r=this.uppy.getFile(t);e?this.uppy.emit("dashboard:file-edit-start",r):this.uppy.emit("dashboard:file-edit-complete",r),this.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},this.toggleAddFilesPanel=e=>{this.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},this.addFiles=e=>{const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver((e=>{const t=e[0],{width:r,height:i}=t.contentRect;this.uppy.log(`[Dashboard] resized: ${r} / ${i}`,"debug"),this.setPluginState({containerWidth:r,containerHeight:i,areInsidesReadyToBeVisible:!0})})),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((()=>{const e=this.getPluginState(),t=!this.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=e=>{this.el.contains(e.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=e=>{const t=w(this.el.querySelectorAll(D));e?t.forEach((e=>{const t=e.getAttribute("tabindex");t&&(e.dataset.inertTabindex=t),e.setAttribute("tabindex","-1")})):t.forEach((e=>{"inertTabindex"in e.dataset?e.setAttribute("tabindex",e.dataset.inertTabindex):e.removeAttribute("tabindex")})),this.dashboardIsDisabled=e},this.updateBrowserHistory=()=>{var e;null!=(e=history.state)&&e[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=e=>{var t;!this.isModalOpen()||e.state&&e.state[this.modalName]||this.closeModal({manualClose:!1}),!this.isModalOpen()&&null!=(t=e.state)&&t[this.modalName]&&history.back()},this.handleKeyDownInModal=e=>{27===e.keyCode&&this.requestCloseModal(e),9===e.keyCode&&S.forModal(e,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=e=>{this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));const t=w(e.clipboardData.files);t.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(t))},this.handleInputChange=e=>{e.preventDefault();const t=w(e.target.files);t.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(t))},this.handleDragOver=e=>{var t,r;e.preventDefault(),e.stopPropagation();const i=(()=>{let t=!0;return this.uppy.iteratePlugins((r=>{null!=r.canHandleRootDrop&&r.canHandleRootDrop(e)&&(t=!0)})),t})(),o=(()=>{const{types:t}=e.dataTransfer;return t.some((e=>"Files"===e))})();if(!i&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!i)||!this.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(r=this.opts).onDragOver)||t.call(r,e)},this.handleDragLeave=e=>{var t,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{this.setPluginState({isDraggingOver:!1})}),50),null==(t=(r=this.opts).onDragLeave)||t.call(r,e)},this.handleDrop=async e=>{var t,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootDrop||t.handleRootDrop(e))}));let i=!1;const o=await x(e.dataTransfer,{logDropError:e=>{this.uppy.log(e,"error"),i||(this.uppy.info(e.message,"error"),i=!0)}});o.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(o)),null==(t=(r=this.opts).onDrop)||t.call(r,e)},this.handleRequestThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",e)},this.handleCancelThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",e)},this.handleKeyDownInInline=e=>{9===e.keyCode&&S.forInline(e,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=e=>{this.el.contains(document.activeElement)&&this.handlePaste(e)},this.handleComplete=e=>{let{failed:t}=e;this.opts.closeAfterFinish&&0===t.length&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,o,{writable:!0,value:e=>{const t=e[0];this.canEditFile(t)&&this.openFileEditor(t)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const e=b(this.opts.trigger);e?e.forEach((e=>e.addEventListener("click",this.openModal))):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",h(this,o)[o])},this.removeEvents=()=>{const e=b(this.opts.trigger);!this.opts.inline&&e&&e.forEach((e=>e.removeEventListener("click",this.openModal))),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",h(this,o)[o])},this.superFocusOnEachUpdate=()=>{const e=this.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,r=this.uppy.getState().info.isHidden,i=!this.opts.inline;r&&(i||e||t&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{!this.opts.disabled||this.dashboardIsDisabled?(!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()):this.disableAllFocusableElements(!0)},this.saveFileCard=(e,t)=>{this.uppy.setFileMeta(t,e),this.toggleFileCard(!1,t)},Object.defineProperty(this,s,{writable:!0,value:e=>{const t=this.uppy.getPlugin(e.id);return{...e,icon:t.icon||this.opts.defaultPickerIcon,render:t.render}}}),Object.defineProperty(this,n,{writable:!0,value:e=>{const t=this.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}}),Object.defineProperty(this,a,{writable:!0,value:_((e=>e.filter((e=>"acquirer"===e.type&&h(this,n)[n](e))).map(h(this,s)[s])))}),Object.defineProperty(this,l,{writable:!0,value:_((e=>e.filter((e=>"progressindicator"===e.type)).map(h(this,s)[s])))}),Object.defineProperty(this,p,{writable:!0,value:_((e=>e.filter((e=>"editor"===e.type)).map(h(this,s)[s])))}),this.render=e=>{const t=this.getPluginState(),{files:r,capabilities:i,allowNewUpload:o}=e,{newFiles:s,uploadStartedFiles:n,completeFiles:u,erroredFiles:d,inProgressFiles:c,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:g,isAllComplete:y,isAllErrored:v,isAllPaused:b}=this.uppy.getObjectOfFilesPerState(),w=h(this,a)[a](t.targets),x=h(this,l)[l](t.targets),k=h(this,p)[p](t.targets);let P;return P="auto"===this.opts.theme?i.darkMode?"dark":"light":this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),A({state:e,isHidden:t.isHidden,files:r,newFiles:s,uploadStartedFiles:n,completeFiles:u,erroredFiles:d,inProgressFiles:c,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:g,isAllComplete:y,isAllErrored:v,isAllPaused:b,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,allowNewUpload:o,acquirers:w,theme:P,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:t.activePickerPanel,showFileEditor:t.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:t.isClosing,progressindicators:x,editors:k,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:e.recoveredState,metaFields:t.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:t.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:t.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:t.containerWidth,containerHeight:t.containerHeight,areInsidesReadyToBeVisible:t.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:t.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins((e=>{e&&!e.target&&e.opts&&e.opts.target===this.constructor&&this.addTarget(e)}))},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:e,closeAfterFinish:t}=this.opts;if(e&&t)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:r,allowMultipleUploadBatches:i}=this.uppy.opts;(r||i)&&t&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this);(this.opts.plugins||[]).forEach((e=>{const t=this.uppy.getPlugin(e);t&&t.mount(this,t)})),this.opts.disableStatusBar||this.uppy.use(g,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(y,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(v,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const s=!!this.darkModeMediaQuery&&this.darkModeMediaQuery.matches;this.uppy.log("[Dashboard] Dark mode is "+(s?"on":"off")),this.setDarkModeCapability(s),"auto"===this.opts.theme&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const e=this.uppy.getPlugin(`${this.id}:Informer`);e&&this.uppy.removePlugin(e)}if(!this.opts.disableStatusBar){const e=this.uppy.getPlugin(`${this.id}:StatusBar`);e&&this.uppy.removePlugin(e)}if(!this.opts.disableThumbnailGenerator){const e=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);e&&this.uppy.removePlugin(e)}(this.opts.plugins||[]).forEach((e=>{const t=this.uppy.getPlugin(e);t&&t.unmount()})),"auto"===this.opts.theme&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${P()}`,this.defaultLocale=F;const i={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:B,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.reset(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...i,...t},this.i18nInit(),this.superFocus=C(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}onMount(){const e=this.el;k(e)||(e.dir="ltr")}},i.VERSION="2.1.3",u)},5233:e=>{"use strict";e.exports={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}}},818:e=>{"use strict";e.exports=function(e,t){return t=t||"Copy the URL below",new Promise((r=>{const i=document.createElement("textarea");i.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),i.value=e,document.body.appendChild(i),i.select();const o=()=>{document.body.removeChild(i),window.prompt(t,e),r()};try{return document.execCommand("copy")?(document.body.removeChild(i),r()):o()}catch(e){return document.body.removeChild(i),o()}}))}},6673:(e,t,r)=>{"use strict";const i=r(1296),o=r(9045),s=r(6470);e.exports=function(){let e=!1;return i(((t,r)=>{const i=s(t,r),n=i.contains(document.activeElement);if(n&&e)return;const a=i.querySelector("[data-uppy-super-focusable]");if(!n||a)if(a)a.focus({preventScroll:!0}),e=!0;else{const t=i.querySelector(o);null==t||t.focus({preventScroll:!0}),e=!1}}),260)}},6470:e=>{"use strict";e.exports=function(e,t){if(t){const r=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(r)return r}return e}},1882:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){const t={color:"#838999",icon:i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("g",{fill:"#A7AFB7",fillRule:"nonzero"},i("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),i("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;const r=e.split("/")[0],o=e.split("/")[1];if("text"===r)return{color:"#5a5e69",icon:i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))};if("image"===r)return{color:"#686de0",icon:i("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},i("g",{fill:"#686DE0",fillRule:"evenodd"},i("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),i("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),i("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===r)return{color:"#068dbb",icon:i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))};if("video"===r)return{color:"#19af67",icon:i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))};if("application"===r&&"pdf"===o)return{color:"#e25149",icon:i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))};return"application"===r&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(o)?{color:"#00C469",icon:i("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t}},8805:e=>{"use strict";e.exports=function(e){const{tagName:t}=e.target;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()}},3962:(e,t,r)=>{"use strict";const i=r(6361),o=r(9045),s=r(6470);function n(e,t){const r=t[0];r&&(r.focus(),e.preventDefault())}function a(e,t,r){const a=s(r,t),l=i(a.querySelectorAll(o)),p=l.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(a)?n(e,l):e.shiftKey&&0===p?function(e,t){const r=t[t.length-1];r&&(r.focus(),e.preventDefault())}(e,l):e.shiftKey||p!==l.length-1||n(e,l)}e.exports={forModal:(e,t,r)=>{a(e,t,r)},forInline:(e,t,r)=>{null===t||a(e,t,r)}}},6129:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),n=r(6361),a=r(3754),l=r(4304),{h:p}=r(6400),u=r(2577);e.exports=(o=i=class e extends s{constructor(e,t){super(e,t),this.handleDrop=async e=>{var t,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});const i=await l(e.dataTransfer,{logDropError:e=>{this.uppy.log(e,"error")}});i.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(i)),null==(t=(r=this.opts).onDrop)||t.call(r,e)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=u;this.opts={target:null,inputName:"files[]",width:"100%",height:"100%",note:null,...t},this.i18nInit(),this.isDragDropSupported=a(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(e){const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}}onInputChange(e){const t=n(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}handleDragOver(e){var t,r;e.preventDefault(),e.stopPropagation();const{types:i}=e.dataTransfer,o=i.some((e=>"Files"===e)),{allowNewUpload:s}=this.uppy.getState();if(!o||!s)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(r=this.opts).onDragOver)||t.call(r,e)}handleDragLeave(e){var t,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{this.setPluginState({isDraggingOver:!1})}),50),null==(t=(r=this.opts).onDragLeave)||t.call(r,e)}renderHiddenFileInput(){const{restrictions:e}=this.uppy.opts;return p("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:e=>{this.fileInputRef=e},name:this.opts.inputName,multiple:1!==e.maxNumberOfFiles,accept:e.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},p("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return p("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:p("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return p("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const t=`uppy-Root\n      uppy-u-reset\n      uppy-DragDrop-container\n      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}\n      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}\n    `,r={width:this.opts.width,height:this.opts.height};return p("button",{type:"button",className:t,style:r,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),p("div",{className:"uppy-DragDrop-inner"},e.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}},i.VERSION="2.0.6",o)},2577:e=>{"use strict";e.exports={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}}},1298:(e,t,r)=>{"use strict";var i,o;const s=r(8937),n=r(4304),a=r(6361);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.addFiles=e=>{const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}},this.handleDrop=async e=>{var t,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),e.currentTarget.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1}),this.uppy.log("[DropTarget] Files were dropped");const i=await n(e.dataTransfer,{logDropError:e=>{this.uppy.log(e,"error")}});this.addFiles(i),null==(t=(r=this.opts).onDrop)||t.call(r,e)},this.handleDragOver=e=>{var t,r;e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),e.currentTarget.classList.add("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!0}),null==(t=(r=this.opts).onDragOver)||t.call(r,e)},this.handleDragLeave=e=>{var t,r;e.preventDefault(),e.stopPropagation();const{currentTarget:i}=e;clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{i.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1})}),50),null==(t=(r=this.opts).onDragLeave)||t.call(r,e)},this.addListeners=()=>{const{target:e}=this.opts;if(e instanceof Element?this.nodes=[e]:"string"==typeof e&&(this.nodes=a(document.querySelectorAll(e))),!this.nodes&&!this.nodes.length>0)throw new Error(`"${e}" does not match any HTML elements`);this.nodes.forEach((e=>{e.addEventListener("dragover",this.handleDragOver,!1),e.addEventListener("dragleave",this.handleDragLeave,!1),e.addEventListener("drop",this.handleDrop,!1)}))},this.removeListeners=()=>{this.nodes&&this.nodes.forEach((e=>{e.removeEventListener("dragover",this.handleDragOver,!1),e.removeEventListener("dragleave",this.handleDragLeave,!1),e.removeEventListener("drop",this.handleDrop,!1)}))},this.type="acquirer",this.id=this.opts.id||"DropTarget",this.title="Drop Target";this.opts={target:null,...t},this.removeDragOverClassTimeout=null}install(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}uninstall(){this.removeListeners()}},i.VERSION="1.1.1",o)},8602:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{Provider:n}=r(6385),{ProviderViews:a}=r(7792),{h:l}=r(6400),p=r(2220);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"Dropbox",n.initPlugin(this,t),this.title=this.opts.title||"Dropbox",this.icon=()=>l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},l("g",{fill:"none",fillRule:"evenodd"},l("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),l("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new n(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"dropbox",pluginId:this.id}),this.defaultLocale=p,this.i18nInit(),this.title=this.i18n("pluginNameDropbox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new a(this,{provider:this.provider});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){return this.view.render(e)}},i.VERSION="2.0.5",o)},2220:e=>{"use strict";e.exports={strings:{pluginNameDropbox:"Dropbox"}}},6669:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{Provider:n}=r(6385),{ProviderViews:a}=r(7792),{h:l}=r(6400),p=r(1807);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"Facebook",n.initPlugin(this,t),this.title=this.opts.title||"Facebook",this.icon=()=>l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},l("g",{fill:"none",fillRule:"evenodd"},l("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),l("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new n(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"facebook",pluginId:this.id}),this.defaultLocale=p,this.i18nInit(),this.title=this.i18n("pluginNameFacebook"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new a(this,{provider:this.provider});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){const t={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(t.viewType="grid",t.showFilter=!1,t.showTitles=!1),this.view.render(e,t)}},i.VERSION="2.0.5",o)},1807:e=>{"use strict";e.exports={strings:{pluginNameFacebook:"Facebook"}}},6262:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),n=r(6361),{h:a}=r(6400),l=r(113);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=l;this.opts={target:null,pretty:!0,inputName:"files[]",...t},this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(e){const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}}handleInputChange(e){this.uppy.log("[FileInput] Something selected through input...");const t=n(e.target.files);this.addFiles(t),e.target.value=null}handleClick(){this.input.click()}render(){const{restrictions:e}=this.uppy.opts,t=e.allowedFileTypes?e.allowedFileTypes.join(","):null;return a("div",{className:"uppy-Root uppy-FileInput-container"},a("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==e.maxNumberOfFiles,accept:t,ref:e=>{this.input=e}}),this.opts.pretty&&a("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}},i.VERSION="2.0.5",o)},113:e=>{"use strict";e.exports={strings:{chooseFiles:"Choose files"}}},8682:(e,t,r)=>{"use strict";var i,o;const s=r(8937),n=r(2729),a=r(6361),l=r(8864).default||r(8864);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.type="acquirer",this.id=this.opts.id||"Form",this.title="Form";this.opts={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1,...t},this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleUploadStart=this.handleUploadStart.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.addResultToForm=this.addResultToForm.bind(this),this.getMetaFromForm=this.getMetaFromForm.bind(this)}handleUploadStart(){this.opts.getMetaFromForm&&this.getMetaFromForm()}handleSuccess(e){this.opts.addResultToForm&&this.addResultToForm(e),this.opts.submitOnSuccess&&this.form.submit()}handleFormSubmit(e){if(this.opts.triggerUploadOnSubmit){e.preventDefault();const t=a(e.target.elements),r=[];t.forEach((e=>{("BUTTON"===e.tagName||"INPUT"===e.tagName&&"submit"===e.type)&&!e.disabled&&(e.disabled=!0,r.push(e))})),this.uppy.upload().then((()=>{r.forEach((e=>{e.disabled=!1}))}),(e=>(r.forEach((e=>{e.disabled=!1})),Promise.reject(e)))).catch((e=>{this.uppy.log(e.stack||e.message||e)}))}}addResultToForm(e){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(e);let t=this.form.querySelector(`[name="${this.opts.resultName}"]`);if(t){let r;try{r=JSON.parse(t.value)}catch(e){}return Array.isArray(r)||(r=[]),r.push(e),void(t.value=JSON.stringify(r))}t=document.createElement("input"),t.name=this.opts.resultName,t.type="hidden",t.value=JSON.stringify([e]),this.form.appendChild(t)}getMetaFromForm(){const e=l(this.form);delete e[this.opts.resultName],this.uppy.setMeta(e)}install(){this.form=n(this.opts.target),this.form&&"FORM"===this.form.nodeName?(this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)):this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error")}uninstall(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}},i.VERSION="2.0.4",o)},9331:e=>{"use strict";const t="undefined"!=typeof window&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),r=!!t,i="uppy-blobs",o="files",s=864e5;function n(e){const r=t.open(e,3);return new Promise(((e,t)=>{r.onupgradeneeded=t=>{const r=t.target.result,{transaction:i}=t.currentTarget;if(t.oldVersion<2){r.createObjectStore(o,{keyPath:"id"}).createIndex("store","store",{unique:!1})}if(t.oldVersion<3){const e=i.objectStore(o);e.createIndex("expires","expires",{unique:!1}),function(e){e.openCursor().onsuccess=e=>{const t=e.target.result;if(!t)return;const r=t.value;r.expires=Date.now()+s,t.update(r)}}(e)}i.oncomplete=()=>{e(r)}},r.onsuccess=t=>{e(t.target.result)},r.onerror=t}))}function a(e){return new Promise(((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=r}))}let l=!1;class p{constructor(e){this.opts={dbName:i,storeName:"default",expires:s,maxFileSize:10485760,maxTotalSize:314572800,...e},this.name=this.opts.storeName;const t=()=>n(this.opts.dbName);l?this.ready=t():(l=!0,this.ready=p.cleanup().then(t,t))}key(e){return`${this.name}!${e}`}list(){return this.ready.then((e=>a(e.transaction([o],"readonly").objectStore(o).index("store").getAll(IDBKeyRange.only(this.name))))).then((e=>{const t={};return e.forEach((e=>{t[e.fileID]=e.data})),t}))}get(e){return this.ready.then((t=>a(t.transaction([o],"readonly").objectStore(o).get(this.key(e))))).then((e=>({id:e.data.fileID,data:e.data.data})))}getSize(){return this.ready.then((e=>{const t=e.transaction([o],"readonly").objectStore(o).index("store").openCursor(IDBKeyRange.only(this.name));return new Promise(((e,r)=>{let i=0;t.onsuccess=t=>{const r=t.target.result;r?(i+=r.value.data.size,r.continue()):e(i)},t.onerror=()=>{r(new Error("Could not retrieve stored blobs size"))}}))}))}put(e){return e.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then((e=>e>this.opts.maxTotalSize?Promise.reject(new Error("No space left")):this.ready)).then((t=>a(t.transaction([o],"readwrite").objectStore(o).add({id:this.key(e.id),fileID:e.id,store:this.name,expires:Date.now()+this.opts.expires,data:e.data}))))}delete(e){return this.ready.then((t=>a(t.transaction([o],"readwrite").objectStore(o).delete(this.key(e)))))}static cleanup(){return n(i).then((e=>{const t=e.transaction([o],"readwrite").objectStore(o).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(((r,i)=>{t.onsuccess=t=>{const i=t.target.result;i?(i.delete(),i.continue()):r(e)},t.onerror=i}))})).then((e=>{e.close()}))}}p.isSupported=r,e.exports=p},434:e=>{"use strict";function t(e){try{return JSON.parse(e)}catch(e){return null}}let r=!1;e.exports=class e{constructor(t){this.opts={expires:864e5,...t},this.name=`uppyState:${t.storeName}`,r||(r=!0,e.cleanup())}load(){const e=localStorage.getItem(this.name);if(!e)return null;const r=t(e);return r?r.metadata?r.metadata:(this.save(r),r):null}save(e){const t=Date.now()+this.opts.expires,r=JSON.stringify({metadata:e,expires:t});localStorage.setItem(this.name,r)}static cleanup(e){if(e)return void localStorage.removeItem(`uppyState:${e}`);const r=function(){const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);/^uppyState:/.test(r)&&e.push(r.slice("uppyState:".length))}return e}(),i=Date.now();r.forEach((e=>{const r=localStorage.getItem(`uppyState:${e}`);if(!r)return null;const o=t(r);if(!o)return null;o.expires&&o.expires<i&&localStorage.removeItem(`uppyState:${e}`)}))}}},1908:e=>{"use strict";const t="undefined"!=typeof navigator&&"serviceWorker"in navigator;class r{constructor(e){this.ready=new Promise(((e,r)=>{t?navigator.serviceWorker.controller?e():navigator.serviceWorker.addEventListener("controllerchange",(()=>{e()})):r(new Error("Unsupported"))})),this.name=e.storeName}list(){const e={},t=new Promise(((t,r)=>{e.resolve=t,e.reject=r}));console.log("Loading stored blobs from Service Worker");const r=t=>{if(t.data.store===this.name)if("uppy/ALL_FILES"===t.data.type)e.resolve(t.data.files),navigator.serviceWorker.removeEventListener("message",r);else e.reject()};return this.ready.then((()=>{navigator.serviceWorker.addEventListener("message",r),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:this.name})})),t}put(e){return this.ready.then((()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:this.name,file:e})}))}delete(e){return this.ready.then((()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:this.name,fileID:e})}))}}r.isSupported=t,e.exports=r},1419:(e,t,r)=>{"use strict";var i,o;const s=r(3096),n=r(8937),a=r(1908),l=r(9331),p=r(434);e.exports=(o=i=class extends n{constructor(e,t){super(e,t),this.addBlobToStores=e=>{e.isRemote||(this.ServiceWorkerStore&&this.ServiceWorkerStore.put(e).catch((e=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(e)})),this.IndexedDBStore.put(e).catch((e=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(e)})))},this.removeBlobFromStores=e=>{this.ServiceWorkerStore&&this.ServiceWorkerStore.delete(e.id).catch((e=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(e)})),this.IndexedDBStore.delete(e.id).catch((e=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(e)}))},this.replaceBlobInStores=e=>{this.removeBlobFromStores(e),this.addBlobToStores(e)},this.handleRestoreConfirmed=()=>{this.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");const{currentUploads:e}=this.uppy.getState();e&&(Object.keys(e).forEach((t=>{this.uppy.restore(t,e[t])})),this.uppy.resumeAll()),this.uppy.upload(),this.uppy.setState({recoveredState:null})},this.abortRestore=()=>{this.uppy.log("[GoldenRetriever] Aborting restore...");const e=Object.keys(this.uppy.getState().files);this.deleteBlobs(e).then((()=>{this.uppy.log(`[GoldenRetriever] Removed ${e.length} files`)})).catch((t=>{this.uppy.log(`[GoldenRetriever] Could not remove ${e.length} files`,"warning"),this.uppy.log(t)})),this.uppy.cancelAll(),this.uppy.setState({recoveredState:null}),p.cleanup(this.uppy.opts.id)},this.handleComplete=e=>{let{successful:t}=e;const r=t.map((e=>e.id));this.deleteBlobs(r).then((()=>{this.uppy.log(`[GoldenRetriever] Removed ${t.length} files that finished uploading`)})).catch((e=>{this.uppy.log(`[GoldenRetriever] Could not remove ${t.length} files that finished uploading`,"warning"),this.uppy.log(e)})),this.uppy.setState({recoveredState:null}),p.cleanup(this.uppy.opts.id)},this.restoreBlobs=()=>{this.uppy.getFiles().length>0?Promise.all([this.loadFileBlobsFromServiceWorker(),this.loadFileBlobsFromIndexedDB()]).then((e=>{const t={...e[0],...e[1]};this.onBlobsLoaded(t)})):(this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),this.onBlobsLoaded([]))},this.type="debugger",this.id=this.opts.id||"GoldenRetriever",this.title="Golden Retriever";this.opts={expires:864e5,serviceWorker:!1,...t},this.MetaDataStore=new p({expires:this.opts.expires,storeName:e.getID()}),this.ServiceWorkerStore=null,this.opts.serviceWorker&&(this.ServiceWorkerStore=new a({storeName:e.getID()})),this.IndexedDBStore=new l({expires:this.opts.expires,...this.opts.indexedDB||{},storeName:e.getID()}),this.saveFilesStateToLocalStorage=s(this.saveFilesStateToLocalStorage.bind(this),500,{leading:!0,trailing:!0}),this.restoreState=this.restoreState.bind(this),this.loadFileBlobsFromServiceWorker=this.loadFileBlobsFromServiceWorker.bind(this),this.loadFileBlobsFromIndexedDB=this.loadFileBlobsFromIndexedDB.bind(this),this.onBlobsLoaded=this.onBlobsLoaded.bind(this)}restoreState(){const e=this.MetaDataStore.load();e&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:e.currentUploads||{},files:e.files||{},recoveredState:e}),this.savedPluginData=e.pluginData)}getWaitingFiles(){const e={};return this.uppy.getFiles().forEach((t=>{t.progress&&t.progress.uploadStarted||(e[t.id]=t)})),e}getUploadingFiles(){const e={},{currentUploads:t}=this.uppy.getState();if(t){Object.keys(t).forEach((r=>{t[r].fileIDs.forEach((t=>{e[t]=this.uppy.getFile(t)}))}))}return e}saveFilesStateToLocalStorage(){const e={...this.getWaitingFiles(),...this.getUploadingFiles()};if(0===Object.keys(e).length)return this.uppy.setState({recoveredState:null}),void p.cleanup(this.uppy.opts.id);const t={};Object.keys(e).forEach((r=>{e[r].isRemote?t[r]={...e[r],isRestored:!0}:t[r]={...e[r],isRestored:!0,data:null,preview:null}}));const r={};this.uppy.emit("restore:get-data",(e=>{Object.assign(r,e)}));const{currentUploads:i}=this.uppy.getState();this.MetaDataStore.save({currentUploads:i,files:t,pluginData:r})}loadFileBlobsFromServiceWorker(){return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then((e=>{const t=this.uppy.getFiles().filter((e=>!e.isRemote)),r=Object.keys(e).length;return r===t.length?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${r} blobs from Service Worker!`),e):(this.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})})).catch((e=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),this.uppy.log(e),{}))):Promise.resolve({})}loadFileBlobsFromIndexedDB(){return this.IndexedDBStore.list().then((e=>{const t=Object.keys(e).length;return t>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${t} blobs from IndexedDB!`),e):(this.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})})).catch((e=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),this.uppy.log(e),{})))}onBlobsLoaded(e){const t=[],r={...this.uppy.getState().files};Object.keys(e).forEach((i=>{const o=this.uppy.getFile(i);if(!o)return void t.push(i);const s={data:e[i],isRestored:!0,isGhost:!1};r[i]={...o,...s}})),Object.keys(r).forEach((e=>{null===r[e].data&&(r[e]={...r[e],isGhost:!0})})),this.uppy.setState({files:r}),this.uppy.emit("restored",this.savedPluginData),t.length&&this.deleteBlobs(t).then((()=>{this.uppy.log(`[GoldenRetriever] Cleaned up ${t.length} old files`)})).catch((e=>{this.uppy.log(`[GoldenRetriever] Could not clean up ${t.length} old files`,"warning"),this.uppy.log(e)}))}deleteBlobs(e){const t=[];return e.forEach((e=>{this.ServiceWorkerStore&&t.push(this.ServiceWorkerStore.delete(e)),this.IndexedDBStore&&t.push(this.IndexedDBStore.delete(e))})),Promise.all(t)}install(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}uninstall(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}},i.VERSION="2.0.6",o)},1291:(e,t,r)=>{"use strict";const{ProviderViews:i}=r(7792);e.exports=class extends i{toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),t.custom.isSharedDrive||super.toggleCheckbox(e,t)}}},9270:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{Provider:n}=r(6385),{h:a}=r(6400),l=r(1291),p=r(6988);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"GoogleDrive",this.title=this.opts.title||"Google Drive",n.initPlugin(this,t),this.title=this.opts.title||"Google Drive",this.icon=()=>a("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},a("g",{fill:"none",fillRule:"evenodd"},a("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),a("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"}))),this.provider=new n(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"drive",pluginId:this.id}),this.defaultLocale=p,this.i18nInit(),this.title=this.i18n("pluginNameGoogleDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new l(this,{provider:this.provider});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}render(e){return this.view.render(e)}},i.VERSION="2.0.5",o)},6988:e=>{"use strict";e.exports={strings:{pluginNameGoogleDrive:"Google Drive"}}},9763:(e,t,r)=>{"use strict";const i=r(3129),{h:o,Component:s}=r(6400),n=i.__esModule?i.default:i;e.exports=class extends s{constructor(e){super(e),this.granularRotateOnChange=e=>{const{rotationAngle:t,rotationDelta:r}=this.state,i=Number(e.target.value)-r;if(cancelAnimationFrame(this.granularRotateOnInputNextFrame),0!==i){const e=t+i;this.granularRotateOnInputNextFrame=requestAnimationFrame((()=>{this.cropper.rotateTo(e)}))}},this.state={rotationAngle:0,rotationDelta:0}}componentDidMount(){const{opts:e,storeCropperInstance:t}=this.props;this.cropper=new n(this.imgElement,e.cropperOptions),t(this.cropper),e.actions.granularRotate&&this.imgElement.addEventListener("crop",(e=>{const t=e.detail.rotate;this.setState({rotationAngle:t,rotationDelta:(t+405)%90-45})}))}componentWillUnmount(){this.cropper.destroy()}renderGranularRotate(){const{i18n:e}=this.props,{rotationDelta:t,rotationAngle:r}=this.state;return o("label",{"data-microtip-position":"top",role:"tooltip","aria-label":`${r}º`,className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},o("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:t,min:"-45",max:"44","aria-label":e("rotate")}))}renderRevert(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("revert"),"data-microtip-position":"top",onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(0)}},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},o("path",{d:"M0 0h24v24H0z",fill:"none"}),o("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}renderRotate(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.rotate(-90),"aria-label":e("rotate"),"data-microtip-position":"top"},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},o("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),o("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}renderFlip(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("flipHorizontal"),"data-microtip-position":"top",onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},o("path",{d:"M0 0h24v24H0z",fill:"none"}),o("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}renderZoomIn(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("zoomIn"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(.1)},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},o("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}renderZoomOut(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("zoomOut"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(-.1)},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},o("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}renderCropSquare(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioSquare"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(1)},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},o("path",{d:"M0 0h24v24H0z",fill:"none"}),o("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}renderCropWidescreen(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioLandscape"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(16/9)},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},o("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),o("path",{fill:"none",d:"M0 0h24v24H0z"})))}renderCropWidescreenVertical(){const{i18n:e}=this.props;return o("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioPortrait"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(9/16)},o("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},o("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),o("path",{d:"M0 0h24v24H0z",fill:"none"})))}render(){const{currentImage:e,opts:t}=this.props,{actions:r}=t,i=URL.createObjectURL(e.data);return o("div",{className:"uppy-ImageCropper"},o("div",{className:"uppy-ImageCropper-container"},o("img",{className:"uppy-ImageCropper-image",alt:e.name,src:i,ref:e=>{this.imgElement=e}})),o("div",{className:"uppy-ImageCropper-controls"},r.revert&&this.renderRevert(),r.rotate&&this.renderRotate(),r.granularRotate&&this.renderGranularRotate(),r.flip&&this.renderFlip(),r.zoomIn&&this.renderZoomIn(),r.zoomOut&&this.renderZoomOut(),r.cropSquare&&this.renderCropSquare(),r.cropWidescreen&&this.renderCropWidescreen(),r.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}},8919:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{h:n}=r(6400),a=r(9763),l=r(8452);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.save=()=>{const{currentImage:e}=this.getPluginState();this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob((e=>{const{currentImage:t}=this.getPluginState();this.uppy.setFileState(t.id,{data:e,size:e.size,preview:null});const r=this.uppy.getFile(t.id);this.uppy.emit("thumbnail:request",r),this.setPluginState({currentImage:r}),this.uppy.emit("file-editor:complete",r)}),e.type,this.opts.quality)},this.storeCropperInstance=e=>{this.cropper=e},this.selectFile=e=>{this.uppy.emit("file-editor:start",e),this.setPluginState({currentImage:e})},this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=l;this.opts={quality:.8,...t,actions:{revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0,...t.actions},cropperOptions:{viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{},...t.cropperOptions}},this.i18nInit()}canEditFile(e){if(!e.type||e.isRemote)return!1;const t=e.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(t)}install(){this.setPluginState({currentImage:null});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}render(){const{currentImage:e}=this.getPluginState();return null===e||e.isRemote?null:n(a,{currentImage:e,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}},i.VERSION="1.1.1",o)},8452:e=>{"use strict";e.exports={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}}},1623:(e,t,r)=>{"use strict";const{h:i,Component:o,createRef:s}=r(6400);e.exports=class extends o{constructor(){super(...arguments),this.ref=s()}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}render(){const{children:e}=this.props;return i("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}},6455:(e,t,r)=>{"use strict";const{Component:i,cloneElement:o,h:s,toChildArray:n}=r(6400);function a(e,t){const r=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return r[t]||(r[t]=r=>{e.refs[t]=r})}function l(e){const t={};for(let s=0;s<e.length;s++)if(null!=e[s]){t[(r=e[s],i=s.toString(36),o=void 0,null!=(o=null==r?void 0:r.key)?o:i)]=e[s]}var r,i,o;return t}function p(e,t){e=e||{},t=t||{};const r=r=>t.hasOwnProperty(r)?t[r]:e[r],i={};let o=[];for(const r in e)t.hasOwnProperty(r)?o.length&&(i[r]=o,o=[]):o.push(r);const s={};for(const e in t){if(i.hasOwnProperty(e))for(let t=0;t<i[e].length;t++){const o=i[e][t];s[i[e][t]]=r(o)}s[e]=r(e)}for(let e=0;e<o.length;e++)s[o[e]]=r(o[e]);return s}class u extends i{constructor(e,t){super(e,t),this.refs={},this.state={children:l(n(n(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const t in e)e[t]&&this.performAppear(t)}componentWillReceiveProps(e){const t=l(n(e.children)||[]),r=this.state.children;let i;for(i in this.setState((e=>({children:p(e.children,t)}))),t)if(t.hasOwnProperty(i)){const e=r&&r.hasOwnProperty(i);t[i]&&e&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):!t[i]||e||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in r)if(r.hasOwnProperty(i)){const e=t&&t.hasOwnProperty(i);!r[i]||e||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:t}=this;this.keysToLeave=[],t.forEach(this.performLeave)}_finishAbort(e){const t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=l(n(this.props.children)||[]);r&&r.hasOwnProperty(e)||this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=l(n(this.props.children)||[]);r&&r.hasOwnProperty(e)||this.performLeave(e)}performLeave(e){if(-1!==this.keysToAbortLeave.indexOf(e))return;this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(-1!==this.keysToAbortLeave.indexOf(e))return;const t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const r=l(n(this.props.children)||[]);if(r&&r.hasOwnProperty(e))this.performEnter(e);else{const t=(i={},o=this.state.children,Object.assign(i,o));delete t[e],this.setState({children:t})}var i,o}render(e,t){let{childFactory:r,transitionLeave:i,transitionName:n,transitionAppear:l,transitionEnter:p,transitionLeaveTimeout:u,transitionEnterTimeout:h,transitionAppearTimeout:d,component:c,...f}=e,{children:m}=t;const g=[];for(const e in m)if(m.hasOwnProperty(e)){const t=m[e];if(t){const i=a(this,e),s=o(r(t),{ref:i,key:e});g.push(s)}}return s(c,f,g)}}u.defaultProps={component:"span",childFactory:e=>e},e.exports=u},873:(e,t,r)=>{"use strict";var i,o;const{h:s}=r(6400),{UIPlugin:n}=r(9429),a=r(1623),l=r(6455);e.exports=(o=i=class extends n{constructor(e,t){super(e,t),this.render=e=>s("div",{className:"uppy uppy-Informer"},s(l,null,e.info.map((e=>s(a,{key:e.message},s("p",{role:"alert"},e.message," ",e.details&&s("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${e.message} \n\n ${e.details}`)},"?"))))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";this.opts={...t}}install(){const{target:e}=this.opts;e&&this.mount(e,this)}},i.VERSION="2.0.5",o)},3885:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{Provider:n}=r(6385),{ProviderViews:a}=r(7792),{h:l}=r(6400),p=r(2029);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"Instagram",n.initPlugin(this,t),this.icon=()=>l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},l("g",{fill:"none",fillRule:"evenodd"},l("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),l("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"}))),this.defaultLocale=p,this.i18nInit(),this.title=this.i18n("pluginNameInstagram"),this.provider=new n(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"instagram",pluginId:this.id}),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new a(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}render(e){return this.view.render(e)}},i.VERSION="2.0.5",o)},2029:e=>{"use strict";e.exports={strings:{pluginNameInstagram:"Instagram"}}},6178:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{Provider:n}=r(6385),{ProviderViews:a}=r(7792),{h:l}=r(6400),p=r(3750);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"OneDrive",n.initPlugin(this,t),this.title=this.opts.title||"OneDrive",this.icon=()=>l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},l("g",{fill:"none",fillRule:"evenodd"},l("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),l("g",{fill:"#FFF",fillRule:"nonzero"},l("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),l("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"})))),this.provider=new n(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"onedrive",pluginId:this.id}),this.defaultLocale=p,this.i18nInit(),this.title=this.i18n("pluginNameOneDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new a(this,{provider:this.provider});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){return this.view.render(e)}},i.VERSION="2.0.5",o)},3750:e=>{"use strict";e.exports={strings:{pluginNameOneDrive:"OneDrive"}}},4749:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{h:n}=r(6400);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";this.opts={target:"body",fixed:!1,hideAfterFinish:!0,...t},this.render=this.render.bind(this)}render(e){const t=e.totalProgress||0,r=(0===t||100===t)&&this.opts.hideAfterFinish;return n("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":r},n("div",{className:"uppy-ProgressBar-inner",style:{width:`${t}%`}}),n("div",{className:"uppy-ProgressBar-percentage"},t))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}},i.VERSION="2.0.4",o)},2104:(e,t,r)=>{"use strict";const{h:i,Fragment:o}=r(6400),s=e=>{const{getFolder:t,title:r,isLast:s}=e;return i(o,null,i("button",{type:"button",className:"uppy-u-reset",onClick:t},r),s?"":" / ")};e.exports=e=>{const{getFolder:t,title:r,breadcrumbsIcon:o,directories:n}=e;return i("div",{className:"uppy-Provider-breadcrumbs"},i("div",{className:"uppy-Provider-breadcrumbsIcon"},o),n.map(((e,o)=>i(s,{key:e.id,getFolder:()=>t(e.id),title:0===o?r:e.title,isLast:o+1===n.length}))))}},1199:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(4184),s=r(6626),n=r(2985),a=r(5717),l=r(9605);e.exports=function(e){const{currentSelection:t,folders:r,files:p,uppyFiles:u,viewType:h,headerComponent:d,showBreadcrumbs:c,isChecked:f,toggleCheckbox:m,handleScroll:g,showTitles:y,i18n:v,validateRestrictions:b,showFilter:w,filterQuery:x,filterInput:k,getNextFolder:P,cancel:S,done:C,columns:_}=e,D=t.length;return i("div",{className:o("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${h}`)},i("div",{className:"uppy-ProviderBrowser-header"},i("div",{className:o("uppy-ProviderBrowser-headerBar",!c&&"uppy-ProviderBrowser-headerBar--simple")},d)),w&&i(n,{i18n:v,filterQuery:x,filterInput:k}),r.length||p.length?i("div",{className:"uppy-ProviderBrowser-body"},i("ul",{className:"uppy-ProviderBrowser-list",onScroll:g,role:"listbox",tabIndex:"-1"},r.map((e=>{var t;return l({columns:_,showTitles:y,viewType:h,i18n:v,id:e.id,title:e.name,getItemIcon:()=>e.icon,isChecked:f(e),toggleCheckbox:t=>m(t,e),type:"folder",isDisabled:null==(t=f(e))?void 0:t.loading,isCheckboxDisabled:"shared-with-me"===e.id,handleFolderClick:()=>P(e)})})),p.map((e=>{const r=b(s(e),[...u,...t]);return l({id:e.id,title:e.name,author:e.author,getItemIcon:()=>e.icon,isChecked:f(e),toggleCheckbox:t=>m(t,e),columns:_,showTitles:y,viewType:h,i18n:v,type:"file",isDisabled:!r.result&&!f(e),restrictionReason:r.reason})})))):i("div",{className:"uppy-Provider-empty"},e.i18n("noFilesFound")),D>0&&i(a,{selected:D,done:C,cancel:S,i18n:v}))}},9393:(e,t,r)=>{"use strict";const{Component:i,toChildArray:o}=r(6400);e.exports=class extends i{componentWillUnmount(){const{onUnmount:e}=this.props;e()}render(){const{children:e}=this.props;return o(e)[0]}}},2985:(e,t,r)=>{"use strict";const{h:i,Component:o}=r(6400);e.exports=class extends o{constructor(e){super(e),this.preventEnterPress=this.preventEnterPress.bind(this)}preventEnterPress(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault())}render(){return i("div",{className:"uppy-ProviderBrowser-search"},i("input",{className:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:this.props.i18n("filter"),"aria-label":this.props.i18n("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:e=>this.props.filterQuery(e),value:this.props.filterInput}),i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},i("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),this.props.filterInput&&i("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchClose",type:"button","aria-label":this.props.i18n("resetFilter"),title:this.props.i18n("resetFilter"),onClick:this.props.filterQuery},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},i("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}}},5717:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>i("div",{className:"uppy-ProviderBrowser-footer"},i("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:e.done,type:"button"},e.i18n("selectX",{smart_count:e.selected})),i("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e.cancel,type:"button"},e.i18n("cancel")))},3054:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){const{className:t,isDisabled:r,restrictionReason:o,isChecked:s,title:n,itemIconEl:a,showTitles:l,toggleCheckbox:p,id:u,children:h}=e;return i("li",{className:t,title:r?o:null},i("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${s?"uppy-ProviderBrowserItem-checkbox--is-checked":""} uppy-ProviderBrowserItem-checkbox--grid`,onChange:p,name:"listitem",id:u,checked:s,disabled:r,"data-uppy-super-focusable":!0}),i("label",{htmlFor:u,"aria-label":n,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},i("span",{className:"uppy-ProviderBrowserItem-inner-relative"},a,l&&n,h)))}},3910:(e,t,r)=>{"use strict";const{h:i}=r(6400);function o(){return i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},i("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function s(){return i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},i("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function n(){return i("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},i("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),i("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}e.exports=e=>{if(null!==e.itemIconString)switch(e.itemIconString){case"file":return i(o,null);case"folder":return i(s,null);case"video":return i(n,null);default:return i("img",{src:e.itemIconString,alt:e.alt})}}},666:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){const{className:t,isDisabled:r,restrictionReason:o,isCheckboxDisabled:s,isChecked:n,toggleCheckbox:a,type:l,id:p,itemIconEl:u,title:h,handleFolderClick:d,showTitles:c,i18n:f}=e;return i("li",{className:t,title:r?o:null},s?null:i("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox "+(n?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:a,name:"listitem",id:p,checked:n,"aria-label":"file"===l?null:f("allFilesFromFolderNamed",{name:h}),disabled:r,"data-uppy-super-focusable":!0}),"file"===l?i("label",{htmlFor:p,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},i("div",{className:"uppy-ProviderBrowserItem-iconWrap"},u),c&&h):i("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:d,"aria-label":f("openFolderNamed",{name:h})},i("div",{className:"uppy-ProviderBrowserItem-iconWrap"},u),c&&i("span",null,h)))}},9605:(e,t,r)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i.apply(this,arguments)}const{h:o}=r(6400),s=r(4184),n=r(3910),a=r(3054),l=r(666);e.exports=e=>{const{author:t}=e,r=e.getItemIcon(),p=s("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":e.isChecked},{"uppy-ProviderBrowserItem--disabled":e.isDisabled},{"uppy-ProviderBrowserItem--noPreview":"video"===r}),u=o(n,{itemIconString:r});switch(e.viewType){case"grid":return o(a,i({},e,{className:p,itemIconEl:u}));case"list":return o(l,i({},e,{className:p,itemIconEl:u}));case"unsplash":return o(a,i({},e,{className:p,itemIconEl:u}),o("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},t.name));default:throw new Error(`There is no such type ${e.viewType}`)}}},7902:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>i("div",{className:"uppy-Provider-loading"},i("span",null,e.i18n("loading")))},2512:(e,t,r)=>{"use strict";const{h:i}=r(6400);function o(){return i("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},i("g",{fill:"none","fill-rule":"evenodd"},i("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),i("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),i("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),i("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),i("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),i("path",{d:"M4 4h18v18H4z"})))}e.exports=function(e){const{pluginName:t,pluginIcon:r,i18nArray:s,handleAuth:n}=e,a="Google Drive"===t,l=i("span",{className:"uppy-Provider-authTitleName"},t,i("br",null));return i("div",{className:"uppy-Provider-auth"},i("div",{className:"uppy-Provider-authIcon"},r()),i("div",{className:"uppy-Provider-authTitle"},s("authenticateWithTitle",{pluginName:l})),a?i("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:n,"data-uppy-super-focusable":!0},i(o,null),s("signInWithGoogle")):i("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:n,"data-uppy-super-focusable":!0},s("authenticateWith",{pluginName:t})))}},6664:(e,t,r)=>{"use strict";const i=r(2923),o=r(2104);e.exports=e=>{const t=[];return e.showBreadcrumbs&&t.push(o({getFolder:e.getFolder,directories:e.directories,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title})),t.push(i({logout:e.logout,username:e.username,i18n:e.i18n})),t}},1894:(e,t,r)=>{"use strict";var i,o,s,n;function a(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var l=0;function p(e){return"__private_"+l+++"_"+e}const{h:u}=r(6400),h=r(2512),d=r(6664),c=r(1199),f=r(7902),m=r(9393),g=r(4695);function y(e,t,r){this.nextPagePath=e.nextPagePath,e.items.forEach((e=>{e.isFolder?r.push(e):t.push(e)})),this.plugin.setPluginState({folders:r,files:t})}function v(e,t){const r=e=>"string"==typeof e?new RegExp(`^${e}$`):e instanceof RegExp?e:void 0;return(Array.isArray(t)?t.map(r):[r(t)]).filter((e=>null!=e)).some((t=>t.test(e)||t.test(`${e}/`)))}e.exports=(o=p("updateFilesAndFolders"),s=p("isOriginAllowed"),n=i=class e extends g{constructor(e,t){super(e,t),Object.defineProperty(this,s,{value:v}),Object.defineProperty(this,o,{value:y});this.opts={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,...t},this.filterQuery=this.filterQuery.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.listAllFiles=this.listAllFiles.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]})}tearDown(){}getFolder(e,t){return this.sharedHandler.loaderWrapper(this.provider.list(e),(r=>{let i;const s=this.plugin.getPluginState(),n=s.directories.findIndex((t=>e===t.id));i=-1!==n?s.directories.slice(0,n+1):s.directories.concat([{id:e,title:t}]),this.username=r.username||this.username,a(this,o)[o](r,[],[]),this.plugin.setPluginState({directories:i})}),this.handleError)}getNextFolder(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}logout(){this.provider.logout().then((e=>{if(e.ok){if(!e.revoked){const t=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:e.manual_revoke_url});this.plugin.uppy.info(t,"info",7e3)}const t={authenticated:!1,files:[],folders:[],directories:[]};this.plugin.setPluginState(t)}})).catch(this.handleError)}filterQuery(e){const t=this.plugin.getPluginState();this.plugin.setPluginState({...t,filterInput:e?e.target.value:""})}addFolder(e){const t=this.providerFileToId(e),r={...this.plugin.getPluginState().selectedFolders};if(!(t in r)||!r[t].loading)return r[t]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:{...r}}),this.listAllFiles(e.requestPath).then((i=>{let o=0;i.forEach((e=>{const t=this.providerFileToId(e);this.plugin.uppy.checkIfFileAlreadyExists(t)||o++})),o>0&&i.forEach((e=>this.addFile(e)));const s=i.map(this.providerFileToId);let n;r[t]={loading:!1,files:s},this.plugin.setPluginState({selectedFolders:r}),n=0===o?this.plugin.uppy.i18n("folderAlreadyAdded",{folder:e.name}):i.length?this.plugin.uppy.i18n("folderAdded",{smart_count:o,folder:e.name}):this.plugin.uppy.i18n("emptyFolderAdded"),this.plugin.uppy.info(n)})).catch((e=>{const r={...this.plugin.getPluginState().selectedFolders};delete r[t],this.plugin.setPluginState({selectedFolders:r}),this.handleError(e)}))}handleAuth(){const t=btoa(JSON.stringify({origin:location.origin})),r=`@uppy/provider-views=${e.VERSION}`,i=this.provider.authUrl({state:t,uppyVersions:r}),o=window.open(i,"_blank"),n=e=>{if(!a(this,s)[s](e.origin,this.plugin.opts.companionAllowedHosts)||e.source!==o)return void this.plugin.uppy.log(`rejecting event from ${e.origin} vs allowed pattern ${this.plugin.opts.companionAllowedHosts}`);const t="string"==typeof e.data?JSON.parse(e.data):e.data;if(t.error){this.plugin.uppy.log("auth aborted");const{uppy:e}=this.plugin,t=e.i18n("authAborted");e.info({message:t},"warning",5e3)}else t.token?(o.close(),window.removeEventListener("message",n),this.provider.setAuthToken(t.token),this.preFirstRender()):this.plugin.uppy.log("did not receive token from auth window")};window.addEventListener("message",n)}async handleScroll(e){const t=this.nextPagePath||null;if(this.shouldHandleScroll(e)&&t){this.isHandlingScroll=!0;try{const e=await this.provider.list(t),{files:r,folders:i}=this.plugin.getPluginState();a(this,o)[o](e,r,i)}catch(e){this.handleError(e)}finally{this.isHandlingScroll=!1}}}listAllFiles(e,t){return void 0===t&&(t=null),t=t||[],new Promise(((r,i)=>{this.provider.list(e).then((e=>{e.items.forEach((e=>{e.isFolder?this.addFolder(e):t.push(e)}));const o=e.nextPagePath||null;return o?this.listAllFiles(o,t).then((e=>r(e))).catch((e=>i(e))):r(t)})).catch((e=>i(e)))}))}donePicking(){const{currentSelection:e}=this.plugin.getPluginState(),t=e.map((e=>e.isFolder?this.addFolder(e):this.addFile(e)));this.sharedHandler.loaderWrapper(Promise.all(t),(()=>{this.clearSelection()}),(()=>{}))}render(e,t){var r=this;void 0===t&&(t={});const{authenticated:i,didFirstRender:o}=this.plugin.getPluginState();o||this.preFirstRender();const s={...this.opts,...t},{files:n,folders:a,filterInput:l,loading:p,currentSelection:g}=this.plugin.getPluginState(),{isChecked:y,toggleCheckbox:v,filterItems:b}=this.sharedHandler,w=""!==l,x={showBreadcrumbs:s.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},k={isChecked:y,toggleCheckbox:v,currentSelection:g,files:w?b(n):n,folders:w?b(a):a,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:d(x),title:this.plugin.title,viewType:s.viewType,showTitles:s.showTitles,showFilter:s.showFilter,showBreadcrumbs:s.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)}};return u(m,{onUnmount:this.clearSelection},p?u(f,{i18n:this.plugin.uppy.i18n}):i?u(c,k):u(h,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}},i.VERSION="2.0.6",n)},2923:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>[i("span",{className:"uppy-ProviderBrowser-user",key:"username"},e.username),i("button",{type:"button",onClick:e.logout,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},e.i18n("logOut"))]},5988:(e,t,r)=>{"use strict";e.exports=r(1894)},3992:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>i("button",{type:"button",onClick:e.triggerSearchInput,className:"uppy-u-reset uppy-ProviderBrowser-userLogout"},e.i18n("backToSearch"))},965:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>{let t;const r=()=>{t.value&&e.search(t.value)};return i("div",{className:"uppy-SearchProvider"},i("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"text","aria-label":e.i18n("enterTextToSearch"),placeholder:e.i18n("enterTextToSearch"),onKeyUp:e=>{13===e.keyCode&&r()},ref:e=>{t=e},"data-uppy-super-focusable":!0}),i("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:r},e.i18n("searchImages")))}},9595:(e,t,r)=>{"use strict";var i,o,s,n;function a(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var l=0;function p(e){return"__private_"+l+++"_"+e}const{h:u}=r(6400),h=r(965),d=r(1199),c=r(7902),f=r(3992),m=r(9393),g=r(4695);function y(e,t){this.nextPageQuery=e.nextPageQuery,a(this,o)[o]=e.searchedFor,e.items.forEach((e=>{t.push(e)})),this.plugin.setPluginState({isInputMode:!1,files:t})}e.exports=(o=p("searchTerm"),s=p("updateFilesAndInputMode"),n=i=class extends g{constructor(e,t){super(e,t),Object.defineProperty(this,s,{value:y}),Object.defineProperty(this,o,{writable:!0,value:void 0});this.opts={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1,...t},this.search=this.search.bind(this),this.triggerSearchInput=this.triggerSearchInput.bind(this),this.addFile=this.addFile.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]})}tearDown(){}search(e){if(!e||e!==a(this,o)[o])return this.sharedHandler.loaderWrapper(this.provider.search(e),(e=>{a(this,s)[s](e,[])}),this.handleError);this.plugin.setPluginState({isInputMode:!1})}triggerSearchInput(){this.plugin.setPluginState({isInputMode:!0})}async handleScroll(e){const t=this.nextPageQuery||null;if(this.shouldHandleScroll(e)&&t){this.isHandlingScroll=!0;try{const e=await this.provider.search(a(this,o)[o],t),{files:r}=this.plugin.getPluginState();a(this,s)[s](e,r)}catch(e){this.handleError(e)}finally{this.isHandlingScroll=!1}}}donePicking(){const{currentSelection:e}=this.plugin.getPluginState(),t=e.map((e=>this.addFile(e)));this.sharedHandler.loaderWrapper(Promise.all(t),(()=>{this.clearSelection()}),(()=>{}))}render(e,t){var r=this;void 0===t&&(t={});const{didFirstRender:i,isInputMode:o}=this.plugin.getPluginState();i||this.preFirstRender();const s={...this.opts,...t},{files:n,folders:a,filterInput:l,loading:p,currentSelection:g}=this.plugin.getPluginState(),{isChecked:y,toggleCheckbox:v,filterItems:b}=this.sharedHandler,w=""!==l,x={isChecked:y,toggleCheckbox:v,currentSelection:g,files:w?b(n):n,folders:w?b(a):a,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:f({triggerSearchInput:this.triggerSearchInput,i18n:this.plugin.uppy.i18n}),title:this.plugin.title,viewType:s.viewType,showTitles:s.showTitles,showFilter:s.showFilter,showBreadcrumbs:s.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)}};return u(m,{onUnmount:this.clearSelection},p?u(c,{i18n:this.plugin.uppy.i18n}):o?u(h,{search:this.search,i18n:this.plugin.uppy.i18n}):u(d,x))}},i.VERSION="2.0.6",n)},4558:(e,t,r)=>{"use strict";e.exports=r(9595)},5785:(e,t,r)=>{"use strict";const i=r(6626);e.exports=class{constructor(e){this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}filterItems(e){const t=this.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter((e=>-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase()))):e}toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();const{folders:r,files:o}=this.plugin.getPluginState(),s=this.filterItems(r.concat(o));if(this.lastCheckbox&&e.shiftKey){const e=s.indexOf(this.lastCheckbox),r=s.indexOf(t),o=e<r?s.slice(e,r+1):s.slice(r,e+1),n=[];for(const e of o){const{uppy:t}=this.plugin,r=t.validateRestrictions(i(e),[...t.getFiles(),...n]);r.result?n.push(e):t.info({message:r.reason},"error",t.opts.infoTimeout)}return void this.plugin.setPluginState({currentSelection:n})}this.lastCheckbox=t;const{currentSelection:n}=this.plugin.getPluginState();this.isChecked(t)?this.plugin.setPluginState({currentSelection:n.filter((e=>e.id!==t.id))}):this.plugin.setPluginState({currentSelection:n.concat([t])})}isChecked(e){const{currentSelection:t}=this.plugin.getPluginState();return t.some((t=>t.id===e.id))}loaderWrapper(e,t,r){e.then((e=>{this.plugin.setPluginState({loading:!1}),t(e)})).catch((e=>{this.plugin.setPluginState({loading:!1}),r(e)})),this.plugin.setPluginState({loading:!0})}}},4695:(e,t,r)=>{"use strict";const i=r(9404),o=r(9373),s=r(8619),n=r(5785);e.exports=class{constructor(e,t){this.plugin=e,this.provider=t.provider,this.sharedHandler=new n(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}providerFileToId(e){return s({data:e,name:e.name||e.id,type:e.mimetype})}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(e){const{scrollHeight:t,scrollTop:r,offsetHeight:i}=e.target;return t-(r+i)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[]})}cancelPicking(){this.clearSelection();const e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}handleError(e){const{uppy:t}=this.plugin,r=t.i18n("companionError");t.log(e.toString()),e.isAuthError||t.info({message:r,details:e.toString()},"error",5e3)}addFile(e){const t={id:this.providerFileToId(e),source:this.plugin.id,data:e,name:e.name||e.id,type:e.mimeType,isRemote:!0,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(e.requestPath)}`,body:{fileId:e.id},providerOptions:this.provider.opts,providerName:this.provider.name}},r=i(t);r&&o(r)&&(t.preview=e.thumbnail),e.author&&(t.meta.author=e.author),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(t),!0}catch(e){return e.isRestriction||this.plugin.uppy.log(e),!1}}}},7792:(e,t,r)=>{"use strict";const i=r(5988),o=r(4558);e.exports={ProviderViews:i,SearchProviderViews:o}},851:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.type="debugger",this.id=this.opts.id||"ReduxDevTools",this.title="Redux DevTools";this.opts={...t},this.handleStateChange=this.handleStateChange.bind(this),this.initDevTools=this.initDevTools.bind(this)}handleStateChange(e,t){this.devTools.send("UPPY_STATE_UPDATE",t)}initDevTools(){this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe((e=>{if("DISPATCH"===e.type)switch(e.payload.type){case"RESET":return void this.uppy.reset();case"IMPORT_STATE":{const{computedStates:t}=e.payload.nextLiftedState;return this.uppy.store.state={...this.uppy.getState(),...t[t.length-1].state},void this.uppy.updateAll(this.uppy.getState())}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":this.uppy.store.state={...this.uppy.getState(),...JSON.parse(e.state)},this.uppy.updateAll(this.uppy.getState())}}))}install(){this.withDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}uninstall(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}},i.VERSION="2.0.3",o)},6248:(e,t,r)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i.apply(this,arguments)}const{h:o,Component:s}=r(6400),n=r(1977),a=r(2714),l=r(381),p=r(7814);e.exports=class extends s{componentWillUnmount(){this.props.onStop()}render(){const{recording:e,stream:t,recordedVideo:r}=this.props,s={playsinline:!0};return(e||!r&&!e)&&(s.muted=!0,s.autoplay=!0,s.srcObject=t),r&&!e&&(s.muted=!1,s.controls=!0,s.src=r,this.videoElement&&(this.videoElement.srcObject=void 0)),o("div",{className:"uppy uppy-ScreenCapture-container"},o("div",{className:"uppy-ScreenCapture-videoContainer"},o(p,this.props),o("video",i({ref:e=>{this.videoElement=e},className:"uppy-ScreenCapture-video"},s)),o(l,this.props)),o("div",{className:"uppy-ScreenCapture-buttonContainer"},o(n,this.props),o(a,this.props)))}}},1977:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{recording:t,onStartRecording:r,onStopRecording:o,i18n:s}=e;return t?i("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:s("stopCapturing"),"aria-label":s("stopCapturing"),onClick:o,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},i("rect",{x:"15",y:"15",width:"70",height:"70"}))):i("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:s("startCapturing"),"aria-label":s("startCapturing"),onClick:r,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},i("circle",{cx:"50",cy:"50",r:"40"})))}},4370:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=()=>i("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},i("g",{fill:"none",fillRule:"evenodd"},i("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),i("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),i("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))},381:(e,t,r)=>{"use strict";const{h:i,Component:o}=r(6400);e.exports=class extends o{constructor(e){super(e),this.state={elapsedTime:0},this.wrapperStyle={width:"100%",height:"100%",display:"flex"},this.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},this.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},this.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},this.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"}}startTimer(){this.timerTick(),this.timerRunning=!0}resetTimer(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}timerTick(){this.timer=setTimeout((()=>{this.setState((e=>({elapsedTime:e.elapsedTime+1}))),this.timerTick()}),1e3)}fmtMSS(e){return(e-(e%=60))/60+(e>9?":":":0")+e}render(){const{recording:e,i18n:t}={...this.props},r=this.fmtMSS(this.state.elapsedTime);return e&&!this.timerRunning&&this.startTimer(),!e&&this.timerRunning&&this.resetTimer(),e?i("div",{style:this.wrapperStyle},i("div",{style:this.overlayStyle}),i("div",{style:this.infoContainerStyle},i("div",{style:this.infotextStyle},t("recording")),i("div",{style:this.timeStyle},r))):null}}},7814:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>{let{streamActive:t,i18n:r}=e;return t?i("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},i("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},i("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),i("path",{d:"M0 0h24v24H0z",fill:"none"}),i("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):i("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},i("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},i("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),i("path",{d:"M0 0h24v24H0z",fill:"none"}),i("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))}},2714:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{recording:t,recordedVideo:r,onSubmit:o,i18n:s}=e;return r&&!t?i("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:s("submitRecordedFile"),"aria-label":s("submitRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},i("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},i("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}},9904:(e,t,r)=>{"use strict";var i,o;function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s.apply(this,arguments)}const{h:n}=r(6400),{UIPlugin:a}=r(9429),l=r(182),p=r(4370),u=r(6248),h=r(6025);e.exports=(o=i=class extends a{constructor(e,t){super(e,t),this.mediaDevices=window.MediaRecorder&&navigator.mediaDevices,this.protocol="https:"===location.protocol?"https":"http",this.id=this.opts.id||"ScreenCapture",this.title=this.opts.title||"Screencast",this.type="acquirer",this.icon=p,this.defaultLocale=h;this.opts={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm",...t},this.i18nInit(),this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.submit=this.submit.bind(this),this.streamInterrupted=this.streamInactivated.bind(this),this.captureActive=!1,this.capturedMediaFile=null}install(){if(!this.mediaDevices)return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.videoStream&&this.stop(),this.unmount()}start(){if(!this.mediaDevices)return Promise.reject(new Error("Screen recorder access not supported"));this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then((e=>{!1===e&&this.parent&&this.parent.hideAllPanels&&(this.parent.hideAllPanels(),this.captureActive=!1)}))}selectVideoStreamSource(){return this.videoStream?new Promise((e=>e(this.videoStream))):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then((e=>(this.videoStream=e,this.videoStream.addEventListener("inactive",(()=>{this.streamInactivated()})),this.setPluginState({streamActive:!0}),e))).catch((e=>(this.setPluginState({screenRecError:e}),this.userDenied=!0,setTimeout((()=>{this.userDenied=!1}),1e3),!1)))}selectAudioStreamSource(){return this.audioStream?new Promise((e=>e(this.audioStream))):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then((e=>(this.audioStream=e,this.setPluginState({audioStreamActive:!0}),e))).catch((e=>("NotAllowedError"===e.name&&this.uppy.info(this.i18n("micDisabled"),"error",5e3),!1)))}startRecording(){const e={};this.capturedMediaFile=null,this.recordingChunks=[];const{preferredVideoMimeType:t}=this.opts;this.selectVideoStreamSource().then((r=>{t&&MediaRecorder.isTypeSupported(t)&&l(t)&&(e.mimeType=t);const i=[r.getVideoTracks()[0]];this.audioStream&&i.push(this.audioStream.getAudioTracks()[0]),this.outputStream=new MediaStream(i),this.recorder=new MediaRecorder(this.outputStream,e),this.recorder.addEventListener("dataavailable",(e=>{this.recordingChunks.push(e.data)})),this.recorder.start(),this.setPluginState({recording:!0})})).catch((e=>{this.uppy.log(e,"error")}))}streamInactivated(){const{recordedVideo:e,recording:t}={...this.getPluginState()};e||t?t&&(this.uppy.log("Capture stream inactive — stop recording"),this.stopRecording()):this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels(),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}stopRecording(){return new Promise((e=>{this.recorder.addEventListener("stop",(()=>{e()})),this.recorder.stop()})).then((()=>(this.setPluginState({recording:!1}),this.getVideo()))).then((e=>{this.capturedMediaFile=e,this.setPluginState({recordedVideo:URL.createObjectURL(e.data)})})).then((()=>{this.recordingChunks=null,this.recorder=null}),(e=>{throw this.recordingChunks=null,this.recorder=null,e}))}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(e){e.isRestriction||this.uppy.log(e,"error")}}stop(){this.videoStream&&(this.videoStream.getVideoTracks().forEach((e=>{e.stop()})),this.videoStream.getAudioTracks().forEach((e=>{e.stop()})),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach((e=>{e.stop()})),this.audioStream.getVideoTracks().forEach((e=>{e.stop()})),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach((e=>{e.stop()})),this.outputStream.getVideoTracks().forEach((e=>{e.stop()})),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}getVideo(){const e=this.recordingChunks[0].type,t=l(e);if(!t)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${e}"`));const r=`screencap-${Date.now()}.${t}`,i=new Blob(this.recordingChunks,{type:e}),o={source:this.id,name:r,data:new Blob([i],{type:e}),type:e};return Promise.resolve(o)}render(){const e=this.getPluginState();return e.streamActive||this.captureActive||this.userDenied||this.start(),n(u,s({},e,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}},i.VERSION="2.0.6",o)},6025:e=>{"use strict";e.exports={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}}},4049:(e,t,r)=>{"use strict";const i=r(4184),o=r(3096),s=r(5158),n=r(1011),{h:a}=r(6400),l=r(3242);function p(){return a("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},a("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function u(e){const{numUploads:t,complete:r,totalUploadedSize:i,totalSize:o,totalETA:l,i18n:p}=e,u=t>1;return a("div",{className:"uppy-StatusBar-statusSecondary"},u&&p("filesUploadedOfTotal",{complete:r,smart_count:t}),a("span",{className:"uppy-StatusBar-additionalInfo"},u&&" · ",p("dataUploadedOfTotal",{complete:s(i),total:s(o)})," · ",p("xTimeLeft",{time:n(l)})))}function h(e){const{i18n:t,complete:r,numUploads:i}=e;return a("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:r,smart_count:i}))}function d(e){const{i18n:t,newFiles:r,startUpload:o}=e,s=i("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return a("div",{className:"uppy-StatusBar-statusSecondary"},a("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:r})),a("button",{type:"button",className:s,"aria-label":t("uploadXFiles",{smart_count:r}),onClick:o},t("upload")))}const c=o(u,500,{leading:!0,trailing:!0});e.exports={UploadBtn:function(e){const{newFiles:t,isUploadStarted:r,recoveredState:o,i18n:s,uploadState:n,isSomeGhost:p,startUpload:u}=e,h=i("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":n===l.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":p}),d=s(t&&r&&!o?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return a("button",{type:"button",className:h,"aria-label":s("uploadXFiles",{smart_count:t}),onClick:u,disabled:p,"data-uppy-super-focusable":!0},d)},RetryBtn:function(e){const{i18n:t,uppy:r}=e;return a("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>r.retryAll(),"data-uppy-super-focusable":!0},a("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},a("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))},CancelBtn:function(e){const{i18n:t,uppy:r}=e;return a("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>r.cancelAll(),"data-uppy-super-focusable":!0},a("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},a("g",{fill:"none",fillRule:"evenodd"},a("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),a("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},PauseResumeButton:function(e){const{isAllPaused:t,i18n:r,isAllComplete:i,resumableUploads:o,uppy:s}=e,n=r(t?"resume":"pause");return a("button",{title:n,"aria-label":n,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){return i?null:o?t?s.resumeAll():s.pauseAll():s.cancelAll()},"data-uppy-super-focusable":!0},a("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},a("g",{fill:"none",fillRule:"evenodd"},a("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),a("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))},DoneBtn:function(e){const{i18n:t,doneButtonHandler:r}=e;return a("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},t("done"))},LoadingSpinner:p,ProgressDetails:u,ProgressBarProcessing:function(e){const{progress:t}=e,{value:r,mode:i,message:o}=t,s=Math.round(100*r);return a("div",{className:"uppy-StatusBar-content"},a(p,null),"determinate"===i?`${s}% · `:"",o)},ProgressBarError:function(e){const{error:t,i18n:r,complete:i,numUploads:o}=e;return a("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},a("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},a("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),a("div",{className:"uppy-StatusBar-status"},a("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),a("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){const e=`${r("uploadFailed")} \n\n ${t}`;alert(e)},type:"button"},"?")),a(h,{i18n:r,complete:i,numUploads:o})))},ProgressBarUploading:function(e){const{i18n:t,supportsUploadProgress:r,totalProgress:i,showProgressDetails:o,isUploadStarted:s,isAllComplete:n,isAllPaused:l,newFiles:u,numUploads:f,complete:m,totalUploadedSize:g,totalSize:y,totalETA:v,startUpload:b}=e,w=u&&s;if(!s||n)return null;const x=t(l?"paused":"uploading");return a("div",{className:"uppy-StatusBar-content","aria-label":x,title:x},l?null:a(p,null),a("div",{className:"uppy-StatusBar-status"},a("div",{className:"uppy-StatusBar-statusPrimary"},r?`${x}: ${i}%`:x),l||w||!o?null:r?a(c,{numUploads:f,complete:m,totalUploadedSize:g,totalSize:y,totalETA:v,i18n:t}):a(h,{i18n:t,complete:m,numUploads:f}),w?a(d,{i18n:t,newFiles:u,startUpload:b}):null))},ProgressBarComplete:function(e){const{i18n:t}=e;return a("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},a("div",{className:"uppy-StatusBar-status"},a("div",{className:"uppy-StatusBar-statusPrimary"},a("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},a("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}}},858:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(4184),s=r(3242),n=r(1881),{UploadBtn:a,RetryBtn:l,CancelBtn:p,PauseResumeButton:u,DoneBtn:h,ProgressBarProcessing:d,ProgressBarError:c,ProgressBarUploading:f,ProgressBarComplete:m}=r(4049),{STATE_ERROR:g,STATE_WAITING:y,STATE_PREPROCESSING:v,STATE_UPLOADING:b,STATE_POSTPROCESSING:w,STATE_COMPLETE:x}=s;e.exports=function(e){const{newFiles:t,allowNewUpload:r,isUploadInProgress:s,isAllPaused:k,resumableUploads:P,error:S,hideUploadButton:C,hidePauseResumeButton:_,hideCancelButton:D,hideRetryButton:A,recoveredState:F,uploadState:E,totalProgress:B,files:R,supportsUploadProgress:T,hideAfterFinish:I,isSomeGhost:O,isTargetDOMEl:U,doneButtonHandler:M,isUploadStarted:z,i18n:N,startUpload:L,uppy:j,isAllComplete:H,showProgressDetails:$,numUploads:q,complete:V,totalSize:W,totalETA:Y,totalUploadedSize:X}=e;const G=function(){switch(E){case w:case v:{const e=n(R);return"determinate"===e.mode?100*e.value:B}case g:return null;case b:return T?B:null;default:return B}}(),K=function(){if(F)return!1;switch(E){case y:return C||0===t;case x:return I;default:return!1}}(),Z=null!=G?G:100,J=!S&&t&&!s&&!k&&r&&!C,Q=!D&&E!==y&&E!==x,ee=P&&!_&&E===b,te=S&&!H&&!A,re=M&&E===x,ie=o("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(E){case w:case v:{const{mode:e}=n(R);return"indeterminate"===e}case b:return!T;default:return!1}}()}),oe=o({"uppy-Root":U},"uppy-StatusBar",`is-${E}`,{"has-ghosts":O});return i("div",{className:oe,"aria-hidden":K},i("div",{className:ie,style:{width:`${Z}%`},role:"progressbar","aria-label":`${Z}%`,"aria-valuetext":`${Z}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":G}),(()=>{switch(E){case v:case w:return i(d,{progress:n(R)});case x:return i(m,{i18n:N});case g:return i(c,{error:S,i18n:N,numUploads:q,complete:V});case b:return i(f,{i18n:N,supportsUploadProgress:T,totalProgress:B,showProgressDetails:$,isUploadStarted:z,isAllComplete:H,isAllPaused:k,newFiles:t,numUploads:q,complete:V,totalUploadedSize:X,totalSize:W,totalETA:Y,startUpload:L});default:return null}})(),i("div",{className:"uppy-StatusBar-actions"},F||J?i(a,{newFiles:t,isUploadStarted:z,recoveredState:F,i18n:N,isSomeGhost:O,startUpload:L,uploadState:E}):null,te?i(l,{i18n:N,uppy:j}):null,ee?i(u,{isAllPaused:k,i18n:N,isAllComplete:H,resumableUploads:P,uppy:j}):null,Q?i(p,{i18n:N,uppy:j}):null,re?i(h,{i18n:N,doneButtonHandler:M}):null))}},3242:e=>{"use strict";e.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}},1881:e=>{"use strict";e.exports=function(e){const t=[];let r,i;for(const{progress:o}of Object.values(e)){const{preprocess:e,postprocess:s}=o;null==i&&(e||s)&&({mode:r,message:i}=e||s),"determinate"===(null==e?void 0:e.mode)&&t.push(e.value),"determinate"===(null==s?void 0:s.mode)&&t.push(s.value)}return{mode:r,message:i,value:t.reduce(((e,r)=>e+r/t.length),0)}}},3215:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),n=r(522),a=r(9599),l=r(8958),p=r(3242),u=r(858),h=r(2658);function d(e,t,r,i){if(e&&!t)return p.STATE_ERROR;if(t)return p.STATE_COMPLETE;if(r)return p.STATE_WAITING;let o=p.STATE_WAITING;const s=Object.keys(i);for(let e=0;e<s.length;e++){const{progress:t}=i[s[e]];if(t.uploadStarted&&!t.uploadComplete)return p.STATE_UPLOADING;t.preprocess&&o!==p.STATE_UPLOADING&&(o=p.STATE_PREPROCESSING),t.postprocess&&o!==p.STATE_UPLOADING&&o!==p.STATE_PREPROCESSING&&(o=p.STATE_POSTPROCESSING)}return o}e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.startUpload=()=>{const{recoveredState:e}=this.uppy.getState();if(!e)return this.uppy.upload().catch((()=>{}));this.uppy.emit("restore-confirmed")},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=h;this.opts={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null,...t},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){const{capabilities:t,files:r,allowNewUpload:i,totalProgress:o,error:s,recoveredState:l}=e,{newFiles:p,startedFiles:h,completeFiles:c,inProgressNotPausedFiles:f,isUploadStarted:m,isAllComplete:g,isAllErrored:y,isAllPaused:v,isUploadInProgress:b,isSomeGhost:w}=this.uppy.getObjectOfFilesPerState(),x=l?Object.values(r):p,k=function(e){const t=function(e){let t=0;return e.forEach((e=>{t+=n(e.progress)})),t}(e);if(0===t)return 0;const r=e.reduce(((e,t)=>e+a(t.progress)),0);return Math.round(r/t*10)/10}(f),P=!!t.resumableUploads,S=!1!==t.uploadProgress;let C=0,_=0;return h.forEach((e=>{C+=e.progress.bytesTotal||0,_+=e.progress.bytesUploaded||0})),u({error:s,uploadState:d(s,g,l,e.files||{}),allowNewUpload:i,totalProgress:o,totalSize:C,totalUploadedSize:_,isAllComplete:!1,isAllPaused:v,isAllErrored:y,isUploadStarted:m,isUploadInProgress:b,isSomeGhost:w,recoveredState:l,complete:c.length,newFiles:x.length,numUploads:h.length,totalETA:k,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:P,supportsUploadProgress:S,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const e=this.el;l(e)||(e.dir="ltr")}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}},i.VERSION="2.1.2",o)},2658:e=>{"use strict";e.exports={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}}},6273:e=>{"use strict";var t=0;function r(e){return"__private_"+t+++"_"+e}var i=r("publish");class o{constructor(){Object.defineProperty(this,i,{value:s}),this.state={},this.callbacks=[]}getState(){return this.state}setState(e){const t={...this.state},r={...this.state,...e};this.state=r,function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(this,i)[i](t,r,e)}subscribe(e){return this.callbacks.push(e),()=>{this.callbacks.splice(this.callbacks.indexOf(e),1)}}}function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.callbacks.forEach((e=>{e(...t)}))}o.VERSION="2.0.3",e.exports=function(){return new o}},5062:(e,t,r)=>{"use strict";let i;function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var s=0;function n(e){return"__private_"+s+++"_"+e}const{nanoid:a}=r(2961),l="uppy/STATE_UPDATE";var p=n("id"),u=n("selector"),h=n("store");i=Symbol.for("uppy test: get id");class d{constructor(e){Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),o(this,h)[h]=e.store,o(this,p)[p]=e.id||a(),o(this,u)[u]=e.selector||(e=>t=>t.uppy[e])(o(this,p)[p]),this.setState({})}setState(e){o(this,h)[h].dispatch({type:l,id:o(this,p)[p],payload:e})}getState(){return o(this,u)[u](o(this,h)[h].getState())}subscribe(e){let t=this.getState();return o(this,h)[h].subscribe((()=>{const r=this.getState();if(t!==r){const i=function(e,t){const r=Object.keys(t),i={};return r.forEach((r=>{e[r]!==t[r]&&(i[r]=t[r])})),i}(t,r);e(t,r,i),t=r}}))}[i](){return o(this,p)[p]}}d.VERSION="2.0.3",e.exports=d,e.exports.ReduxStore=d,e.exports.STATE_UPDATE=l,e.exports.reducer=function(e,t){if(void 0===e&&(e={}),t.type===l){const r={...e[t.id],...t.payload};return{...e,[t.id]:r}}return e},e.exports.middleware=function(){return()=>e=>t=>{e(t)}}},7753:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),n=r(3517),a=r(6508),l=r(9373),p=r(7198),u=r(3107);e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.onFileAdded=e=>{!e.preview&&e.data&&l(e.type)&&!e.isRemote&&this.addToQueue(e.id)},this.onCancelRequest=e=>{const t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1)},this.onFileRemoved=e=>{const t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1),e.preview&&a(e.preview)&&URL.revokeObjectURL(e.preview)},this.onRestored=()=>{this.uppy.getFiles().filter((e=>e.isRestored)).forEach((e=>{e.preview&&!a(e.preview)||this.addToQueue(e.id)}))},this.waitUntilAllProcessed=e=>{e.forEach((e=>{const t=this.uppy.getFile(e);this.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})}));const t=()=>{e.forEach((e=>{const t=this.uppy.getFile(e);this.uppy.emit("preprocess-complete",t)}))};return new Promise((e=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",(()=>{t(),e()})):(t(),e())}))},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=u;if(this.opts={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1,...t},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,t,r){const i=URL.createObjectURL(e.data),o=new Promise(((e,t)=>{const r=new Image;r.src=i,r.addEventListener("load",(()=>{URL.revokeObjectURL(i),e(r)})),r.addEventListener("error",(e=>{URL.revokeObjectURL(i),t(e.error||new Error("Could not create thumbnail"))}))})),s=p.rotation(e.data).catch((()=>1));return Promise.all([o,s]).then((e=>{let[i,o]=e;const s=this.getProportionalDimensions(i,t,r,o.deg),n=this.rotateImage(i,o),a=this.resizeImage(n,s.width,s.height);return this.canvasToBlob(a,this.thumbnailType,80)})).then((e=>URL.createObjectURL(e)))}getProportionalDimensions(e,t,r,i){let o=e.width/e.height;return 90!==i&&270!==i||(o=e.height/e.width),null!=t?{width:t,height:Math.round(t/o)}:null!=r?{width:Math.round(r*o),height:r}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}protect(e){const t=e.width/e.height,r=5e6,i=4096;let o=Math.floor(Math.sqrt(r*t)),s=Math.floor(r/Math.sqrt(r*t));if(o>i&&(o=i,s=Math.round(o/t)),s>i&&(s=i,o=Math.round(t*s)),e.width>o){const t=document.createElement("canvas");t.width=o,t.height=s,t.getContext("2d").drawImage(e,0,0,o,s),e=t}return e}resizeImage(e,t,r){e=this.protect(e);let i=Math.ceil(Math.log2(e.width/t));i<1&&(i=1);let o=t*2**(i-1),s=r*2**(i-1);for(;i--;){const t=document.createElement("canvas");t.width=o,t.height=s,t.getContext("2d").drawImage(e,0,0,o,s),e=t,o=Math.round(o/2),s=Math.round(s/2)}return e}rotateImage(e,t){let r=e.width,i=e.height;90!==t.deg&&270!==t.deg||(r=e.height,i=e.width);const o=document.createElement("canvas");o.width=r,o.height=i;const s=o.getContext("2d");return s.translate(r/2,i/2),t.canvas&&(s.rotate(t.rad),s.scale(t.scaleX,t.scaleY)),s.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),o}canvasToBlob(e,t,r){try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((i=>{e.toBlob(i,t,r)})).then((e=>{if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((()=>n(e.toDataURL(t,r),{}))).then((e=>{if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))}setPreviewURL(e,t){this.uppy.setFileState(e,{preview:t})}addToQueue(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch((()=>{})).then((()=>this.processQueue())):void this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error")}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")}requestThumbnail(e){return l(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((t=>{this.setPreviewURL(e.id,t),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),t)})).catch((t=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${e.id}:`,"warning"),this.uppy.log(t,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),t)})):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}},i.VERSION="2.0.6",o)},3107:e=>{"use strict";e.exports={strings:{generatingThumbnails:"Generating thumbnails..."}}},5361:(e,t,r)=>{"use strict";function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function s(e){return"__private_"+o+++"_"+e}const n=r(8767),a=r(4114),l=r(6311),p=r(6865),u=r(6495);let h;const d="ASSEMBLY_EXECUTING",c="ASSEMBLY_COMPLETED",f=["ASSEMBLY_UPLOADING",d,c];function m(e,t){return f.indexOf(e)>=f.indexOf(t)}var g=s("onFinished"),y=s("connectSocket"),v=s("onError"),b=s("beginPolling"),w=s("fetchStatus"),x=s("diffStatus");function k(){this.emit("finished"),this.close()}function P(){const e=u(this.status.websocket_url),t=(null!=h||(h=r(6247)),h).connect(e.origin,{transports:["websocket"],path:e.pathname});t.on("connect",(()=>{t.emit("assembly_connect",{id:this.status.assembly_id}),this.emit("connect")})),t.on("connect_error",(()=>{t.disconnect(),this.socket=null})),t.on("assembly_finished",(()=>{i(this,g)[g]()})),t.on("assembly_upload_finished",(e=>{this.emit("upload",e),this.status.uploads.push(e)})),t.on("assembly_uploading_finished",(()=>{this.emit("executing")})),t.on("assembly_upload_meta_data_extracted",(()=>{this.emit("metadata"),i(this,w)[w]({diff:!1})})),t.on("assembly_result_finished",((e,t)=>{this.emit("result",e,t),this.status.results[e]||(this.status.results[e]=[]),this.status.results[e].push(t)})),t.on("assembly_error",(e=>{i(this,v)[v](e),i(this,w)[w]({diff:!1})})),this.socket=t}function S(e){this.emit("error",Object.assign(new Error(e.message),e)),this.close()}function C(){this.pollInterval=setInterval((()=>{this.socket&&this.socket.connected||i(this,w)[w]()}),2e3)}async function _(e){let{diff:t=!0}=void 0===e?{}:e;if(!this.closed)try{const e=await p(this.status.assembly_ssl_url);if(this.closed)return;if(429===e.status)return;if(!e.ok)return void i(this,v)[v](new l(e.statusText));const r=await e.json();if(this.closed)return;this.emit("status",r),t?this.updateStatus(r):this.status=r}catch(e){i(this,v)[v](e)}}function D(e,t){const r=e.ok,o=t.ok;if(t.error&&!e.error)return i(this,v)[v](t);const s=m(o,d)&&!m(r,d);s&&this.emit("executing"),Object.keys(t.uploads).filter((t=>!a(e.uploads,t))).forEach((e=>{this.emit("upload",t.uploads[e])})),s&&this.emit("metadata"),Object.keys(t.results).forEach((r=>{const i=t.results[r],o=e.results[r];i.filter((e=>!o||!o.some((t=>t.id===e.id)))).forEach((e=>{this.emit("result",r,e)}))})),m(o,c)&&!m(r,c)&&this.emit("finished")}e.exports=class extends n{constructor(e){super(),Object.defineProperty(this,x,{value:D}),Object.defineProperty(this,w,{value:_}),Object.defineProperty(this,b,{value:C}),Object.defineProperty(this,v,{value:S}),Object.defineProperty(this,y,{value:P}),Object.defineProperty(this,g,{value:k}),this.status=e,this.socket=null,this.pollInterval=null,this.closed=!1}connect(){i(this,y)[y](),i(this,b)[b]()}update(){return i(this,w)[w]({diff:!0})}updateStatus(e){i(this,x)[x](this.status,e),this.status=e}close(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval)}}},5451:e=>{"use strict";var t=0;function r(e){return"__private_"+t+++"_"+e}function i(e){if(null==e)throw new Error("Transloadit: The `params` option is required.");if("string"==typeof e)try{e=JSON.parse(e)}catch(e){const t=new Error("Transloadit: The `params` option is a malformed JSON string.");throw e.cause=e,t}if(!e.auth||!e.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function o(e){const t=Object.create(null);for(const{fileIDs:r,options:i}of e){const e=JSON.stringify(i);e in t?t[e].fileIDArrays.push(r):t[e]={options:i,fileIDArrays:[r]}}return Object.values(t).map((e=>{let{options:t,fileIDArrays:r}=e;return{options:t,fileIDs:r.flat(1)}}))}var s=r("getAssemblyOptions");async function n(e){const t=this.opts,r=await t.getAssemblyOptions(e,t);return Array.isArray(r.fields)?r.fields=Object.fromEntries(r.fields.map((t=>[t,e.meta[t]]))):null==r.fields&&(r.fields={}),i(r.params),{fileIDs:[e.id],options:r}}e.exports=class{constructor(e,t){Object.defineProperty(this,s,{value:n}),this.files=e,this.opts=t}async build(){const e=this.opts;if(this.files.length>0)return Promise.all(this.files.map((e=>function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(this,s)[s](e)))).then(o);if(e.alwaysRunAssembly){const t=await e.getAssemblyOptions(null,e);return i(t.params),[{fileIDs:this.files.map((e=>e.id)),options:t}]}return[]}},e.exports.validateParams=i},468:(e,t,r)=>{"use strict";function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function s(e){return"__private_"+o+++"_"+e}const n=r(8767);var a=s("assemblyIDs"),l=s("reject"),p=s("remaining"),u=s("resolve"),h=s("uppy"),d=s("watching"),c=s("onAssemblyComplete"),f=s("onAssemblyCancel"),m=s("onAssemblyError"),g=s("onImportError"),y=s("checkAllComplete"),v=s("removeListeners"),b=s("addListeners");function w(e){return-1!==i(this,a)[a].indexOf(e)}function x(){i(this,p)[p]-=1,0===i(this,p)[p]&&(i(this,v)[v](),i(this,u)[u]())}function k(){i(this,h)[h].off("transloadit:complete",i(this,c)[c]),i(this,h)[h].off("transloadit:assembly-cancel",i(this,f)[f]),i(this,h)[h].off("transloadit:assembly-error",i(this,m)[m]),i(this,h)[h].off("transloadit:import-error",i(this,g)[g])}function P(){i(this,h)[h].on("transloadit:complete",i(this,c)[c]),i(this,h)[h].on("transloadit:assembly-cancel",i(this,f)[f]),i(this,h)[h].on("transloadit:assembly-error",i(this,m)[m]),i(this,h)[h].on("transloadit:import-error",i(this,g)[g])}e.exports=class extends n{constructor(e,t){super(),Object.defineProperty(this,b,{value:P}),Object.defineProperty(this,v,{value:k}),Object.defineProperty(this,y,{value:x}),Object.defineProperty(this,d,{value:w}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:e=>{i(this,d)[d](e.assembly_id)&&(i(this,h)[h].log(`[Transloadit] AssemblyWatcher: Got Assembly finish ${e.assembly_id}`),this.emit("assembly-complete",e.assembly_id),i(this,y)[y]())}}),Object.defineProperty(this,f,{writable:!0,value:e=>{i(this,d)[d](e.assembly_id)&&i(this,y)[y]()}}),Object.defineProperty(this,m,{writable:!0,value:(e,t)=>{i(this,d)[d](e.assembly_id)&&(i(this,h)[h].log(`[Transloadit] AssemblyWatcher: Got Assembly error ${e.assembly_id}`),i(this,h)[h].log(t),this.emit("assembly-error",e.assembly_id,t),i(this,y)[y]())}}),Object.defineProperty(this,g,{writable:!0,value:(e,t,r)=>{i(this,d)[d](e.assembly_id)&&i(this,m)[m](e,r)}}),i(this,h)[h]=e,i(this,a)[a]=t,i(this,p)[p]=t.length,this.promise=new Promise(((e,t)=>{i(this,u)[u]=e,i(this,l)[l]=t})),i(this,b)[b]()}}},5401:(e,t,r)=>{"use strict";var i,o;function s(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var n=0;function a(e){return"__private_"+n+++"_"+e}const l=r(6865),p=r(6311);function u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return l(...t).then((e=>429===e.status?new Promise(((e,r)=>{setTimeout((()=>u(...t).then(e,r)),2e3)})):e.ok?e.json():Promise.reject(new p(e.statusText))))}e.exports=(i=a("headers"),o=a("reportError"),class{constructor(e){void 0===e&&(e={}),Object.defineProperty(this,i,{writable:!0,value:{}}),Object.defineProperty(this,o,{writable:!0,value:(e,t)=>{if(!1===this.opts.errorReporting)throw e;const r={type:t.type};throw t.assembly&&(r.assembly=t.assembly.assembly_id,r.instance=t.assembly.instance),t.url&&(r.endpoint=t.url),this.submitError(e,r).catch((()=>{})),e}}),this.opts=e,null!=this.opts.client&&(s(this,i)[i]["Transloadit-Client"]=this.opts.client)}createAssembly(e){let{params:t,fields:r,signature:n,expectedFiles:a}=e;const l=new FormData;l.append("params","string"==typeof t?t:JSON.stringify(t)),n&&l.append("signature",n),Object.keys(r).forEach((e=>{l.append(e,r[e])})),l.append("num_expected_upload_files",a);const p=new URL("/assemblies",`${this.opts.service}`).href;return u(p,{method:"post",headers:s(this,i)[i],body:l}).then((e=>{if(e.error){const t=new Error(e.error);throw t.details=e.message,t.assembly=e,e.assembly_id&&(t.details+=` Assembly ID: ${e.assembly_id}`),t}return e})).catch((e=>s(this,o)[o](e,{url:p,type:"API_ERROR"})))}reserveFile(e,t){const r=encodeURIComponent(t.size),n=`${e.assembly_ssl_url}/reserve_file?size=${r}`;return u(n,{method:"post",headers:s(this,i)[i]}).catch((r=>s(this,o)[o](r,{assembly:e,file:t,url:n,type:"API_ERROR"})))}addFile(e,t){if(!t.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));const r=encodeURIComponent(t.size),n=encodeURIComponent(t.uploadURL),a=`size=${r}&filename=${encodeURIComponent(t.name)}&fieldname=file&s3Url=${n}`,l=`${e.assembly_ssl_url}/add_file?${a}`;return u(l,{method:"post",headers:s(this,i)[i]}).catch((r=>s(this,o)[o](r,{assembly:e,file:t,url:l,type:"API_ERROR"})))}cancelAssembly(e){const t=e.assembly_ssl_url;return u(t,{method:"delete",headers:s(this,i)[i]}).catch((e=>s(this,o)[o](e,{url:t,type:"API_ERROR"})))}getAssemblyStatus(e){return u(e,{headers:s(this,i)[i]}).catch((t=>s(this,o)[o](t,{url:e,type:"STATUS_ERROR"})))}submitError(e,t){let{endpoint:r,instance:i,assembly:o}=void 0===t?{}:t;const s=e.details?`${e.message} (${e.details})`:e.message;return u("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:r,instance:i,assembly_id:o,agent:"undefined"!=typeof navigator?navigator.userAgent:"",client:this.opts.client,error:s})})}})},3189:(e,t,r)=>{"use strict";var i,o,s,n,a,l,p,u,h,d,c,f,m,g,y,v,b,w,x,k,P,S,C;function _(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var D=0;function A(e){return"__private_"+D+++"_"+e}const F=r(4114),E=r(8937),B=r(5753),R=r(5361),T=r(5401),I=r(5451),O=r(468),U=r(4313);function M(e,t){return{params:t.params,signature:t.signature,fields:t.fields}}const z=e=>t=>{const r=new Error("Failed to send error to the client");r.cause=t,console.error(r,e)},N=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/;function L(){const e=[`uppy-core:${this.uppy.constructor.VERSION}`,`uppy-transloadit:${this.constructor.VERSION}`,`uppy-tus:${B.VERSION}`],t=(t,r)=>{const i=this.uppy.getPlugin(t);i&&e.push(`${r}:${i.constructor.VERSION}`)};return this.opts.importFromUploadURLs&&(t("XHRUpload","uppy-xhr-upload"),t("AwsS3","uppy-aws-s3"),t("AwsS3Multipart","uppy-aws-s3-multipart")),t("Dropbox","uppy-dropbox"),t("Box","uppy-box"),t("Facebook","uppy-facebook"),t("GoogleDrive","uppy-google-drive"),t("Instagram","uppy-instagram"),t("OneDrive","uppy-onedrive"),t("Zoom","uppy-zoom"),t("Url","uppy-url"),e.join(",")}function j(e,t){const r={...e.meta,assembly_url:t.assembly_url,filename:e.name,fieldname:"file"},i={...e.tus,endpoint:t.tus_url,addRequestId:!0};let{remote:o}=e;if(e.remote&&N.test(e.remote.companionUrl)){const r=t.companion_url.replace(/\/$/,""),i=e.remote.url.replace(e.remote.companionUrl,"").replace(/^\//,"");o={...e.remote,companionUrl:r,url:`${r}/${i}`}}const s={...e,transloadit:{assembly:t.assembly_id}};return this.opts.importFromUploadURLs||Object.assign(s,{meta:r,tus:i,remote:o}),s}function H(e,t,r){return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:e.length,signature:r.signature}).then((r=>{const i=new R(r),{status:o}=i,n=o.assembly_id,{assemblies:a,uploadsAssemblies:l}=this.getPluginState();this.setPluginState({assemblies:{...a,[n]:o},uploadsAssemblies:{...l,[t]:[...l[t],n]}});const{files:p}=this.uppy.getState(),u={};return e.forEach((e=>{u[e]=_(this,s)[s](this.uppy.getFile(e),o)})),this.uppy.setState({files:{...p,...u}}),this.uppy.emit("transloadit:assembly-created",o,e),this.uppy.log(`[Transloadit] Created Assembly ${n}`),i})).catch((e=>{const t=new Error(`${this.i18n("creatingAssemblyFailed")}: ${e.message}`);throw t.cause=e,t}))}function $(e,t,r){const i=new O(this.uppy,e);i.on("assembly-complete",(e=>{this.getAssemblyFiles(e).forEach((e=>{this.completedFiles[e.id]=!0,this.uppy.emit("postprocess-complete",e)}))})),i.on("assembly-error",((e,t)=>{this.getAssemblyFiles(e).forEach((e=>{this.uppy.emit("upload-error",e,t),this.uppy.emit("postprocess-complete",e)}))})),this.assemblyWatchers[r]=i}function q(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function V(e,t){return Promise.all(t.map((t=>{const r=this.uppy.getFile(t);return this.client.reserveFile(e.status,r)})))}function W(e){const t=this.uppy.getFiles();for(let r=0;r<t.length;r++){const i=t[r];if(i.uploadURL===e.tus_upload_url)return i;if(i.tus&&i.tus.uploadUrl===e.tus_upload_url)return i;if(!e.is_tus_file&&i.name===e.name&&i.size===e.size)return i}}function Y(e,t){const r=this.getPluginState(),i=_(this,h)[h](t);i?(this.setPluginState({files:{...r.files,[t.id]:{assembly:e,id:i.id,uploadedFile:t}}}),this.uppy.emit("transloadit:upload",t,this.getAssembly(e))):this.uppy.log("[Transloadit] Couldn’t file the file, it was likely removed in the process")}function X(e,t,r){const i=this.getPluginState(),o=i.files[r.original_id];r.localId=o?o.id:null;const s={result:r,stepName:t,id:r.id,assembly:e};this.setPluginState({results:[...i.results,s]}),this.uppy.emit("transloadit:result",t,r,this.getAssembly(e))}function G(e){const t=e.assembly_ssl_url;this.client.getAssemblyStatus(t).then((e=>{const t=e.assembly_id,r=this.getPluginState();this.setPluginState({assemblies:{...r.assemblies,[t]:e}}),this.uppy.emit("transloadit:complete",e)}))}async function K(e){await this.client.cancelAssembly(e),this.uppy.emit("transloadit:assembly-cancelled",e)}function Z(e){const{status:t}=e,r=t.assembly_id;return this.activeAssemblies[r]=e,e.on("status",(e=>{const{assemblies:t}=this.getPluginState();this.setPluginState({assemblies:{...t,[r]:e}})})),e.on("upload",(e=>{_(this,d)[d](r,e)})),e.on("error",(t=>{t.assembly=e.status,this.uppy.emit("transloadit:assembly-error",e.status,t)})),e.on("executing",(()=>{this.uppy.emit("transloadit:assembly-executing",e.status)})),this.opts.waitForEncoding&&e.on("result",((e,t)=>{_(this,c)[c](r,e,t)})),this.opts.waitForEncoding?e.on("finished",(()=>{_(this,f)[f](e.status)})):this.opts.waitForMetadata&&e.on("metadata",(()=>{_(this,f)[f](e.status)})),"ASSEMBLY_COMPLETE"===e.ok||e.connect(),e}e.exports=(o=A("getClientVersion"),s=A("attachAssemblyMetadata"),n=A("createAssembly"),a=A("createAssemblyWatcher"),l=A("shouldWaitAfterUpload"),p=A("reserveFiles"),u=A("onFileUploadURLAvailable"),h=A("findFile"),d=A("onFileUploadComplete"),c=A("onResult"),f=A("onAssemblyFinished"),m=A("cancelAssembly"),g=A("onCancelAll"),y=A("getPersistentData"),v=A("onRestored"),b=A("connectAssembly"),w=A("prepareUpload"),x=A("afterUpload"),k=A("closeAssemblyIfExists"),P=A("onError"),S=A("onTusError"),C=i=class extends E{constructor(e,t){var r;super(e,t),r=this,Object.defineProperty(this,b,{value:Z}),Object.defineProperty(this,m,{value:K}),Object.defineProperty(this,f,{value:G}),Object.defineProperty(this,c,{value:X}),Object.defineProperty(this,d,{value:Y}),Object.defineProperty(this,h,{value:W}),Object.defineProperty(this,p,{value:V}),Object.defineProperty(this,l,{value:q}),Object.defineProperty(this,a,{value:$}),Object.defineProperty(this,n,{value:H}),Object.defineProperty(this,s,{value:j}),Object.defineProperty(this,o,{value:L}),Object.defineProperty(this,u,{writable:!0,value:e=>{const t=this.uppy.getFile(e.id);if(!t||!t.transloadit||!t.transloadit.assembly)return;const{assemblies:r}=this.getPluginState(),i=r[t.transloadit.assembly];this.client.addFile(i,t).catch((e=>{this.uppy.log(e),this.uppy.emit("transloadit:import-error",i,t.id,e)}))}}),Object.defineProperty(this,g,{writable:!0,value:()=>{const{uploadsAssemblies:e}=this.getPluginState(),t=Object.values(e).flat(1).map((e=>{const t=this.getAssembly(e);return _(this,m)[m](t)}));Promise.all(t).catch((e=>{this.uppy.log(e)}))}}),Object.defineProperty(this,y,{writable:!0,value:e=>{const{assemblies:t,uploadsAssemblies:r}=this.getPluginState();e({[this.id]:{assemblies:t,uploadsAssemblies:r}})}}),Object.defineProperty(this,v,{writable:!0,value:e=>{const t=e&&e[this.id]?e[this.id]:{},r=t.assemblies||{},i=t.uploadsAssemblies||{};if(0===Object.keys(i).length)return;const o=e=>{const t={},r=[];for(const[i,o]of Object.entries(e)){o.uploads.forEach((e=>{const r=_(this,h)[h](e);t[e.id]={id:r.id,assembly:i,uploadedFile:e}}));const e=this.getPluginState();Object.keys(o.results).forEach((t=>{for(const s of o.results[t]){const o=e.files[s.original_id];s.localId=o?o.id:null,r.push({id:s.id,result:s,stepName:t,assembly:i})}}))}this.setPluginState({assemblies:e,files:t,results:r,uploadsAssemblies:i})},s=()=>{const{assemblies:e,uploadsAssemblies:t}=this.getPluginState();Object.keys(t).forEach((e=>{const r=t[e],i=r.flatMap((e=>this.getAssemblyFiles(e).map((e=>e.id))));_(this,a)[a](r,i,e)}));Object.keys(e).forEach((t=>{const r=new R(e[t]);_(this,b)[b](r)}))},n=()=>{const{assemblies:e}=this.getPluginState();return Promise.all(Object.keys(e).map((e=>this.activeAssemblies[e].update())))};this.restored=Promise.resolve().then((()=>(o(r),s(),n()))),this.restored.then((()=>{this.restored=null}))}}),Object.defineProperty(this,w,{writable:!0,value:(e,t)=>{const r=e.filter((e=>!e.error)),i=r.map((e=>{const t=this.uppy.getFile(e);return this.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:this.i18n("creatingAssembly")}),t})),o=async e=>{let{fileIDs:r,options:i}=e;try{const e=await _(this,n)[n](r,t,i);return this.opts.importFromUploadURLs&&await _(this,p)[p](e,r),r.forEach((e=>{const t=this.uppy.getFile(e);this.uppy.emit("preprocess-complete",t)})),e}catch(e){throw r.forEach((t=>{const r=this.uppy.getFile(t);this.uppy.emit("preprocess-complete",r),this.uppy.emit("upload-error",r,e)})),e}},{uploadsAssemblies:s}=this.getPluginState();this.setPluginState({uploadsAssemblies:{...s,[t]:[]}});return new I(i,this.opts).build().then((e=>Promise.all(e.map(o)))).then((e=>{const i=e.map((e=>e.status.assembly_id));return _(this,a)[a](i,r,t),Promise.all(e.map((e=>_(this,b)[b](e))))})).catch((e=>{throw i.forEach((t=>{this.uppy.emit("preprocess-complete",t),this.uppy.emit("upload-error",t,e)})),e}))}}),Object.defineProperty(this,x,{writable:!0,value:(e,t)=>{const r=e.map((e=>this.uppy.getFile(e))),i=r.filter((e=>!e.error)).map((e=>e.id)),o=this.getPluginState();if(this.restored)return this.restored.then((()=>_(this,x)[x](i,t)));const s=o.uploadsAssemblies[t],n=()=>{s.forEach((e=>{this.activeAssemblies[e].close(),delete this.activeAssemblies[e]}))};if(!_(this,l)[l]()){n();const e=s.map((e=>this.getAssembly(e)));return this.uppy.addResultData(t,{transloadit:e}),Promise.resolve()}if(0===s.length)return this.uppy.addResultData(t,{transloadit:[]}),Promise.resolve();r.filter((e=>!F(this.completedFiles,e.id))).forEach((e=>{this.uppy.emit("postprocess-progress",e,{mode:"indeterminate",message:this.i18n("encoding")})}));return this.assemblyWatchers[t].promise.then((()=>{n();const e=s.map((e=>this.getAssembly(e))),r={...this.getPluginState().uploadsAssemblies};delete r[t],this.setPluginState({uploadsAssemblies:r}),this.uppy.addResultData(t,{transloadit:e})}))}}),Object.defineProperty(this,k,{writable:!0,value:e=>{var t;null==(t=this.activeAssemblies[e])||t.close()}}),Object.defineProperty(this,P,{writable:!0,value:function(e,t){void 0===e&&(e=null);const i=r.getPluginState().uploadsAssemblies[t];null==i||i.forEach(_(r,k)[k]),r.client.submitError(e).catch(z(e))}}),Object.defineProperty(this,S,{writable:!0,value:(e,t)=>{var r,i;if(_(this,k)[k](null==(r=e.transloadit)?void 0:r.assembly),null!=t&&null!=(i=t.message)&&i.startsWith("tus: ")){var o,s;const e=null==(o=t.originalRequest)||null==(s=o.getUnderlyingObject())?void 0:s.responseURL;this.client.submitError(t,{endpoint:e,type:"TUS_ERROR"}).catch(z(t))}}}),this.type="uploader",this.id=this.opts.id||"Transloadit",this.title="Transloadit",this.defaultLocale=U;const i={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:M,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};this.opts={...i,...t},this.i18nInit();const C=this.opts.getAssemblyOptions!==i.getAssemblyOptions;this.opts.params?I.validateParams(this.opts.params):C||I.validateParams(null),this.client=new T({service:this.opts.service,client:_(this,o)[o](),errorReporting:this.opts.errorReporting}),this.activeAssemblies={},this.assemblyWatchers={},this.completedFiles=Object.create(null)}install(){this.uppy.addPreProcessor(_(this,w)[w]),this.uppy.addPostProcessor(_(this,x)[x]),this.uppy.on("error",_(this,P)[P]),this.uppy.on("cancel-all",_(this,g)[g]),this.uppy.on("upload-error",_(this,S)[S]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",_(this,u)[u]):this.uppy.use(B,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",_(this,y)[y]),this.uppy.on("restored",_(this,v)[v]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}uninstall(){this.uppy.removePreProcessor(_(this,w)[w]),this.uppy.removePostProcessor(_(this,x)[x]),this.uppy.off("error",_(this,P)[P]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",_(this,u)[u]);const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}getAssembly(e){const{assemblies:t}=this.getPluginState();return t[e]}getAssemblyFiles(e){return this.uppy.getFiles().filter((t=>t&&t.transloadit&&t.transloadit.assembly===e))}},i.VERSION="2.1.1",C),e.exports.COMPANION="https://api2.transloadit.com/companion",e.exports.COMPANION_PATTERN=/\.transloadit\.com$/},4313:e=>{"use strict";e.exports={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}}},6495:e=>{"use strict";e.exports=function(e){const t=/^\w+:\/\//.exec(e);let r=0;t&&(r=t[0].length+1);const i=e.indexOf("/",r);return-1===i?{origin:e,pathname:"/"}:{origin:e.slice(0,i),pathname:e.slice(i)}}},4029:(e,t,r)=>{"use strict";const i=r(6641);e.exports=function(e){return(t,r)=>{if("undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)||"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return i.defaultOptions.fingerprint(t,r);const o=["tus",e.id,r.endpoint].join("-");return Promise.resolve(o)}}},5753:(e,t,r)=>{"use strict";var i,o,s;function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var a=0;function l(e){return"__private_"+a+++"_"+e}const p=r(8937),u=r(6641),{Provider:h,RequestClient:d,Socket:c}=r(6385),f=r(7351),m=r(5313),g=r(2966),y=r(8429),v=r(6311),b=r(883),{RateLimitedQueue:w}=r(8618),x=r(4114),k=r(4029),P={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1};e.exports=(o=l("retryDelayIterator"),s=i=class extends p{constructor(e,t){var r;super(e,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),this.type="uploader",this.id=this.opts.id||"Tus",this.title="Tus";const i={useFastRemoteRetry:!0,limit:20,retryDelays:P.retryDelays,withCredentials:!1};if(this.opts={...i,...t},"autoRetry"in t)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=new w(this.opts.limit),n(this,o)[o]=null==(r=this.opts.retryDelays)?void 0:r.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this),this.handleUpload=this.handleUpload.bind(this)}handleResetProgress(){const e={...this.uppy.getState().files};Object.keys(e).forEach((t=>{if(e[t].tus&&e[t].tus.uploadUrl){const r={...e[t].tus};delete r.uploadUrl,e[t]={...e[t],tus:r}}})),this.uppy.setState({files:e})}resetUploaderReferences(e,t){if(void 0===t&&(t={}),this.uploaders[e]){const r=this.uploaders[e];r.abort(),t.abort&&r.abort(!0),this.uploaders[e]=null}this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)}upload(e){return this.resetUploaderReferences(e.id),new Promise(((t,r)=>{let i,s;this.uppy.emit("upload-started",e);const a={...this.opts,...e.tus||{}};"function"==typeof a.headers&&(a.headers=a.headers(e));const l={...P,...a};l.fingerprint=k(e),l.onBeforeRequest=e=>{e.getUnderlyingObject().withCredentials=!!a.withCredentials,"function"==typeof a.onBeforeRequest&&a.onBeforeRequest(e)},l.onError=t=>{this.uppy.log(t);const o=t.originalRequest?t.originalRequest.getUnderlyingObject():null;b(o)&&(t=new v(t,o)),this.resetUploaderReferences(e.id),i.abort(),this.uppy.emit("upload-error",e,t),r(t)},l.onProgress=(t,r)=>{this.onReceiveUploadUrl(e,d.url),this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t,bytesTotal:r})},l.onSuccess=()=>{const r={uploadURL:d.url};this.resetUploaderReferences(e.id),i.done(),this.uppy.emit("upload-success",e,r),d.url&&this.uppy.log(`Download ${d.file.name} from ${d.url}`),t(d)},l.onShouldRetry=(e,t,r)=>{var a;const l=null==e||null==(a=e.originalResponse)?void 0:a.getStatus();if(429===l){if(!this.requests.isPaused){var p;const e=null==(p=n(this,o)[o])?void 0:p.next();if(null==e||e.done)return!1;this.requests.rateLimit(e.value)}i.abort(),i=this.requests.run(s)}else{if(l>400&&l<500&&409!==l)return!1;"undefined"!=typeof navigator&&!1===navigator.onLine?(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",(()=>{this.requests.resume()}),{once:!0})),i.abort(),i=this.requests.run(s)):setTimeout((()=>{i.abort(),i=this.requests.run(s)}),r.retryDelays[t])}return queueMicrotask((()=>clearTimeout(i._retryTimeout))),!0};const p=(e,t,r)=>{x(e,t)&&!x(e,r)&&(e[r]=e[t])},h={};(Array.isArray(a.metaFields)?a.metaFields:Object.keys(e.meta)).forEach((t=>{h[t]=e.meta[t]})),p(h,"type","filetype"),p(h,"name","filename"),l.metadata=h;const d=new u.Upload(e.data,l);this.uploaders[e.id]=d,this.uploaderEvents[e.id]=new y(this.uppy),s=()=>(e.isPaused||d.start(),()=>{}),d.findPreviousUploads().then((t=>{const r=t[0];r&&(this.uppy.log(`[Tus] Resuming upload of ${e.id} started at ${r.creationTime}`),d.resumeFromPreviousUpload(r))})),i=this.requests.run(s),this.onFileRemove(e.id,(r=>{i.abort(),this.resetUploaderReferences(e.id,{abort:!!d.url}),t(`upload ${r} was removed`)})),this.onPause(e.id,(e=>{e?(i.abort(),d.abort()):(i.abort(),i=this.requests.run(s))})),this.onPauseAll(e.id,(()=>{i.abort(),d.abort()})),this.onCancelAll(e.id,(()=>{i.abort(),this.resetUploaderReferences(e.id,{abort:!!d.url}),t(`upload ${e.id} was canceled`)})),this.onResumeAll(e.id,(()=>{i.abort(),e.error&&d.abort(),i=this.requests.run(s)}))})).catch((t=>{throw this.uppy.emit("upload-error",e,t),t}))}uploadRemote(e){this.resetUploaderReferences(e.id);const t={...this.opts};return e.tus&&Object.assign(t,e.tus),this.uppy.emit("upload-started",e),this.uppy.log(e.remote.url),e.serverToken?this.connectToServerSocket(e):new Promise(((r,i)=>{new(e.remote.providerOptions.provider?h:d)(this.uppy,e.remote.providerOptions).post(e.remote.url,{...e.remote.body,endpoint:t.endpoint,uploadUrl:t.uploadUrl,protocol:"tus",size:e.data.size,headers:t.headers,metadata:e.meta}).then((t=>(this.uppy.setFileState(e.id,{serverToken:t.token}),e=this.uppy.getFile(e.id),this.connectToServerSocket(e)))).then((()=>{r()})).catch((t=>{this.uppy.emit("upload-error",e,t),i(t)}))}))}connectToServerSocket(e){return new Promise(((t,r)=>{const i=e.serverToken,o=m(e.remote.companionUrl),s=new c({target:`${o}/api/${i}`,autoOpen:!1});let n;this.uploaderSockets[e.id]=s,this.uploaderEvents[e.id]=new y(this.uppy),this.onFileRemove(e.id,(()=>{n.abort(),s.send("cancel",{}),this.resetUploaderReferences(e.id),t(`upload ${e.id} was removed`)})),this.onPause(e.id,(e=>{e?(n.abort(),s.send("pause",{})):(n.abort(),n=this.requests.run((()=>(s.send("resume",{}),()=>{}))))})),this.onPauseAll(e.id,(()=>{n.abort(),s.send("pause",{})})),this.onCancelAll(e.id,(()=>{n.abort(),s.send("cancel",{}),this.resetUploaderReferences(e.id),t(`upload ${e.id} was canceled`)})),this.onResumeAll(e.id,(()=>{n.abort(),e.error&&s.send("pause",{}),n=this.requests.run((()=>(s.send("resume",{}),()=>{})))})),this.onRetry(e.id,(()=>{s.isOpen&&(s.send("pause",{}),s.send("resume",{}))})),this.onRetryAll(e.id,(()=>{s.isOpen&&(s.send("pause",{}),s.send("resume",{}))})),s.on("progress",(t=>f(this,t,e))),s.on("error",(t=>{const{message:i}=t.error,o=Object.assign(new Error(i),{cause:t.error});this.opts.useFastRemoteRetry?s.close():(this.resetUploaderReferences(e.id),this.uppy.setFileState(e.id,{serverToken:null})),this.uppy.emit("upload-error",e,o),n.done(),r(o)})),s.on("success",(r=>{const i={uploadURL:r.url};this.uppy.emit("upload-success",e,i),this.resetUploaderReferences(e.id),n.done(),t()})),n=this.requests.run((()=>(s.open(),e.isPaused&&s.send("pause",{}),()=>{})))}))}onReceiveUploadUrl(e,t){const r=this.uppy.getFile(e.id);r&&(r.tus&&r.tus.uploadUrl===t||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(r.id,{tus:{...r.tus,uploadUrl:t}})))}onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",(r=>{e===r.id&&t(r.id)}))}onPause(e,t){this.uploaderEvents[e].on("upload-pause",((r,i)=>{e===r&&t(i)}))}onRetry(e,t){this.uploaderEvents[e].on("upload-retry",(r=>{e===r&&t()}))}onRetryAll(e,t){this.uploaderEvents[e].on("retry-all",(()=>{this.uppy.getFile(e)&&t()}))}onPauseAll(e,t){this.uploaderEvents[e].on("pause-all",(()=>{this.uppy.getFile(e)&&t()}))}onCancelAll(e,t){this.uploaderEvents[e].on("cancel-all",(()=>{this.uppy.getFile(e)&&t()}))}onResumeAll(e,t){this.uploaderEvents[e].on("resume-all",(()=>{this.uppy.getFile(e)&&t()}))}uploadFiles(e){const t=e.map(((t,r)=>{const i=r+1,o=e.length;return"error"in t&&t.error?Promise.reject(new Error(t.error)):t.isRemote?(t.progress.uploadStarted&&t.isRestored||this.uppy.emit("upload-started",t),this.uploadRemote(t,i,o)):(t.progress.uploadStarted&&t.isRestored||this.uppy.emit("upload-started",t),this.upload(t,i,o))}));return g(t)}handleUpload(e){if(0===e.length)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();0===this.opts.limit&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");const t=e.map((e=>this.uppy.getFile(e)));return this.uploadFiles(t).then((()=>null))}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(this.handleUpload)}},i.VERSION="2.2.0",s)},5810:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{h:n}=r(6400),{SearchProvider:a,Provider:l}=r(6385),{SearchProviderViews:p}=r(7792);e.exports=(o=i=class extends s{constructor(e,t){if(super(e,t),this.id=this.opts.id||"Unsplash",this.title=this.opts.title||"Unsplash",l.initPlugin(this,t,{}),this.icon=()=>n("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},n("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),n("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),n("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"})),!this.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.hostname=this.opts.companionUrl,this.provider=new a(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"unsplash",pluginId:this.id})}install(){this.view=new p(this,{provider:this.provider,viewType:"unsplash"});const{target:e}=this.opts;e&&this.mount(e,this)}onFirstRender(){}render(e){return this.view.render(e)}uninstall(){this.unmount()}},i.VERSION="2.0.2",o)},3956:(e,t,r)=>{"use strict";const{h:i,Component:o}=r(6400);e.exports=class extends o{constructor(e){super(e),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleClick=this.handleClick.bind(this)}componentDidMount(){this.input.value=""}handleKeyPress(e){13===e.keyCode&&this.props.addFile(this.input.value)}handleClick(){this.props.addFile(this.input.value)}render(){return i("div",{className:"uppy-Url"},i("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":this.props.i18n("enterUrlToImport"),placeholder:this.props.i18n("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:e=>{this.input=e},"data-uppy-super-focusable":!0}),i("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},this.props.i18n("import")))}}},9905:(e,t,r)=>{"use strict";var i,o;const{UIPlugin:s}=r(9429),{h:n}=r(6400),{RequestClient:a}=r(6385),l=r(6361),p=r(3956),u=r(9572),h=r(9587);function d(){return n("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},n("g",{fill:"none",fillRule:"evenodd"},n("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),n("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.id=this.opts.id||"Url",this.title=this.opts.title||"Link",this.type="acquirer",this.icon=()=>n(d,null),this.defaultLocale=h;if(this.opts={...t},this.i18nInit(),this.hostname=this.opts.companionUrl,!this.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.getMeta=this.getMeta.bind(this),this.addFile=this.addFile.bind(this),this.handleRootDrop=this.handleRootDrop.bind(this),this.handleRootPaste=this.handleRootPaste.bind(this),this.client=new a(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule})}getFileNameFromUrl(e){return e.substring(e.lastIndexOf("/")+1)}checkIfCorrectURL(e){if(!e)return!1;const t=e.match(/^([a-z0-9]+):\/\//)[1];return"http"===t||"https"===t}addProtocolToURL(e){return/^[a-z0-9]+:\/\//.test(e)?e:"http://"+e}getMeta(e){return this.client.post("url/meta",{url:e}).then((e=>{if(e.error)throw this.uppy.log("[URL] Error:"),this.uppy.log(e.error),new Error("Failed to fetch the file");return e}))}addFile(e){return e=this.addProtocolToURL(e),this.checkIfCorrectURL(e)?this.getMeta(e).then((t=>({source:this.id,name:this.getFileNameFromUrl(e),type:t.type,data:{size:t.size},isRemote:!0,body:{url:e},remote:{companionUrl:this.opts.companionUrl,url:`${this.hostname}/url/get`,body:{fileId:e,url:e},providerOptions:this.client.opts}}))).then((e=>{this.uppy.log("[Url] Adding remote file");try{return this.uppy.addFile(e)}catch(e){return e.isRestriction||this.uppy.log(e),e}})).catch((e=>(this.uppy.log(e),this.uppy.info({message:this.i18n("failedToFetch"),details:e},"error",4e3),e))):(this.uppy.log(`[URL] Incorrect URL entered: ${e}`),void this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3))}canHandleRootDrop(e){return l(e.dataTransfer.items).filter((e=>"string"===e.kind&&"text/uri-list"===e.type)).length>0}handleRootDrop(e){u(e.dataTransfer,"drop",(e=>{this.uppy.log(`[URL] Adding file from dropped url: ${e}`),this.addFile(e)}))}handleRootPaste(e){u(e.clipboardData,"paste",(e=>{this.uppy.log(`[URL] Adding file from pasted url: ${e}`),this.addFile(e)}))}render(){return n(p,{i18n:this.i18n,addFile:this.addFile})}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}},i.VERSION="2.0.5",o)},9587:e=>{"use strict";e.exports={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it’s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}}},9572:(e,t,r)=>{"use strict";const i=r(6361);e.exports=function(e,t,r){const o=i(e.items);let s;switch(t){case"paste":if(o.some((e=>"file"===e.kind)))return;s=o.filter((e=>"string"===e.kind&&"text/plain"===e.type));break;case"drop":s=o.filter((e=>"string"===e.kind&&"text/uri-list"===e.type));break;default:throw new Error(`isDropOrPaste must be either 'drop' or 'paste', but it's ${t}`)}s.forEach((e=>{e.getAsString((e=>r(e)))}))}},8692:(e,t)=>{"use strict";t.AbortController=globalThis.AbortController,t.AbortSignal=globalThis.AbortSignal,t.createAbortError=function(e){return void 0===e&&(e="Aborted"),new DOMException(e,"AbortError")}},8429:e=>{"use strict";var t,r;function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function s(e){return"__private_"+o+++"_"+e}e.exports=(t=s("emitter"),r=s("events"),class{constructor(e){Object.defineProperty(this,t,{writable:!0,value:void 0}),Object.defineProperty(this,r,{writable:!0,value:[]}),i(this,t)[t]=e}on(e,o){return i(this,r)[r].push([e,o]),i(this,t)[t].on(e,o)}remove(){for(const[e,o]of i(this,r)[r].splice(0))i(this,t)[t].off(e,o)}})},9045:e=>{"use strict";e.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']},6311:e=>{"use strict";class t extends Error{constructor(e,t){void 0===t&&(t=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=t}}e.exports=t},4772:e=>{"use strict";function t(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var r=0;function i(e){return"__private_"+r+++"_"+e}var o=i("aliveTimer"),s=i("isDone"),n=i("onTimedOut"),a=i("timeout");e.exports=class{constructor(e,r){Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:!1}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),t(this,a)[a]=e,t(this,n)[n]=r}progress(){t(this,s)[s]||t(this,a)[a]>0&&(clearTimeout(t(this,o)[o]),t(this,o)[o]=setTimeout(t(this,n)[n],t(this,a)[a]))}done(){t(this,s)[s]||(clearTimeout(t(this,o)[o]),t(this,o)[o]=null,t(this,s)[s]=!0)}}},8618:e=>{"use strict";function t(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var r=0;function i(e){return"__private_"+r+++"_"+e}function o(){return new Error("Cancelled")}var s=i("activeRequests"),n=i("queuedHandlers"),a=i("paused"),l=i("pauseTimer"),p=i("downLimit"),u=i("upperLimit"),h=i("rateLimitingTimer"),d=i("call"),c=i("queueNext"),f=i("next"),m=i("queue"),g=i("dequeue"),y=i("resume"),v=i("increaseLimit");function b(e){t(this,s)[s]+=1;let r,i=!1;try{r=e()}catch(e){throw t(this,s)[s]-=1,e}return{abort:()=>{i||(i=!0,t(this,s)[s]-=1,r(),t(this,c)[c]())},done:()=>{i||(i=!0,t(this,s)[s]-=1,t(this,c)[c]())}}}function w(){queueMicrotask((()=>t(this,f)[f]()))}function x(){if(t(this,a)[a]||t(this,s)[s]>=this.limit)return;if(0===t(this,n)[n].length)return;const e=t(this,n)[n].shift(),r=t(this,d)[d](e.fn);e.abort=r.abort,e.done=r.done}function k(e,r){void 0===r&&(r={});const i={fn:e,priority:r.priority||0,abort:()=>{t(this,g)[g](i)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},o=t(this,n)[n].findIndex((e=>i.priority>e.priority));return-1===o?t(this,n)[n].push(i):t(this,n)[n].splice(o,0,i),i}function P(e){const r=t(this,n)[n].indexOf(e);-1!==r&&t(this,n)[n].splice(r,1)}e.exports={RateLimitedQueue:class{constructor(e){Object.defineProperty(this,g,{value:P}),Object.defineProperty(this,m,{value:k}),Object.defineProperty(this,f,{value:x}),Object.defineProperty(this,c,{value:w}),Object.defineProperty(this,d,{value:b}),Object.defineProperty(this,s,{writable:!0,value:0}),Object.defineProperty(this,n,{writable:!0,value:[]}),Object.defineProperty(this,a,{writable:!0,value:!1}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:1}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,v,{writable:!0,value:()=>{if(t(this,a)[a])t(this,h)[h]=setTimeout(t(this,v)[v],0);else{t(this,p)[p]=this.limit,this.limit=Math.ceil((t(this,u)[u]+t(this,p)[p])/2);for(let e=t(this,p)[p];e<=this.limit;e++)t(this,c)[c]();t(this,u)[u]-t(this,p)[p]>3?t(this,h)[h]=setTimeout(t(this,v)[v],2e3):t(this,p)[p]=Math.floor(t(this,p)[p]/2)}}}),this.limit="number"!=typeof e||0===e?1/0:e}run(e,r){return!t(this,a)[a]&&t(this,s)[s]<this.limit?t(this,d)[d](e):t(this,m)[m](e,r)}wrapPromiseFunction(e,t){var r=this;return function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];let a;const l=new Promise(((i,n)=>{a=r.run((()=>{let t,r;try{r=Promise.resolve(e(...s))}catch(e){r=Promise.reject(e)}return r.then((e=>{t?n(t):(a.done(),i(e))}),(e=>{t?n(t):(a.done(),n(e))})),()=>{t=o()}}),t)}));return l.abort=()=>{a.abort()},l}}resume(){t(this,a)[a]=!1,clearTimeout(t(this,l)[l]);for(let e=0;e<this.limit;e++)t(this,c)[c]()}pause(e){void 0===e&&(e=null),t(this,a)[a]=!0,clearTimeout(t(this,l)[l]),null!=e&&(t(this,l)[l]=setTimeout(t(this,y)[y],e))}rateLimit(e){clearTimeout(t(this,h)[h]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(t(this,u)[u]=this.limit-1,this.limit=t(this,p)[p],t(this,h)[h]=setTimeout(t(this,v)[v],e))}get isPaused(){return t(this,a)[a]}},internalRateLimitedQueue:Symbol("__queue")}},3363:(e,t,r)=>{"use strict";var i;function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var s=0;function n(e){return"__private_"+s+++"_"+e}const a=r(4114);function l(e,t,r){const i=[];return e.forEach((e=>"string"!=typeof e?i.push(e):t[Symbol.split](e).forEach(((e,t,o)=>{""!==e&&i.push(e),t<o.length-1&&i.push(r)})))),i}function p(e,t){const r=/\$/g;let i=[e];if(null==t)return i;for(const e of Object.keys(t))if("_"!==e){let o=t[e];"string"==typeof o&&(o=r[Symbol.replace](o,"$$$$")),i=l(i,new RegExp(`%\\{${e}\\}`,"g"),o)}return i}function u(e){if(null==e||!e.strings)return;const t=this.locale;this.locale={...t,strings:{...t.strings,...e.strings}},this.locale.pluralize=e.pluralize||t.pluralize}e.exports=(i=n("apply"),class{constructor(e){Object.defineProperty(this,i,{value:u}),this.locale={strings:{},pluralize:e=>1===e?0:1},Array.isArray(e)?e.forEach(o(this,i)[i],this):o(this,i)[i](e)}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){if(!a(this.locale.strings,e))throw new Error(`missing string: ${e}`);const r=this.locale.strings[e];if("object"==typeof r){if(t&&void 0!==t.smart_count){return p(r[this.locale.pluralize(t.smart_count)],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return p(r,t)}})},7326:e=>{"use strict";e.exports=function(e,t,r){return new Promise((i=>{e.toBlob(i,t,r)}))}},3517:e=>{"use strict";const t=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;e.exports=function(e,r,i){var o,s;const n=t.exec(e),a=null!=(o=null!=(s=r.mimeType)?s:null==n?void 0:n[1])?o:"plain/text";let l;if(null!=n[2]){const e=atob(decodeURIComponent(n[3])),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);l=[t]}else l=[decodeURIComponent(n[3])];return i?new File(l,r.name||"",{type:a}):new Blob(l,{type:a})}},254:(e,t,r)=>{"use strict";const{createAbortError:i}=r(8692);e.exports=function(e,t){return new Promise(((r,o)=>{var s,n;if(null!=t&&null!=(s=t.signal)&&s.aborted)return o(i());const a=setTimeout((()=>{p(),r()}),e);function l(){clearTimeout(a),p(),o(i())}function p(){var e;null==t||null==(e=t.signal)||e.removeEventListener("abort",l)}null==t||null==(n=t.signal)||n.addEventListener("abort",l)}))}},7351:(e,t,r)=>{"use strict";const i=r(3096);e.exports=i((function(e,t,r){const{progress:i,bytesUploaded:o,bytesTotal:s}=t;i&&(e.uppy.log(`Upload progress: ${i}`),e.uppy.emit("upload-progress",r,{uploader:e,bytesUploaded:o,bytesTotal:s}))}),300,{leading:!0,trailing:!0})},6865:(e,t,r)=>{"use strict";const i=r(6311);e.exports=function(){return fetch(...arguments).catch((e=>{throw"AbortError"===e.name?e:new i(e)}))}},1147:(e,t,r)=>{"use strict";const i=r(5031);e.exports=function(e){if("string"==typeof e){const t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"==typeof e&&i(e)?[e]:null}},2729:(e,t,r)=>{"use strict";const i=r(5031);e.exports=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):i(e)?e:null}},8619:e=>{"use strict";function t(e){let t="";return e.replace(/[^A-Z0-9]/gi,(e=>(t+=`-${function(e){return e.charCodeAt(0).toString(32)}(e)}`,"/")))+t}e.exports=function(e){let r="uppy";return"string"==typeof e.name&&(r+=`-${t(e.name.toLowerCase())}`),void 0!==e.type&&(r+=`-${e.type}`),e.meta&&"string"==typeof e.meta.relativePath&&(r+=`-${t(e.meta.relativePath.toLowerCase())}`),void 0!==e.data.size&&(r+=`-${e.data.size}`),void 0!==e.data.lastModified&&(r+=`-${e.data.lastModified}`),r}},9599:e=>{"use strict";e.exports=function(e){return e.bytesTotal-e.bytesUploaded}},4304:(e,t,r)=>{"use strict";const i=r(9324),o=r(180);e.exports=function(e,t){var r;let{logDropError:s=(()=>{})}=void 0===t?{}:t;return null!=(r=e.items)&&r[0]&&"webkitGetAsEntry"in e.items[0]?i(e,s):o(e)}},180:(e,t,r)=>{"use strict";const i=r(6361);e.exports=function(e){const t=i(e.files);return Promise.resolve(t)}},9083:e=>{"use strict";e.exports=function e(t,r,i,o){let{onSuccess:s}=o;t.readEntries((o=>{const n=[...r,...o];o.length?setTimeout((()=>{e(t,n,i,{onSuccess:s})}),0):s(n)}),(e=>{i(e),s(r)}))}},2871:e=>{"use strict";e.exports=function(e){return e.fullPath&&e.fullPath!==`/${e.name}`?e.fullPath:null}},9324:(e,t,r)=>{"use strict";const i=r(6361),o=r(2871),s=r(9083);e.exports=function(e,t){const r=[],n=[],a=e=>new Promise((i=>{if(e.isFile)e.file((t=>{t.relativePath=o(e),r.push(t),i()}),(e=>{t(e),i()}));else if(e.isDirectory){const r=e.createReader();s(r,[],t,{onSuccess:e=>i(Promise.all(e.map(a)))})}}));return i(e.items).forEach((e=>{const t=e.webkitGetAsEntry();t&&n.push(a(t))})),Promise.all(n).then((()=>r))}},8744:e=>{"use strict";e.exports=function(e){const t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},9404:(e,t,r)=>{"use strict";const i=r(8744),o=r(5624);e.exports=function(e){var t;if(e.type)return e.type;const r=e.name?null==(t=i(e.name).extension)?void 0:t.toLowerCase():null;return r&&r in o?o[r]:"application/octet-stream"}},182:e=>{"use strict";const t={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};e.exports=function(e){return[e]=e.split(";",1),t[e]||null}},5313:e=>{"use strict";e.exports=function(e){const t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(e)[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${t}`}},522:e=>{"use strict";e.exports=function(e){if(!e.bytesUploaded)return 0;const t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)}},8958:e=>{"use strict";e.exports=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},6770:e=>{"use strict";function t(e){return e<10?`0${e}`:e.toString()}e.exports=function(){const e=new Date;return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}},4114:e=>{"use strict";e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},5031:e=>{"use strict";e.exports=function(e){return(null==e?void 0:e.nodeType)===Node.ELEMENT_NODE}},3754:e=>{"use strict";e.exports=function(){const e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}},883:e=>{"use strict";e.exports=function(e){return!!e&&(0!==e.readyState&&4!==e.readyState||0===e.status)}},6508:e=>{"use strict";e.exports=function(e){return e.startsWith("blob:")}},9373:e=>{"use strict";e.exports=function(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}},5624:e=>{"use strict";e.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},1011:(e,t,r)=>{"use strict";const i=r(8920);e.exports=function(e){const t=i(e);return`${0===t.hours?"":`${t.hours}h`}${0===t.minutes?"":`${0===t.hours?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`}${0!==t.hours?"":`${0===t.minutes?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`}`}},6626:(e,t,r)=>{"use strict";const i=r(8744);e.exports=function(e){return{...e,type:e.mimeType,extension:e.name?i(e.name).extension:null}}},8920:e=>{"use strict";e.exports=function(e){return{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}}},2966:e=>{"use strict";e.exports=function(e){const t=[],r=[];function i(e){t.push(e)}function o(e){r.push(e)}return Promise.all(e.map((e=>e.then(i,o)))).then((()=>({successful:t,failed:r})))}},6361:e=>{"use strict";e.exports=Array.from},469:e=>{"use strict";const t="...";e.exports=function(e,r){if(0===r)return"";if(e.length<=r)return e;if(r<=t.length+1)return`${e.slice(0,r-1)}…`;const i=r-t.length,o=Math.ceil(i/2),s=Math.floor(i/2);return e.slice(0,o)+t+e.slice(-s)}},1288:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=()=>i("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},i("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))},8232:(e,t,r)=>{"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i.apply(this,arguments)}const{h:o,Component:s}=r(6400),n=r(1592),a=r(4491),l=r(2494),p=r(9346),u=r(8416),h=r(6871);function d(e,t){return-1!==e.indexOf(t)}e.exports=class extends s{componentDidMount(){const{onFocus:e}=this.props;e()}componentWillUnmount(){const{onStop:e}=this.props;e()}render(){const{src:e,recordedVideo:t,recording:r,modes:s,supportsRecording:c,videoSources:f,showVideoSourceDropdown:m,showRecordingLength:g,onSubmit:y,i18n:v,mirror:b,onSnapshot:w,onStartRecording:x,onStopRecording:k,onDiscardRecordedVideo:P,recordingLengthSeconds:S}=this.props,C=!!t,_=!C&&c&&(d(s,"video-only")||d(s,"audio-only")||d(s,"video-audio")),D=!C&&d(s,"picture"),A=c&&g&&!C,F=m&&f&&f.length>1,E={playsinline:!0};return t?(E.muted=!1,E.controls=!0,E.src=t,this.videoElement&&(this.videoElement.srcObject=void 0)):(E.muted=!0,E.autoplay=!0,E.srcObject=e),o("div",{className:"uppy uppy-Webcam-container"},o("div",{className:"uppy-Webcam-videoContainer"},o("video",i({ref:e=>this.videoElement=e,className:"uppy-Webcam-video  "+(b?"uppy-Webcam-video--mirrored":"")},E))),o("div",{className:"uppy-Webcam-footer"},o("div",{className:"uppy-Webcam-videoSourceContainer"},F?p(this.props):null),o("div",{className:"uppy-Webcam-buttonContainer"},D&&o(n,{onSnapshot:w,i18n:v}),_&&o(a,{recording:r,onStartRecording:x,onStopRecording:k,i18n:v}),C&&o(u,{onSubmit:y,i18n:v}),C&&o(h,{onDiscard:P,i18n:v})),o("div",{className:"uppy-Webcam-recordingLength"},A&&o(l,{recordingLengthSeconds:S,i18n:v}))))}}},6871:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{onDiscard:t,i18n:r}=e;return i("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},i("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},i("g",{fill:"#FFF",fillRule:"evenodd"},i("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),i("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}},9366:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>i("div",{className:"uppy-Webcam-permissons"},i("div",{className:"uppy-Webcam-permissonsIcon"},e.icon()),i("h1",{className:"uppy-Webcam-title"},e.hasCamera?e.i18n("allowAccessTitle"):e.i18n("noCameraTitle")),i("p",null,e.hasCamera?e.i18n("allowAccessDescription"):e.i18n("noCameraDescription")))},4491:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{recording:t,onStartRecording:r,onStopRecording:o,i18n:s}=e;return t?i("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:s("stopRecording"),"aria-label":s("stopRecording"),onClick:o,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},i("rect",{x:"15",y:"15",width:"70",height:"70"}))):i("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:s("startRecording"),"aria-label":s("startRecording"),onClick:r,"data-uppy-super-focusable":!0},i("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},i("circle",{cx:"50",cy:"50",r:"40"})))}},2494:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(5447);e.exports=function(e){let{recordingLengthSeconds:t,i18n:r}=e;const s=o(t);return i("span",{"aria-label":r("recordingLength",{recording_length:s})},s)}},1592:(e,t,r)=>{"use strict";const{h:i}=r(6400),o=r(1288);e.exports=e=>{let{onSnapshot:t,i18n:r}=e;return i("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:t,"data-uppy-super-focusable":!0},o())}},8416:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=function(e){let{onSubmit:t,i18n:r}=e;return i("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},i("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},i("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}},9346:(e,t,r)=>{"use strict";const{h:i}=r(6400);e.exports=e=>{let{currentDeviceId:t,videoSources:r,onChangeVideoSource:o}=e;return i("div",{className:"uppy-Webcam-videoSource"},i("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:e=>{o(e.target.value)}},r.map((e=>i("option",{key:e.deviceId,value:e.deviceId,selected:e.deviceId===t},e.label)))))}},5447:e=>{"use strict";e.exports=function(e){return`${Math.floor(e/60)}:${String(e%60).padStart(2,0)}`}},9189:(e,t,r)=>{"use strict";var i,o,s;function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n.apply(this,arguments)}function a(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var l=0;function p(e){return"__private_"+l+++"_"+e}const{h:u}=r(6400),{UIPlugin:h}=r(9429),d=r(182),c=r(5624),f=r(7326),m=r(5109),g=r(1288),y=r(8232),v=r(9366),b=r(7352);function w(e){return"."===e[0]?c[e.slice(1)]:e}function x(e){return/^video\/[^*]+$/.test(e)}function k(e){return/^image\/[^*]+$/.test(e)}e.exports=(o=p("enableMirror"),s=i=class extends h{constructor(e,t){super(e,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),this.mediaDevices=navigator.mediaDevices,this.supportsUserMedia=!!this.mediaDevices,this.protocol=location.protocol.match(/https/i)?"https":"http",this.id=this.opts.id||"Webcam",this.type="acquirer",this.capturedMediaFile=null,this.icon=()=>u("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},u("g",{fill:"none",fillRule:"evenodd"},u("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),u("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),this.defaultLocale=b;const r={onBeforeSnapshot:()=>Promise.resolve(),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};this.opts={...r,...t},this.i18nInit(),this.title=this.i18n("pluginNameCamera"),a(this,o)[o]=this.opts.mirror,this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.takeSnapshot=this.takeSnapshot.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.discardRecordedVideo=this.discardRecordedVideo.bind(this),this.submit=this.submit.bind(this),this.oneTwoThreeSmile=this.oneTwoThreeSmile.bind(this),this.focus=this.focus.bind(this),this.changeVideoSource=this.changeVideoSource.bind(this),this.webcamActive=!1,this.opts.countdown&&(this.opts.onBeforeSnapshot=this.oneTwoThreeSmile),this.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null})}setOptions(e){super.setOptions({...e,videoConstraints:{...this.opts.videoConstraints,...null==e?void 0:e.videoConstraints}})}hasCameraCheck(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then((e=>e.some((e=>"videoinput"===e.kind)))):Promise.resolve(!1)}isAudioOnly(){return 1===this.opts.modes.length&&"audio-only"===this.opts.modes[0]}getConstraints(e){void 0===e&&(e=null);const t=-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),r=!this.isAudioOnly()&&(-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("video-only")||-1!==this.opts.modes.indexOf("picture")),i={...this.opts.videoConstraints||{facingMode:this.opts.facingMode},...e?{deviceId:e,facingMode:null}:{}};return{audio:t,video:!!r&&i}}start(e){if(void 0===e&&(e=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(a(this,o)[o]=!0);const t=this.getConstraints(e&&e.deviceId?e.deviceId:null);this.hasCameraCheck().then((r=>(this.setPluginState({hasCamera:r}),this.mediaDevices.getUserMedia(t).then((t=>{this.stream=t;let r=null;const i=this.isAudioOnly()?t.getAudioTracks():t.getVideoTracks();e&&e.deviceId?i.forEach((t=>{t.getSettings().deviceId===e.deviceId&&(r=t.getSettings().deviceId)})):r=i[0].getSettings().deviceId,this.updateVideoSources(),this.setPluginState({currentDeviceId:r,cameraReady:!0})})).catch((e=>{this.setPluginState({cameraReady:!1,cameraError:e}),this.uppy.info(e.message,"error")})))))}getMediaRecorderOptions(){const e={};if(MediaRecorder.isTypeSupported){const{restrictions:t}=this.uppy.opts;let r=[];this.opts.preferredVideoMimeType?r=[this.opts.preferredVideoMimeType]:t.allowedFileTypes&&(r=t.allowedFileTypes.map(w).filter(x));const i=e=>MediaRecorder.isTypeSupported(e)&&d(e),o=r.filter(i);o.length>0&&(e.mimeType=o[0])}return e}startRecording(){this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];let e=!1;this.recorder.addEventListener("dataavailable",(t=>{this.recordingChunks.push(t.data);const{restrictions:r}=this.uppy.opts;if(this.recordingChunks.length>1&&null!=r.maxFileSize&&!e){const t=this.recordingChunks.reduce(((e,t)=>e+t.size),0),i=3*((t-this.recordingChunks[0].size)/(this.recordingChunks.length-1));t>Math.max(0,r.maxFileSize-i)&&(e=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),this.stopRecording())}})),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval((()=>{const e=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:e+1})}),1e3)),this.setPluginState({isRecording:!0})}stopRecording(){return new Promise((e=>{this.recorder.addEventListener("stop",(()=>{e()})),this.recorder.stop(),this.opts.showRecordingLength&&(clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0}))})).then((()=>(this.setPluginState({isRecording:!1}),this.getVideo()))).then((e=>{try{this.capturedMediaFile=e,this.setPluginState({recordedVideo:URL.createObjectURL(e.data)}),a(this,o)[o]=!1}catch(e){e.isRestriction||this.uppy.log(e)}})).then((()=>{this.recordingChunks=null,this.recorder=null}),(e=>{throw this.recordingChunks=null,this.recorder=null,e}))}discardRecordedVideo(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(a(this,o)[o]=!0),this.capturedMediaFile=null}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(e){e.isRestriction||this.uppy.log(e,"error")}}async stop(){if(this.stream){const e=this.stream.getAudioTracks(),t=this.stream.getVideoTracks();e.concat(t).forEach((e=>e.stop()))}this.recorder&&await new Promise((e=>{this.recorder.addEventListener("stop",e,{once:!0}),this.recorder.stop(),this.opts.showRecordingLength&&clearInterval(this.recordingLengthTimer)})),this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0})}getVideoElement(){return this.el.querySelector(".uppy-Webcam-video")}oneTwoThreeSmile(){return new Promise(((e,t)=>{let r=this.opts.countdown;const i=setInterval((()=>{if(!this.webcamActive)return clearInterval(i),this.captureInProgress=!1,t(new Error("Webcam is not active"));r>0?(this.uppy.info(`${r}...`,"warning",800),r--):(clearInterval(i),this.uppy.info(this.i18n("smile"),"success",1500),setTimeout((()=>e()),1500))}),1e3)}))}takeSnapshot(){this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch((e=>{const t="object"==typeof e?e.message:e;return this.uppy.info(t,"error",5e3),Promise.reject(new Error(`onBeforeSnapshot: ${t}`))})).then((()=>this.getImage())).then((e=>{this.captureInProgress=!1;try{this.uppy.addFile(e)}catch(e){e.isRestriction||this.uppy.log(e)}}),(e=>{throw this.captureInProgress=!1,e})))}getImage(){const e=this.getVideoElement();if(!e)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));const t=e.videoWidth,r=e.videoHeight,i=document.createElement("canvas");i.width=t,i.height=r;i.getContext("2d").drawImage(e,0,0);const{restrictions:o}=this.uppy.opts;let s=[];this.opts.preferredImageMimeType?s=[this.opts.preferredImageMimeType]:o.allowedFileTypes&&(s=o.allowedFileTypes.map(w).filter(k));const n=s[0]||"image/jpeg",a=d(n)||"jpg",l=`cam-${Date.now()}.${a}`;return f(i,n).then((e=>({source:this.id,name:l,data:new Blob([e],{type:n}),type:n})))}getVideo(){const e=this.recordingChunks.find((e=>{var t;return(null==(t=e.type)?void 0:t.length)>0})).type,t=d(e);if(!t)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${e}"`));const r=`webcam-${Date.now()}.${t}`,i=new Blob(this.recordingChunks,{type:e}),o={source:this.id,name:r,data:new Blob([i],{type:e}),type:e};return Promise.resolve(o)}focus(){this.opts.countdown&&setTimeout((()=>{this.uppy.info(this.i18n("smile"),"success",1500)}),1e3)}changeVideoSource(e){this.stop(),this.start({deviceId:e})}updateVideoSources(){this.mediaDevices.enumerateDevices().then((e=>{this.setPluginState({videoSources:e.filter((e=>"videoinput"===e.kind))})}))}render(){this.webcamActive||this.start();const e=this.getPluginState();return e.cameraReady&&e.hasCamera?u(y,n({},e,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:m(),recording:e.isRecording,mirror:a(this,o)[o],src:this.stream})):u(v,{icon:g,i18n:this.i18n,hasCamera:e.hasCamera})}install(){this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});const{target:e}=this.opts;e&&this.mount(e,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=()=>{if(this.updateVideoSources(),this.stream){let e=!0;const{videoSources:t,currentDeviceId:r}=this.getPluginState();t.forEach((t=>{r===t.deviceId&&(e=!1)})),e&&(this.stop(),this.start())}})}uninstall(){this.stop(),this.unmount()}onUnmount(){this.stop()}},i.VERSION="2.0.5",s)},7352:e=>{"use strict";e.exports={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}}},5109:e=>{"use strict";e.exports=function(){return"function"==typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"==typeof MediaRecorder.prototype.start}},6116:(e,t,r)=>{"use strict";var i,o;const s=r(8937),{nanoid:n}=r(2961),{Provider:a,RequestClient:l,Socket:p}=r(6385),u=r(7351),h=r(5313),d=r(2966),c=r(8429),f=r(4772),{RateLimitedQueue:m,internalRateLimitedQueue:g}=r(8618),y=r(6311),v=r(883),b=r(1234);function w(e,t){let r=t;return r||(r=new Error("Upload error")),"string"==typeof r&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),v(e)?(r=new y(r,e),r):(r.request=e,r)}function x(e){return e.data.slice(0,e.data.size,e.meta.type)}e.exports=(o=i=class extends s{constructor(e,t){super(e,t),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=b;const r={formData:!0,fieldName:t.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:5,withCredentials:!1,responseType:"",getResponseData(t){let r={};try{r=JSON.parse(t)}catch(t){e.log(t)}return r},getResponseError(e,t){let r=new Error("Upload error");return v(t)&&(r=new y(r,t)),r},validateStatus:e=>e>=200&&e<300};if(this.opts={...r,...t},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),g in this.opts?this.requests=this.opts[g]:this.requests=new m(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");this.uploaderEvents=Object.create(null)}getOptions(e){const t=this.uppy.getState().xhrUpload,{headers:r}=this.opts,i={...this.opts,...t||{},...e.xhrUpload||{},headers:{}};return"function"==typeof r?i.headers=r(e):Object.assign(i.headers,this.opts.headers),t&&Object.assign(i.headers,t.headers),e.xhrUpload&&Object.assign(i.headers,e.xhrUpload.headers),i}addMetadata(e,t,r){(Array.isArray(r.metaFields)?r.metaFields:Object.keys(t)).forEach((r=>{e.append(r,t[r])}))}createFormDataUpload(e,t){const r=new FormData;this.addMetadata(r,e.meta,t);const i=x(e);return e.name?r.append(t.fieldName,i,e.meta.name):r.append(t.fieldName,i),r}createBundledUpload(e,t){const r=new FormData,{meta:i}=this.uppy.getState();return this.addMetadata(r,i,t),e.forEach((e=>{const t=this.getOptions(e),i=x(e);e.name?r.append(t.fieldName,i,e.name):r.append(t.fieldName,i)})),r}upload(e,t,r){const i=this.getOptions(e);return this.uppy.log(`uploading ${t} of ${r}`),new Promise(((t,r)=>{this.uppy.emit("upload-started",e);const o=i.formData?this.createFormDataUpload(e,i):e.data,s=new XMLHttpRequest;this.uploaderEvents[e.id]=new c(this.uppy);const a=new f(i.timeout,(()=>{s.abort(),p.done();const t=new Error(this.i18n("timedOut",{seconds:Math.ceil(i.timeout/1e3)}));this.uppy.emit("upload-error",e,t),r(t)})),l=n();s.upload.addEventListener("loadstart",(()=>{this.uppy.log(`[XHRUpload] ${l} started`)})),s.upload.addEventListener("progress",(t=>{this.uppy.log(`[XHRUpload] ${l} progress: ${t.loaded} / ${t.total}`),a.progress(),t.lengthComputable&&this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t.loaded,bytesTotal:t.total})})),s.addEventListener("load",(o=>{if(this.uppy.log(`[XHRUpload] ${l} finished`),a.done(),p.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),i.validateStatus(o.target.status,s.responseText,s)){const r=i.getResponseData(s.responseText,s),n=r[i.responseUrlFieldName],a={status:o.target.status,body:r,uploadURL:n};return this.uppy.emit("upload-success",e,a),n&&this.uppy.log(`Download ${e.name} from ${n}`),t(e)}const n=i.getResponseData(s.responseText,s),u=w(s,i.getResponseError(s.responseText,s)),h={status:o.target.status,body:n};return this.uppy.emit("upload-error",e,u,h),r(u)})),s.addEventListener("error",(()=>{this.uppy.log(`[XHRUpload] ${l} errored`),a.done(),p.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null);const t=w(s,i.getResponseError(s.responseText,s));return this.uppy.emit("upload-error",e,t),r(t)})),s.open(i.method.toUpperCase(),i.endpoint,!0),s.withCredentials=i.withCredentials,""!==i.responseType&&(s.responseType=i.responseType);const p=this.requests.run((()=>{this.uppy.emit("upload-started",e);const t=this.getOptions(e);return Object.keys(t.headers).forEach((e=>{s.setRequestHeader(e,t.headers[e])})),s.send(o),()=>{a.done(),s.abort()}}));this.onFileRemove(e.id,(()=>{p.abort(),r(new Error("File removed"))})),this.onCancelAll(e.id,(()=>{p.abort(),r(new Error("Upload cancelled"))}))}))}uploadRemote(e){const t=this.getOptions(e);return new Promise(((r,i)=>{this.uppy.emit("upload-started",e);const o={};(Array.isArray(t.metaFields)?t.metaFields:Object.keys(e.meta)).forEach((t=>{o[t]=e.meta[t]}));new(e.remote.providerOptions.provider?a:l)(this.uppy,e.remote.providerOptions).post(e.remote.url,{...e.remote.body,endpoint:t.endpoint,size:e.data.size,fieldname:t.fieldName,metadata:o,httpMethod:t.method,useFormData:t.formData,headers:t.headers}).then((o=>{const{token:s}=o,n=h(e.remote.companionUrl),a=new p({target:`${n}/api/${s}`,autoOpen:!1});this.uploaderEvents[e.id]=new c(this.uppy),this.onFileRemove(e.id,(()=>{a.send("cancel",{}),l.abort(),r(`upload ${e.id} was removed`)})),this.onCancelAll(e.id,(()=>{a.send("cancel",{}),l.abort(),r(`upload ${e.id} was canceled`)})),this.onRetry(e.id,(()=>{a.send("pause",{}),a.send("resume",{})})),this.onRetryAll(e.id,(()=>{a.send("pause",{}),a.send("resume",{})})),a.on("progress",(t=>u(this,t,e))),a.on("success",(i=>{const o=t.getResponseData(i.response.responseText,i.response),s=o[t.responseUrlFieldName],n={status:i.response.status,body:o,uploadURL:s};return this.uppy.emit("upload-success",e,n),l.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),r()})),a.on("error",(r=>{const o=r.response,s=o?t.getResponseError(o.responseText,o):Object.assign(new Error(r.error.message),{cause:r.error});this.uppy.emit("upload-error",e,s),l.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),i(s)}));const l=this.requests.run((()=>(a.open(),e.isPaused&&a.send("pause",{}),()=>a.close())))})).catch((t=>{this.uppy.emit("upload-error",e,t),i(t)}))}))}uploadBundle(e){return new Promise(((t,r)=>{const{endpoint:i}=this.opts,{method:o}=this.opts,s=this.uppy.getState().xhrUpload,n=this.createBundledUpload(e,{...this.opts,...s||{}}),a=new XMLHttpRequest,l=new f(this.opts.timeout,(()=>{a.abort();const e=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));p(e),r(e)})),p=t=>{e.forEach((e=>{this.uppy.emit("upload-error",e,t)}))};a.upload.addEventListener("loadstart",(()=>{this.uppy.log("[XHRUpload] started uploading bundle"),l.progress()})),a.upload.addEventListener("progress",(t=>{l.progress(),t.lengthComputable&&e.forEach((e=>{this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t.loaded/t.total*e.size,bytesTotal:e.size})}))})),a.addEventListener("load",(i=>{if(l.done(),this.opts.validateStatus(i.target.status,a.responseText,a)){const r=this.opts.getResponseData(a.responseText,a),o={status:i.target.status,body:r};return e.forEach((e=>{this.uppy.emit("upload-success",e,o)})),t()}const o=this.opts.getResponseError(a.responseText,a)||new Error("Upload error");return o.request=a,p(o),r(o)})),a.addEventListener("error",(()=>{l.done();const e=this.opts.getResponseError(a.responseText,a)||new Error("Upload error");return p(e),r(e)})),this.uppy.on("cancel-all",(()=>{l.done(),a.abort()})),a.open(o.toUpperCase(),i,!0),a.withCredentials=this.opts.withCredentials,""!==this.opts.responseType&&(a.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach((e=>{a.setRequestHeader(e,this.opts.headers[e])})),a.send(n),e.forEach((e=>{this.uppy.emit("upload-started",e)}))}))}uploadFiles(e){const t=e.map(((t,r)=>{const i=parseInt(r,10)+1,o=e.length;return t.error?Promise.reject(new Error(t.error)):t.isRemote?this.uploadRemote(t,i,o):this.upload(t,i,o)}));return d(t)}onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",(r=>{e===r.id&&t(r.id)}))}onRetry(e,t){this.uploaderEvents[e].on("upload-retry",(r=>{e===r&&t()}))}onRetryAll(e,t){this.uploaderEvents[e].on("retry-all",(()=>{this.uppy.getFile(e)&&t()}))}onCancelAll(e,t){this.uploaderEvents[e].on("cancel-all",(()=>{this.uppy.getFile(e)&&t()}))}handleUpload(e){if(0===e.length)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();0!==this.opts.limit||this.opts[g]||this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const t=e.map((e=>this.uppy.getFile(e)));if(this.opts.bundle){if(t.some((e=>e.isRemote)))throw new Error("Can’t upload remote files when the `bundle: true` option is set");if("function"==typeof this.opts.headers)throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(t)}return this.uploadFiles(t).then((()=>null))}install(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}},i.VERSION="2.0.7",o)},1234:e=>{"use strict";e.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}},3010:e=>{function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],i=t[1];return 3*(r+i)/4-i},t.toByteArray=function(e){var t,r,s=l(e),n=s[0],a=s[1],p=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),u=0,h=a>0?n-4:n;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],p[u++]=t>>16&255,p[u++]=t>>8&255,p[u++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,p[u++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,p[u++]=t>>8&255,p[u++]=255&t);return p},t.fromByteArray=function(e){for(var t,i=e.length,o=i%3,s=[],n=16383,a=0,l=i-o;a<l;a+=n)s.push(p(e,a,a+n>l?l:a+n));1===o?(t=e[i-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[i-2]<<8)+e[i-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,a=s.length;n<a;++n)r[n]=s[n],i[s.charCodeAt(n)]=n;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function p(e,t,i){for(var o,s,n=[],a=t;a<i;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),n.push(r[(s=o)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return n.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8764:(e,t,r)=>{"use strict";var i=r(9742),o=r(645),s=r(5826);function n(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return p(this,e,t,r)}function p(e,t,r,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,i){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,r):new Uint8Array(t,r,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,r,i):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(t,r),o=(e=a(e,i)).write(t,r);o!==i&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|c(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?a(e,0):d(e,t);if("Buffer"===t.type&&s(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=a(e,t<0?0:0|c(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|c(t.length);e=a(e,r);for(var i=0;i<r;i+=1)e[i]=255&t[i];return e}function c(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return _(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return F(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function y(e,t,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,i,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,i,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,i,o){var s,n=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;n=2,a/=2,l/=2,r/=2}function p(e,t){return 1===n?e[t]:e.readUInt16BE(t*n)}if(o){var u=-1;for(s=r;s<a;s++)if(p(e,s)===p(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*n}else-1!==u&&(s-=s-u),u=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(p(e,s+d)!==p(t,d)){h=!1;break}if(h)return s}return-1}function b(e,t,r,i){r=Number(r)||0;var o=e.length-r;i?(i=Number(i))>o&&(i=o):i=o;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var n=0;n<i;++n){var a=parseInt(t.substr(2*n,2),16);if(isNaN(a))return n;e[r+n]=a}return n}function w(e,t,r,i){return $(j(t,e.length-r),e,r,i)}function x(e,t,r,i){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function k(e,t,r,i){return x(e,t,r,i)}function P(e,t,r,i){return $(H(t),e,r,i)}function S(e,t,r,i){return $(function(e,t){for(var r,i,o,s=[],n=0;n<e.length&&!((t-=2)<0);++n)i=(r=e.charCodeAt(n))>>8,o=r%256,s.push(o),s.push(i);return s}(t,e.length-r),e,r,i)}function C(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function _(e,t,r){r=Math.min(e.length,r);for(var i=[],o=t;o<r;){var s,n,a,l,p=e[o],u=null,h=p>239?4:p>223?3:p>191?2:1;if(o+h<=r)switch(h){case 1:p<128&&(u=p);break;case 2:128==(192&(s=e[o+1]))&&(l=(31&p)<<6|63&s)>127&&(u=l);break;case 3:s=e[o+1],n=e[o+2],128==(192&s)&&128==(192&n)&&(l=(15&p)<<12|(63&s)<<6|63&n)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[o+1],n=e[o+2],a=e[o+3],128==(192&s)&&128==(192&n)&&128==(192&a)&&(l=(15&p)<<18|(63&s)<<12|(63&n)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=h}return function(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);var r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=D));return r}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==r.g.TYPED_ARRAY_SUPPORT?r.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return p(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,i){return u(t),t<=0?a(e,t):void 0!==r?"string"==typeof i?a(e,t).fill(r,i):a(e,t).fill(r):a(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,i=t.length,o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==t[o]){r=e[o],i=t[o];break}return r<i?-1:i<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=l.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var n=e[r];if(!l.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(i,o),o+=n.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,i,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=r)return 0;if(i>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(i>>>=0),n=(r>>>=0)-(t>>>=0),a=Math.min(s,n),p=this.slice(i,o),u=e.slice(t,r),h=0;h<a;++h)if(p[h]!==u[h]){s=p[h],n=u[h];break}return s<n?-1:n<s?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},l.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return k(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function A(e,t,r){var i="";r=Math.min(e.length,r);for(var o=t;o<r;++o)i+=String.fromCharCode(127&e[o]);return i}function F(e,t,r){var i="";r=Math.min(e.length,r);for(var o=t;o<r;++o)i+=String.fromCharCode(e[o]);return i}function E(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",s=t;s<r;++s)o+=L(e[s]);return o}function B(e,t,r){for(var i=e.slice(t,r),o="",s=0;s<i.length;s+=2)o+=String.fromCharCode(i[s]+256*i[s+1]);return o}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,r,i,o,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function I(e,t,r,i){t<0&&(t=65535+t+1);for(var o=0,s=Math.min(e.length-r,2);o<s;++o)e[r+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function O(e,t,r,i){t<0&&(t=4294967295+t+1);for(var o=0,s=Math.min(e.length-r,4);o<s;++o)e[r+o]=t>>>8*(i?o:3-o)&255}function U(e,t,r,i,o,s){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,i,s){return s||U(e,0,r,4),o.write(e,t,r,i,23,4),r+4}function z(e,t,r,i,s){return s||U(e,0,r,8),o.write(e,t,r,i,52,8),r+8}l.prototype.slice=function(e,t){var r,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;r=new l(o,void 0);for(var s=0;s<o;++s)r[s]=this[s+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return i},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var i=t,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,i){(e=+e,t|=0,r|=0,i)||T(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,i){(e=+e,t|=0,r|=0,i)||T(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*r-1);T(this,e,t,r,o-1,-o)}var s=0,n=1,a=0;for(this[t]=255&e;++s<r&&(n*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/n>>0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*r-1);T(this,e,t,r,o-1,-o)}var s=r-1,n=1,a=0;for(this[t+s]=255&e;--s>=0&&(n*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/n>>0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,i){if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var o,s=i-r;if(this===e&&r<t&&t<i)for(o=s-1;o>=0;--o)e[o+t]=this[o+r];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},l.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var n=l.isBuffer(e)?e:j(new l(e,i).toString()),a=n.length;for(s=0;s<r-t;++s)this[s+t]=n[s%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var i=e.length,o=null,s=[],n=0;n<i;++n){if((r=e.charCodeAt(n))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(n+1===i){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function H(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,i){for(var o=0;o<i&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}},4184:(e,t)=>{var r;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)){if(r.length){var n=o.apply(null,r);n&&e.push(n)}}else if("object"===s)if(r.toString===Object.prototype.toString)for(var a in r)i.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},8767:e=>{function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<i.length;o++)if((r=i[o])===t||r.fn===t){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){i=0;for(var o=(r=r.slice(0)).length;i<o;++i)r[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},3129:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return l(e)||p(e)||u(e)||d()}function l(e){if(Array.isArray(e))return h(e)}function p(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c="undefined"!=typeof window&&void 0!==window.document,f=c?window:{},m=!(!c||!f.document.documentElement)&&"ontouchstart"in f.document.documentElement,g=!!c&&"PointerEvent"in f,y="cropper",v="all",b="crop",w="move",x="zoom",k="e",P="w",S="s",C="n",_="ne",D="nw",A="se",F="sw",E="".concat(y,"-crop"),B="".concat(y,"-disabled"),R="".concat(y,"-hidden"),T="".concat(y,"-hide"),I="".concat(y,"-invisible"),O="".concat(y,"-modal"),U="".concat(y,"-move"),M="".concat(y,"Action"),z="".concat(y,"Preview"),N="crop",L="move",j="none",H="crop",$="cropend",q="cropmove",V="cropstart",W="dblclick",Y=m?"touchstart":"mousedown",X=m?"touchmove":"mousemove",G=m?"touchend touchcancel":"mouseup",K=g?"pointerdown":Y,Z=g?"pointermove":X,J=g?"pointerup pointercancel":G,Q="ready",ee="resize",te="wheel",re="zoom",ie="image/jpeg",oe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,se=/^data:/,ne=/^data:image\/jpeg;base64,/,ae=/^img|canvas$/i,le={viewMode:0,dragMode:N,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},pe='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ue=Number.isNaN||f.isNaN;function he(e){return"number"==typeof e&&!ue(e)}var de=function(e){return e>0&&e<1/0};function ce(e){return void 0===e}function fe(t){return"object"===e(t)&&null!==t}var me=Object.prototype.hasOwnProperty;function ge(e){if(!fe(e))return!1;try{var t=e.constructor,r=t.prototype;return t&&r&&me.call(r,"isPrototypeOf")}catch(e){return!1}}function ye(e){return"function"==typeof e}var ve=Array.prototype.slice;function be(e){return Array.from?Array.from(e):ve.call(e)}function we(e,t){return e&&ye(t)&&(Array.isArray(e)||he(e.length)?be(e).forEach((function(r,i){t.call(e,r,i,e)})):fe(e)&&Object.keys(e).forEach((function(r){t.call(e,e[r],r,e)}))),e}var xe=Object.assign||function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return fe(e)&&r.length>0&&r.forEach((function(t){fe(t)&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e},ke=/\.\d*(?:0|9){12}\d*$/;function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ke.test(e)?Math.round(e*t)/t:e}var Se=/^width|height|left|top|marginLeft|marginTop$/;function Ce(e,t){var r=e.style;we(t,(function(e,t){Se.test(t)&&he(e)&&(e="".concat(e,"px")),r[t]=e}))}function _e(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function De(e,t){if(t)if(he(e.length))we(e,(function(e){De(e,t)}));else if(e.classList)e.classList.add(t);else{var r=e.className.trim();r?r.indexOf(t)<0&&(e.className="".concat(r," ").concat(t)):e.className=t}}function Ae(e,t){t&&(he(e.length)?we(e,(function(e){Ae(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Fe(e,t,r){t&&(he(e.length)?we(e,(function(e){Fe(e,t,r)})):r?De(e,t):Ae(e,t))}var Ee=/([a-z\d])([A-Z])/g;function Be(e){return e.replace(Ee,"$1-$2").toLowerCase()}function Re(e,t){return fe(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Be(t)))}function Te(e,t,r){fe(r)?e[t]=r:e.dataset?e.dataset[t]=r:e.setAttribute("data-".concat(Be(t)),r)}function Ie(e,t){if(fe(e[t]))try{delete e[t]}catch(r){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(r){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Be(t)))}var Oe=/\s\s*/,Ue=function(){var e=!1;if(c){var t=!1,r=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});f.addEventListener("test",r,i),f.removeEventListener("test",r,i)}return e}();function Me(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r;t.trim().split(Oe).forEach((function(t){if(!Ue){var s=e.listeners;s&&s[t]&&s[t][r]&&(o=s[t][r],delete s[t][r],0===Object.keys(s[t]).length&&delete s[t],0===Object.keys(s).length&&delete e.listeners)}e.removeEventListener(t,o,i)}))}function ze(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r;t.trim().split(Oe).forEach((function(t){if(i.once&&!Ue){var s=e.listeners,n=void 0===s?{}:s;o=function(){delete n[t][r],e.removeEventListener(t,o,i);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];r.apply(e,a)},n[t]||(n[t]={}),n[t][r]&&e.removeEventListener(t,n[t][r],i),n[t][r]=o,e.listeners=n}e.addEventListener(t,o,i)}))}function Ne(e,t,r){var i;return ye(Event)&&ye(CustomEvent)?i=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,r),e.dispatchEvent(i)}function Le(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var je=f.location,He=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function $e(e){var t=e.match(He);return null!==t&&(t[1]!==je.protocol||t[2]!==je.hostname||t[3]!==je.port)}function qe(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Ve(e){var t=e.rotate,r=e.scaleX,i=e.scaleY,o=e.translateX,s=e.translateY,n=[];he(o)&&0!==o&&n.push("translateX(".concat(o,"px)")),he(s)&&0!==s&&n.push("translateY(".concat(s,"px)")),he(t)&&0!==t&&n.push("rotate(".concat(t,"deg)")),he(r)&&1!==r&&n.push("scaleX(".concat(r,")")),he(i)&&1!==i&&n.push("scaleY(".concat(i,")"));var a=n.length?n.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function We(e){var t=n({},e),r=[];return we(e,(function(e,i){delete t[i],we(t,(function(t){var i=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),s=Math.abs(e.endX-t.endX),n=Math.abs(e.endY-t.endY),a=Math.sqrt(i*i+o*o),l=(Math.sqrt(s*s+n*n)-a)/a;r.push(l)}))})),r.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),r[0]}function Ye(e,t){var r=e.pageX,i=e.pageY,o={endX:r,endY:i};return t?o:n({startX:r,startY:i},o)}function Xe(e){var t=0,r=0,i=0;return we(e,(function(e){var o=e.startX,s=e.startY;t+=o,r+=s,i+=1})),{pageX:t/=i,pageY:r/=i}}function Ge(e){var t=e.aspectRatio,r=e.height,i=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",s=de(i),n=de(r);if(s&&n){var a=r*t;"contain"===o&&a>i||"cover"===o&&a<i?r=i/t:i=r*t}else s?r=i/t:n&&(i=r*t);return{width:i,height:r}}function Ke(e){var t=e.width,r=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:r,height:t};var o=i%90*Math.PI/180,s=Math.sin(o),n=Math.cos(o),a=t*n+r*s,l=t*s+r*n;return i>90?{width:l,height:a}:{width:a,height:l}}function Ze(e,t,r,i){var o=t.aspectRatio,s=t.naturalWidth,n=t.naturalHeight,l=t.rotate,p=void 0===l?0:l,u=t.scaleX,h=void 0===u?1:u,d=t.scaleY,c=void 0===d?1:d,f=r.aspectRatio,m=r.naturalWidth,g=r.naturalHeight,y=i.fillColor,v=void 0===y?"transparent":y,b=i.imageSmoothingEnabled,w=void 0===b||b,x=i.imageSmoothingQuality,k=void 0===x?"low":x,P=i.maxWidth,S=void 0===P?1/0:P,C=i.maxHeight,_=void 0===C?1/0:C,D=i.minWidth,A=void 0===D?0:D,F=i.minHeight,E=void 0===F?0:F,B=document.createElement("canvas"),R=B.getContext("2d"),T=Ge({aspectRatio:f,width:S,height:_}),I=Ge({aspectRatio:f,width:A,height:E},"cover"),O=Math.min(T.width,Math.max(I.width,m)),U=Math.min(T.height,Math.max(I.height,g)),M=Ge({aspectRatio:o,width:S,height:_}),z=Ge({aspectRatio:o,width:A,height:E},"cover"),N=Math.min(M.width,Math.max(z.width,s)),L=Math.min(M.height,Math.max(z.height,n)),j=[-N/2,-L/2,N,L];return B.width=Pe(O),B.height=Pe(U),R.fillStyle=v,R.fillRect(0,0,O,U),R.save(),R.translate(O/2,U/2),R.rotate(p*Math.PI/180),R.scale(h,c),R.imageSmoothingEnabled=w,R.imageSmoothingQuality=k,R.drawImage.apply(R,[e].concat(a(j.map((function(e){return Math.floor(Pe(e))}))))),R.restore(),B}var Je=String.fromCharCode;function Qe(e,t,r){var i="";r+=t;for(var o=t;o<r;o+=1)i+=Je(e.getUint8(o));return i}var et=/^data:.*,/;function tt(e){var t=e.replace(et,""),r=atob(t),i=new ArrayBuffer(r.length),o=new Uint8Array(i);return we(o,(function(e,t){o[t]=r.charCodeAt(t)})),i}function rt(e,t){for(var r=[],i=8192,o=new Uint8Array(e);o.length>0;)r.push(Je.apply(null,be(o.subarray(0,i)))),o=o.subarray(i);return"data:".concat(t,";base64,").concat(btoa(r.join("")))}function it(e){var t,r=new DataView(e);try{var i,o,s;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var n=r.byteLength,a=2;a+1<n;){if(255===r.getUint8(a)&&225===r.getUint8(a+1)){o=a;break}a+=1}if(o){var l=o+10;if("Exif"===Qe(r,o+4,4)){var p=r.getUint16(l);if(((i=18761===p)||19789===p)&&42===r.getUint16(l+2,i)){var u=r.getUint32(l+4,i);u>=8&&(s=l+u)}}}if(s){var h,d,c=r.getUint16(s,i);for(d=0;d<c;d+=1)if(h=s+12*d+2,274===r.getUint16(h,i)){h+=8,t=r.getUint16(h,i),r.setUint16(h,1,i);break}}}catch(e){t=1}return t}function ot(e){var t=0,r=1,i=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90}return{rotate:t,scaleX:r,scaleY:i}}var st={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,r=this.container,i=this.cropper;De(i,R),Ae(e,R);var o={width:Math.max(r.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(r.offsetHeight,Number(t.minContainerHeight)||100)};this.containerData=o,Ce(i,{width:o.width,height:o.height}),De(e,R),Ae(i,R)},initCanvas:function(){var e=this.containerData,t=this.imageData,r=this.options.viewMode,i=Math.abs(t.rotate)%180==90,o=i?t.naturalHeight:t.naturalWidth,s=i?t.naturalWidth:t.naturalHeight,n=o/s,a=e.width,l=e.height;e.height*n>e.width?3===r?a=e.height*n:l=e.width/n:3===r?l=e.width/n:a=e.height*n;var p={aspectRatio:n,naturalWidth:o,naturalHeight:s,width:a,height:l};p.left=(e.width-a)/2,p.top=(e.height-l)/2,p.oldLeft=p.left,p.oldTop=p.top,this.canvasData=p,this.limited=1===r||2===r,this.limitCanvas(!0,!0),this.initialImageData=xe({},t),this.initialCanvasData=xe({},p)},limitCanvas:function(e,t){var r=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,n=r.viewMode,a=o.aspectRatio,l=this.cropped&&s;if(e){var p=Number(r.minCanvasWidth)||0,u=Number(r.minCanvasHeight)||0;n>1?(p=Math.max(p,i.width),u=Math.max(u,i.height),3===n&&(u*a>p?p=u*a:u=p/a)):n>0&&(p?p=Math.max(p,l?s.width:0):u?u=Math.max(u,l?s.height:0):l&&(p=s.width,(u=s.height)*a>p?p=u*a:u=p/a));var h=Ge({aspectRatio:a,width:p,height:u});p=h.width,u=h.height,o.minWidth=p,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(n>(l?0:1)){var d=i.width-o.width,c=i.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,c),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,c),l&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,2===n&&(o.width>=i.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=i.height&&(o.minTop=Math.min(0,c),o.maxTop=Math.max(0,c))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(e,t){var r=this.canvasData,i=this.imageData;if(t){var o=Ke({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),s=o.width,n=o.height,a=r.width*(s/r.naturalWidth),l=r.height*(n/r.naturalHeight);r.left-=(a-r.width)/2,r.top-=(l-r.height)/2,r.width=a,r.height=l,r.aspectRatio=s/n,r.naturalWidth=s,r.naturalHeight=n,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Ce(this.canvas,xe({width:r.width,height:r.height},Ve({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,r=this.imageData,i=r.naturalWidth*(t.width/t.naturalWidth),o=r.naturalHeight*(t.height/t.naturalHeight);xe(r,{width:i,height:o,left:(t.width-i)/2,top:(t.height-o)/2}),Ce(this.image,xe({width:r.width,height:r.height},Ve(xe({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};r&&(t.height*r>t.width?o.height=o.width/r:o.width=o.height*r),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=xe({},o)},limitCropBox:function(e,t){var r=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,n=this.limited,a=r.aspectRatio;if(e){var l=Number(r.minCropBoxWidth)||0,p=Number(r.minCropBoxHeight)||0,u=n?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,h=n?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;l=Math.min(l,i.width),p=Math.min(p,i.height),a&&(l&&p?p*a>l?p=l/a:l=p*a:l?p=l/a:p&&(l=p*a),h*a>u?h=u/a:u=h*a),s.minWidth=Math.min(l,u),s.minHeight=Math.min(p,h),s.maxWidth=u,s.maxHeight=h}t&&(n?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(i.width,o.left+o.width)-s.width,s.maxTop=Math.min(i.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=i.width-s.width,s.maxTop=i.height-s.height))},renderCropBox:function(){var e=this.options,t=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&Te(this.face,M,r.width>=t.width&&r.height>=t.height?w:v),Ce(this.cropBox,xe({width:r.width,height:r.height},Ve({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ne(this.element,H,this.getData())}},nt={initPreview:function(){var e=this.element,t=this.crossOrigin,r=this.options.preview,i=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",s=document.createElement("img");if(t&&(s.crossOrigin=t),s.src=i,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,r){var n=r;"string"==typeof r?n=e.ownerDocument.querySelectorAll(r):r.querySelector&&(n=[r]),this.previews=n,we(n,(function(e){var r=document.createElement("img");Te(e,z,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(r.crossOrigin=t),r.src=i,r.alt=o,r.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(r)}))}},resetPreview:function(){we(this.previews,(function(e){var t=Re(e,z);Ce(e,{width:t.width,height:t.height}),e.innerHTML=t.html,Ie(e,z)}))},preview:function(){var e=this.imageData,t=this.canvasData,r=this.cropBoxData,i=r.width,o=r.height,s=e.width,n=e.height,a=r.left-t.left-e.left,l=r.top-t.top-e.top;this.cropped&&!this.disabled&&(Ce(this.viewBoxImage,xe({width:s,height:n},Ve(xe({translateX:-a,translateY:-l},e)))),we(this.previews,(function(t){var r=Re(t,z),p=r.width,u=r.height,h=p,d=u,c=1;i&&(d=o*(c=p/i)),o&&d>u&&(h=i*(c=u/o),d=u),Ce(t,{width:h,height:d}),Ce(t.getElementsByTagName("img")[0],xe({width:s*c,height:n*c},Ve(xe({translateX:-a*c,translateY:-l*c},e))))})))}},at={bind:function(){var e=this.element,t=this.options,r=this.cropper;ye(t.cropstart)&&ze(e,V,t.cropstart),ye(t.cropmove)&&ze(e,q,t.cropmove),ye(t.cropend)&&ze(e,$,t.cropend),ye(t.crop)&&ze(e,H,t.crop),ye(t.zoom)&&ze(e,re,t.zoom),ze(r,K,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ze(r,te,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ze(r,W,this.onDblclick=this.dblclick.bind(this)),ze(e.ownerDocument,Z,this.onCropMove=this.cropMove.bind(this)),ze(e.ownerDocument,J,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ze(window,ee,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,r=this.cropper;ye(t.cropstart)&&Me(e,V,t.cropstart),ye(t.cropmove)&&Me(e,q,t.cropmove),ye(t.cropend)&&Me(e,$,t.cropend),ye(t.crop)&&Me(e,H,t.crop),ye(t.zoom)&&Me(e,re,t.zoom),Me(r,K,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Me(r,te,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Me(r,W,this.onDblclick),Me(e.ownerDocument,Z,this.onCropMove),Me(e.ownerDocument,J,this.onCropEnd),t.responsive&&Me(window,ee,this.onResize)}},lt={resize:function(){if(!this.disabled){var e,t,r=this.options,i=this.container,o=this.containerData,s=i.offsetWidth/o.width;1===s&&i.offsetHeight===o.height||(r.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),r.restore&&(this.setCanvasData(we(e,(function(t,r){e[r]=t*s}))),this.setCropBoxData(we(t,(function(e,r){t[r]=e*s})))))}},dblclick:function(){this.disabled||this.options.dragMode===j||this.setDragMode(_e(this.dragBox,E)?L:N)},wheel:function(e){var t=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var t=e.buttons,r=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(he(t)&&1!==t||he(r)&&0!==r||e.ctrlKey))){var i,o=this.options,s=this.pointers;e.changedTouches?we(e.changedTouches,(function(e){s[e.identifier]=Ye(e)})):s[e.pointerId||0]=Ye(e),i=Object.keys(s).length>1&&o.zoomable&&o.zoomOnTouch?x:Re(e.target,M),oe.test(i)&&!1!==Ne(this.element,V,{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,i===b&&(this.cropping=!0,De(this.dragBox,O)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var r=this.pointers;e.preventDefault(),!1!==Ne(this.element,q,{originalEvent:e,action:t})&&(e.changedTouches?we(e.changedTouches,(function(e){xe(r[e.identifier]||{},Ye(e,!0))})):xe(r[e.pointerId||0]||{},Ye(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,r=this.pointers;e.changedTouches?we(e.changedTouches,(function(e){delete r[e.identifier]})):delete r[e.pointerId||0],t&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Fe(this.dragBox,O,this.cropped&&this.options.modal)),Ne(this.element,$,{originalEvent:e,action:t}))}}},pt={change:function(e){var t,r=this.options,i=this.canvasData,o=this.containerData,s=this.cropBoxData,n=this.pointers,a=this.action,l=r.aspectRatio,p=s.left,u=s.top,h=s.width,d=s.height,c=p+h,f=u+d,m=0,g=0,y=o.width,E=o.height,B=!0;!l&&e.shiftKey&&(l=h&&d?h/d:1),this.limited&&(m=s.minLeft,g=s.minTop,y=m+Math.min(o.width,i.width,i.left+i.width),E=g+Math.min(o.height,i.height,i.top+i.height));var T=n[Object.keys(n)[0]],I={x:T.endX-T.startX,y:T.endY-T.startY},O=function(e){switch(e){case k:c+I.x>y&&(I.x=y-c);break;case P:p+I.x<m&&(I.x=m-p);break;case C:u+I.y<g&&(I.y=g-u);break;case S:f+I.y>E&&(I.y=E-f)}};switch(a){case v:p+=I.x,u+=I.y;break;case k:if(I.x>=0&&(c>=y||l&&(u<=g||f>=E))){B=!1;break}O(k),(h+=I.x)<0&&(a=P,p-=h=-h),l&&(d=h/l,u+=(s.height-d)/2);break;case C:if(I.y<=0&&(u<=g||l&&(p<=m||c>=y))){B=!1;break}O(C),d-=I.y,u+=I.y,d<0&&(a=S,u-=d=-d),l&&(h=d*l,p+=(s.width-h)/2);break;case P:if(I.x<=0&&(p<=m||l&&(u<=g||f>=E))){B=!1;break}O(P),h-=I.x,p+=I.x,h<0&&(a=k,p-=h=-h),l&&(d=h/l,u+=(s.height-d)/2);break;case S:if(I.y>=0&&(f>=E||l&&(p<=m||c>=y))){B=!1;break}O(S),(d+=I.y)<0&&(a=C,u-=d=-d),l&&(h=d*l,p+=(s.width-h)/2);break;case _:if(l){if(I.y<=0&&(u<=g||c>=y)){B=!1;break}O(C),d-=I.y,u+=I.y,h=d*l}else O(C),O(k),I.x>=0?c<y?h+=I.x:I.y<=0&&u<=g&&(B=!1):h+=I.x,I.y<=0?u>g&&(d-=I.y,u+=I.y):(d-=I.y,u+=I.y);h<0&&d<0?(a=F,u-=d=-d,p-=h=-h):h<0?(a=D,p-=h=-h):d<0&&(a=A,u-=d=-d);break;case D:if(l){if(I.y<=0&&(u<=g||p<=m)){B=!1;break}O(C),d-=I.y,u+=I.y,h=d*l,p+=s.width-h}else O(C),O(P),I.x<=0?p>m?(h-=I.x,p+=I.x):I.y<=0&&u<=g&&(B=!1):(h-=I.x,p+=I.x),I.y<=0?u>g&&(d-=I.y,u+=I.y):(d-=I.y,u+=I.y);h<0&&d<0?(a=A,u-=d=-d,p-=h=-h):h<0?(a=_,p-=h=-h):d<0&&(a=F,u-=d=-d);break;case F:if(l){if(I.x<=0&&(p<=m||f>=E)){B=!1;break}O(P),h-=I.x,p+=I.x,d=h/l}else O(S),O(P),I.x<=0?p>m?(h-=I.x,p+=I.x):I.y>=0&&f>=E&&(B=!1):(h-=I.x,p+=I.x),I.y>=0?f<E&&(d+=I.y):d+=I.y;h<0&&d<0?(a=_,u-=d=-d,p-=h=-h):h<0?(a=A,p-=h=-h):d<0&&(a=D,u-=d=-d);break;case A:if(l){if(I.x>=0&&(c>=y||f>=E)){B=!1;break}O(k),d=(h+=I.x)/l}else O(S),O(k),I.x>=0?c<y?h+=I.x:I.y>=0&&f>=E&&(B=!1):h+=I.x,I.y>=0?f<E&&(d+=I.y):d+=I.y;h<0&&d<0?(a=D,u-=d=-d,p-=h=-h):h<0?(a=F,p-=h=-h):d<0&&(a=_,u-=d=-d);break;case w:this.move(I.x,I.y),B=!1;break;case x:this.zoom(We(n),e),B=!1;break;case b:if(!I.x||!I.y){B=!1;break}t=Le(this.cropper),p=T.startX-t.left,u=T.startY-t.top,h=s.minWidth,d=s.minHeight,I.x>0?a=I.y>0?A:_:I.x<0&&(p-=h,a=I.y>0?F:D),I.y<0&&(u-=d),this.cropped||(Ae(this.cropBox,R),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}B&&(s.width=h,s.height=d,s.left=p,s.top=u,this.action=a,this.renderCropBox()),we(n,(function(e){e.startX=e.endX,e.startY=e.endY}))}},ut={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&De(this.dragBox,O),Ae(this.cropBox,R),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=xe({},this.initialImageData),this.canvasData=xe({},this.initialCanvasData),this.cropBoxData=xe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(xe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ae(this.dragBox,O),De(this.cropBox,R)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,we(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ae(this.cropper,B)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,De(this.cropper,B)),this},destroy:function(){var e=this.element;return e[y]?(e[y]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.canvasData,i=r.left,o=r.top;return this.moveTo(ce(e)?e:i+Number(e),ce(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(he(e)&&(r.left=e,i=!0),he(t)&&(r.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var r=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(r.width*e/r.naturalWidth,null,t)},zoomTo:function(e,t,r){var i=this.options,o=this.canvasData,s=o.width,n=o.height,a=o.naturalWidth,l=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var p=a*e,u=l*e;if(!1===Ne(this.element,re,{ratio:e,oldRatio:s/a,originalEvent:r}))return this;if(r){var h=this.pointers,d=Le(this.cropper),c=h&&Object.keys(h).length?Xe(h):{pageX:r.pageX,pageY:r.pageY};o.left-=(p-s)*((c.pageX-d.left-o.left)/s),o.top-=(u-n)*((c.pageY-d.top-o.top)/n)}else ge(t)&&he(t.x)&&he(t.y)?(o.left-=(p-s)*((t.x-o.left)/s),o.top-=(u-n)*((t.y-o.top)/n)):(o.left-=(p-s)/2,o.top-=(u-n)/2);o.width=p,o.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return he(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,he(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(he(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(he(e)&&(r.scaleX=e,i=!0),he(t)&&(r.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.options,i=this.imageData,o=this.canvasData,s=this.cropBoxData;if(this.ready&&this.cropped){e={x:s.left-o.left,y:s.top-o.top,width:s.width,height:s.height};var n=i.width/i.naturalWidth;if(we(e,(function(t,r){e[r]=t/n})),t){var a=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=a-e.y}}else e={x:0,y:0,width:0,height:0};return r.rotatable&&(e.rotate=i.rotate||0),r.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,r=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&ge(e)){var s=!1;t.rotatable&&he(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,s=!0),t.scalable&&(he(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,s=!0),he(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var n=r.width/r.naturalWidth;he(e.x)&&(o.left=e.x*n+i.left),he(e.y)&&(o.top=e.y*n+i.top),he(e.width)&&(o.width=e.width*n),he(e.height)&&(o.height=e.height*n),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?xe({},this.containerData):{}},getImageData:function(){return this.sized?xe({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&we(["left","top","width","height","naturalWidth","naturalHeight"],(function(r){t[r]=e[r]})),t},setCanvasData:function(e){var t=this.canvasData,r=t.aspectRatio;return this.ready&&!this.disabled&&ge(e)&&(he(e.left)&&(t.left=e.left),he(e.top)&&(t.top=e.top),he(e.width)?(t.width=e.width,t.height=e.width/r):he(e.height)&&(t.height=e.height,t.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,r,i=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ge(e)&&(he(e.left)&&(i.left=e.left),he(e.top)&&(i.top=e.top),he(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),he(e.height)&&e.height!==i.height&&(r=!0,i.height=e.height),o&&(t?i.height=i.width/o:r&&(i.width=i.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,r=Ze(this.image,this.imageData,t,e);if(!this.cropped)return r;var i=this.getData(),o=i.x,s=i.y,n=i.width,l=i.height,p=r.width/Math.floor(t.naturalWidth);1!==p&&(o*=p,s*=p,n*=p,l*=p);var u=n/l,h=Ge({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=Ge({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),c=Ge({aspectRatio:u,width:e.width||(1!==p?r.width:n),height:e.height||(1!==p?r.height:l)}),f=c.width,m=c.height;f=Math.min(h.width,Math.max(d.width,f)),m=Math.min(h.height,Math.max(d.height,m));var g=document.createElement("canvas"),y=g.getContext("2d");g.width=Pe(f),g.height=Pe(m),y.fillStyle=e.fillColor||"transparent",y.fillRect(0,0,f,m);var v=e.imageSmoothingEnabled,b=void 0===v||v,w=e.imageSmoothingQuality;y.imageSmoothingEnabled=b,w&&(y.imageSmoothingQuality=w);var x,k,P,S,C,_,D=r.width,A=r.height,F=o,E=s;F<=-n||F>D?(F=0,x=0,P=0,C=0):F<=0?(P=-F,F=0,C=x=Math.min(D,n+F)):F<=D&&(P=0,C=x=Math.min(n,D-F)),x<=0||E<=-l||E>A?(E=0,k=0,S=0,_=0):E<=0?(S=-E,E=0,_=k=Math.min(A,l+E)):E<=A&&(S=0,_=k=Math.min(l,A-E));var B=[F,E,x,k];if(C>0&&_>0){var R=f/n;B.push(P*R,S*R,C*R,_*R)}return y.drawImage.apply(y,[r].concat(a(B.map((function(e){return Math.floor(Pe(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||ce(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o=e===N,s=t.movable&&e===L;e=o||s?e:j,t.dragMode=e,Te(r,M,e),Fe(r,E,o),Fe(r,U,s),t.cropBoxMovable||(Te(i,M,e),Fe(i,E,o),Fe(i,U,s))}return this}},ht=f.Cropper,dt=function(){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!r||!ae.test(r.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=r,this.options=xe({},le,ge(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i(e,[{key:"init",value:function(){var e,t=this.element,r=t.tagName.toLowerCase();if(!t[y]){if(t[y]=this,"img"===r){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===r&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var r=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(se.test(e))ne.test(e)?this.read(tt(e)):this.clone();else{var o=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=s,o.onerror=s,o.ontimeout=s,o.onprogress=function(){o.getResponseHeader("content-type")!==ie&&o.abort()},o.onload=function(){t.read(o.response)},o.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&$e(e)&&r.crossOrigin&&(e=qe(e)),o.open("GET",e),o.responseType="arraybuffer",o.withCredentials="use-credentials"===r.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,r=this.imageData,i=it(e),o=0,s=1,n=1;if(i>1){this.url=rt(e,ie);var a=ot(i);o=a.rotate,s=a.scaleX,n=a.scaleY}t.rotatable&&(r.rotate=o),t.scalable&&(r.scaleX=s,r.scaleY=n),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,r=e.crossOrigin,i=t;this.options.checkCrossOrigin&&$e(t)&&(r||(r="anonymous"),i=qe(t)),this.crossOrigin=r,this.crossOriginUrl=i;var o=document.createElement("img");r&&(o.crossOrigin=r),o.src=i||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),De(o,T),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var r=f.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(f.navigator.userAgent),i=function(t,r){xe(e.imageData,{naturalWidth:t,naturalHeight:r,aspectRatio:t/r}),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||r){var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),r||s.removeChild(o)},o.src=t.src,r||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,r=this.image,i=e.parentNode,o=document.createElement("div");o.innerHTML=pe;var s=o.querySelector(".".concat(y,"-container")),n=s.querySelector(".".concat(y,"-canvas")),a=s.querySelector(".".concat(y,"-drag-box")),l=s.querySelector(".".concat(y,"-crop-box")),p=l.querySelector(".".concat(y,"-face"));this.container=i,this.cropper=s,this.canvas=n,this.dragBox=a,this.cropBox=l,this.viewBox=s.querySelector(".".concat(y,"-view-box")),this.face=p,n.appendChild(r),De(e,R),i.insertBefore(s,e.nextSibling),this.isImg||Ae(r,T),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,De(l,R),t.guides||De(l.getElementsByClassName("".concat(y,"-dashed")),R),t.center||De(l.getElementsByClassName("".concat(y,"-center")),R),t.background&&De(s,"".concat(y,"-bg")),t.highlight||De(p,I),t.cropBoxMovable&&(De(p,U),Te(p,M,v)),t.cropBoxResizable||(De(l.getElementsByClassName("".concat(y,"-line")),R),De(l.getElementsByClassName("".concat(y,"-point")),R)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),ye(t.ready)&&ze(e,Q,t.ready,{once:!0}),Ne(e,Q)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Ae(this.element,R))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ht,e}},{key:"setDefaults",value:function(e){xe(le,ge(e)&&e)}}]),e}();return xe(dt.prototype,st,nt,at,lt,pt,ut),dt}()},1570:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(3645),o=r.n(i)()((function(e){return e[1]}));o.push([e.id,".uppy-Root{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;color:#333;font-family:-apple-system,blinkmacsystemfont,Segoe UI,helvetica,arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;line-height:1;position:relative;text-align:left}.uppy-Root[dir=rtl],[dir=rtl] .uppy-Root{text-align:right}.uppy-Root *,.uppy-Root :after,.uppy-Root :before{box-sizing:inherit}.uppy-Root [hidden]{display:none}.uppy-u-reset{-webkit-appearance:none;-webkit-backface-visibility:visible;backface-visibility:visible;background:none;border:none;border-collapse:separate;-o-border-image:none;border-image:none;border-radius:0;border-spacing:0;box-shadow:none;clear:none;color:inherit;cursor:auto;display:inline;empty-cells:show;float:none;font-family:inherit;font-size:inherit;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;line-height:1;list-style:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;z-index:auto}[dir=rtl] .uppy-u-reset{text-align:right}.uppy-c-textInput{background-color:#fff;border:1px solid #ddd;border-radius:4px;font-size:14px;line-height:1.5;padding:6px 8px}.uppy-size--md .uppy-c-textInput{padding:8px 10px}.uppy-c-textInput:focus{border-color:rgba(34,117,215,.6);box-shadow:0 0 0 3px rgba(34,117,215,.15);outline:none}[data-uppy-theme=dark] .uppy-c-textInput{background-color:#333;border-color:#333;color:#eaeaea}[data-uppy-theme=dark] .uppy-c-textInput:focus{border-color:#525252;box-shadow:none}.uppy-c-icon{fill:currentColor;display:inline-block;max-height:100%;max-width:100%;overflow:hidden}.uppy-c-btn{display:inline-block;font-family:inherit;font-size:16px;font-weight:500;line-height:1;transition-duration:.3s;transition-property:background-color,color;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.uppy-c-btn,[dir=rtl] .uppy-c-btn{text-align:center}.uppy-c-btn:not(:disabled):not(.disabled){cursor:pointer}.uppy-c-btn::-moz-focus-inner{border:0}.uppy-c-btn-primary{background-color:#2275d7;border-radius:4px;color:#fff;font-size:14px;padding:10px 18px}.uppy-c-btn-primary:hover{background-color:#1b5dab}.uppy-c-btn-primary:focus{box-shadow:0 0 0 3px rgba(34,117,215,.4);outline:none}.uppy-size--md .uppy-c-btn-primary{padding:13px 22px}[data-uppy-theme=dark] .uppy-c-btn-primary{color:#eaeaea}[data-uppy-theme=dark] .uppy-c-btn-primary:focus{outline:none}[data-uppy-theme=dark] .uppy-c-btn-primary::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-c-btn-primary:focus{box-shadow:0 0 0 2px rgba(170,225,255,.85)}.uppy-c-btn-link{background-color:transparent;border-radius:4px;color:#525252;font-size:14px;line-height:1;padding:10px 15px}.uppy-c-btn-link:hover{color:#333}.uppy-c-btn-link:focus{box-shadow:0 0 0 3px rgba(34,117,215,.25);outline:none}.uppy-size--md .uppy-c-btn-link{padding:13px 18px}[data-uppy-theme=dark] .uppy-c-btn-link{color:#eaeaea}[data-uppy-theme=dark] .uppy-c-btn-link:focus{outline:none}[data-uppy-theme=dark] .uppy-c-btn-link::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-c-btn-link:focus{box-shadow:0 0 0 2px rgba(170,225,255,.85)}[data-uppy-theme=dark] .uppy-c-btn-link:hover{color:#939393}.uppy-c-btn--small{border-radius:2px;font-size:.9em;padding:7px 16px}.uppy-size--md .uppy-c-btn--small{border-radius:2px;padding:8px 10px}",""]);const s=o},594:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(3645),o=r.n(i)()((function(e){return e[1]}));o.push([e.id,"@charset \"UTF-8\";.uppy-Informer{bottom:60px;left:0;position:absolute;right:0;text-align:center;z-index:1005}.uppy-Informer span>div{margin-bottom:6px}.uppy-Informer-animated{opacity:0;transform:translateY(350%);transition:all .3s ease-in;z-index:-1000}.uppy-Informer p{background-color:#757575;border-radius:18px;color:#fff;display:inline-block;font-size:12px;font-weight:400;line-height:1.4;margin:0;max-width:90%;padding:6px 15px}.uppy-size--md .uppy-Informer p{font-size:14px;line-height:1.3;max-width:500px;padding:10px 20px}[data-uppy-theme=dark] .uppy-Informer p{background-color:#333}[dir=ltr] .uppy-Informer p span{left:3px}[dir=rtl] .uppy-Informer p span{right:3px}[dir=ltr] .uppy-Informer p span{margin-left:-1px}[dir=rtl] .uppy-Informer p span{margin-right:-1px}.uppy-Informer p span{background-color:#fff;border-radius:50%;color:#525252;display:inline-block;font-size:10px;height:13px;line-height:12px;position:relative;top:-1px;vertical-align:middle;width:13px}.uppy-Informer p span:hover{cursor:help}.uppy-Informer p span:after{word-wrap:break-word;line-height:1.3}.uppy-Root [aria-label][role~=tooltip]{position:relative}.uppy-Root [aria-label][role~=tooltip]:after,.uppy-Root [aria-label][role~=tooltip]:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;box-sizing:border-box;opacity:0;pointer-events:none;position:absolute;transform:translateZ(0);transform-origin:top;transition:all var(--microtip-transition-duration,.18s) var(--microtip-transition-easing,ease-in-out) var(--microtip-transition-delay,0s);will-change:transform;z-index:10}.uppy-Root [aria-label][role~=tooltip]:before{background-size:100% auto!important;content:\"\"}.uppy-Root [aria-label][role~=tooltip]:after{background:hsla(0,0%,7%,.9);border-radius:4px;box-sizing:content-box;color:#fff;content:attr(aria-label);font-size:var(--microtip-font-size,13px);font-weight:var(--microtip-font-weight,normal);padding:.5em 1em;text-transform:var(--microtip-text-transform,none);white-space:nowrap}.uppy-Root [aria-label][role~=tooltip]:focus:after,.uppy-Root [aria-label][role~=tooltip]:focus:before,.uppy-Root [aria-label][role~=tooltip]:hover:after,.uppy-Root [aria-label][role~=tooltip]:hover:before{opacity:1;pointer-events:auto}.uppy-Root [role~=tooltip][data-microtip-position|=top]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='12'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M2.658 0h32.004c-6 0-11.627 12.002-16.002 12.002C14.285 12.002 8.594 0 2.658 0Z'/%3E%3C/svg%3E\") no-repeat;bottom:100%;height:6px;left:50%;margin-bottom:5px;transform:translate3d(-50%,0,0);width:18px}.uppy-Root [role~=tooltip][data-microtip-position|=top]:after{bottom:100%;left:50%;margin-bottom:11px;transform:translate3d(-50%,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=top]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position|=top]:hover:before{transform:translate3d(-50%,-5px,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-left]:after{bottom:100%;transform:translate3d(calc(-100% + 16px),0,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-left]:hover:after{transform:translate3d(calc(-100% + 16px),-5px,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-right]:after{bottom:100%;transform:translate3d(-16px,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-right]:hover:after{transform:translate3d(-16px,-5px,0)}.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='12'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M33.342 12H1.338c6 0 11.627-12.002 16.002-12.002C21.715-.002 27.406 12 33.342 12Z'/%3E%3C/svg%3E\") no-repeat;bottom:auto;height:6px;left:50%;margin-bottom:0;margin-top:5px;top:100%;transform:translate3d(-50%,-10px,0);width:18px}.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:after{left:50%;margin-top:11px;top:100%;transform:translate3d(-50%,-10px,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:hover:before{transform:translate3d(-50%,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]:after{top:100%;transform:translate3d(calc(-100% + 16px),-10px,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]:hover:after{transform:translate3d(calc(-100% + 16px),0,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]:after{top:100%;transform:translate3d(-16px,-10px,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]:hover:after{transform:translate3d(-16px,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=left]:after,.uppy-Root [role~=tooltip][data-microtip-position=left]:before{bottom:auto;left:auto;right:100%;top:50%;transform:translate3d(10px,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-position=left]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='36'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M0 33.342V1.338c0 6 12.002 11.627 12.002 16.002C12.002 21.715 0 27.406 0 33.342Z'/%3E%3C/svg%3E\") no-repeat;height:18px;margin-bottom:0;margin-right:5px;width:6px}.uppy-Root [role~=tooltip][data-microtip-position=left]:after{margin-right:11px}.uppy-Root [role~=tooltip][data-microtip-position=left]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position=left]:hover:before{transform:translate3d(0,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-position=right]:after,.uppy-Root [role~=tooltip][data-microtip-position=right]:before{bottom:auto;left:100%;top:50%;transform:translate3d(-10px,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-position=right]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='36'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M12 2.658v32.004c0-6-12.002-11.627-12.002-16.002C-.002 14.285 12 8.594 12 2.658Z'/%3E%3C/svg%3E\") no-repeat;height:18px;margin-bottom:0;margin-left:5px;width:6px}.uppy-Root [role~=tooltip][data-microtip-position=right]:after{margin-left:11px}.uppy-Root [role~=tooltip][data-microtip-position=right]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position=right]:hover:before{transform:translate3d(0,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-size=small]:after{white-space:normal;width:80px}.uppy-Root [role~=tooltip][data-microtip-size=medium]:after{white-space:normal;width:150px}.uppy-Root [role~=tooltip][data-microtip-size=large]:after{white-space:normal;width:260px}.uppy-StatusBar{background-color:#fff;color:#fff;display:flex;font-size:12px;font-weight:400;height:46px;line-height:40px;position:relative;transition:height .2s;z-index:1001}[data-uppy-theme=dark] .uppy-StatusBar{background-color:#1f1f1f}.uppy-StatusBar:before{background-color:#eaeaea;bottom:0;content:\"\";height:2px;left:0;position:absolute;right:0;top:0;width:100%}[data-uppy-theme=dark] .uppy-StatusBar:before{background-color:#757575}.uppy-StatusBar[aria-hidden=true]{height:0;overflow-y:hidden}.uppy-StatusBar.is-complete .uppy-StatusBar-progress{background-color:#1bb240}.uppy-StatusBar.is-error .uppy-StatusBar-progress{background-color:#e32437}.uppy-StatusBar.is-complete .uppy-StatusBar-statusIndicator{color:#1bb240}.uppy-StatusBar.is-error .uppy-StatusBar-statusIndicator{color:#e32437}.uppy-StatusBar:not([aria-hidden=true]).is-waiting{background-color:#fff;border-top:1px solid #eaeaea;height:65px}[data-uppy-theme=dark] .uppy-StatusBar:not([aria-hidden=true]).is-waiting{background-color:#1f1f1f;border-top:1px solid #333}.uppy-StatusBar-progress{background-color:#2275d7;height:2px;position:absolute;transition:background-color,width .3s ease-out;z-index:1001}.uppy-StatusBar-progress.is-indeterminate{-webkit-animation:uppy-StatusBar-ProgressStripes 1s linear infinite;animation:uppy-StatusBar-ProgressStripes 1s linear infinite;background-image:linear-gradient(45deg,rgba(0,0,0,.3) 25%,transparent 0,transparent 50%,rgba(0,0,0,.3) 0,rgba(0,0,0,.3) 75%,transparent 0,transparent);background-size:64px 64px}@-webkit-keyframes uppy-StatusBar-ProgressStripes{0%{background-position:0 0}to{background-position:64px 0}}@keyframes uppy-StatusBar-ProgressStripes{0%{background-position:0 0}to{background-position:64px 0}}.uppy-StatusBar.is-postprocessing .uppy-StatusBar-progress,.uppy-StatusBar.is-preprocessing .uppy-StatusBar-progress{background-color:#f6a623}.uppy-StatusBar.is-waiting .uppy-StatusBar-progress{display:none}[dir=ltr] .uppy-StatusBar-content{padding-left:10px}[dir=rtl] .uppy-StatusBar-content{padding-right:10px}.uppy-StatusBar-content{align-items:center;color:#333;display:flex;height:100%;position:relative;text-overflow:ellipsis;white-space:nowrap;z-index:1002}[dir=ltr] .uppy-size--md .uppy-StatusBar-content{padding-left:15px}[dir=rtl] .uppy-size--md .uppy-StatusBar-content{padding-right:15px}[data-uppy-theme=dark] .uppy-StatusBar-content{color:#eaeaea}[dir=ltr] .uppy-StatusBar-status{padding-right:.3em}[dir=rtl] .uppy-StatusBar-status{padding-left:.3em}.uppy-StatusBar-status{display:flex;flex-direction:column;font-weight:400;justify-content:center;line-height:1.4}.uppy-StatusBar-statusPrimary{display:flex;font-weight:500;line-height:1}.uppy-StatusBar-statusPrimary button.uppy-StatusBar-details{margin-left:5px}[data-uppy-theme=dark] .uppy-StatusBar-statusPrimary{color:#eaeaea}.uppy-StatusBar-statusSecondary{color:#757575;display:inline-block;font-size:11px;line-height:1.2;margin-top:1px;white-space:nowrap}[data-uppy-theme=dark] .uppy-StatusBar-statusSecondary{color:#bbb}[dir=ltr] .uppy-StatusBar-statusSecondaryHint{margin-right:5px}[dir=rtl] .uppy-StatusBar-statusSecondaryHint{margin-left:5px}.uppy-StatusBar-statusSecondaryHint{display:inline-block;line-height:1;vertical-align:middle}[dir=ltr] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{margin-right:8px}[dir=rtl] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{margin-left:8px}[dir=ltr] .uppy-StatusBar-statusIndicator{margin-right:7px}[dir=rtl] .uppy-StatusBar-statusIndicator{margin-left:7px}.uppy-StatusBar-statusIndicator{color:#525252;position:relative;top:1px}.uppy-StatusBar-statusIndicator svg{vertical-align:text-bottom}[dir=ltr] .uppy-StatusBar-actions{right:10px}[dir=rtl] .uppy-StatusBar-actions{left:10px}.uppy-StatusBar-actions{align-items:center;bottom:0;display:flex;position:absolute;top:0;z-index:1004}.uppy-StatusBar.is-waiting .uppy-StatusBar-actions{background-color:#fafafa;height:100%;padding:0 15px;position:static;width:100%}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actions{background-color:#1f1f1f}.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts{flex-direction:column;height:90px}.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts{flex-direction:row;height:65px}.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions{flex-direction:column;justify-content:center}.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions{flex-direction:row;justify-content:normal}.uppy-StatusBar-actionCircleBtn{cursor:pointer;line-height:1;margin:3px;opacity:.9}.uppy-StatusBar-actionCircleBtn:focus{outline:none}.uppy-StatusBar-actionCircleBtn::-moz-focus-inner{border:0}.uppy-StatusBar-actionCircleBtn:focus{box-shadow:0 0 0 3px rgba(34,117,215,.5)}[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus{outline:none}[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus{box-shadow:0 0 0 2px rgba(170,225,255,.85)}.uppy-StatusBar-actionCircleBtn:hover{opacity:1}.uppy-StatusBar-actionCircleBtn:focus{border-radius:50%}.uppy-StatusBar-actionCircleBtn svg{vertical-align:bottom}.uppy-StatusBar-actionBtn{color:#2275d7;display:inline-block;font-size:10px;line-height:inherit;vertical-align:middle}.uppy-size--md .uppy-StatusBar-actionBtn{font-size:11px}.uppy-StatusBar-actionBtn--disabled{opacity:.4}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--disabled{opacity:.7}[dir=ltr] .uppy-StatusBar-actionBtn--retry{margin-right:6px}[dir=rtl] .uppy-StatusBar-actionBtn--retry{margin-left:6px}.uppy-StatusBar-actionBtn--retry{background-color:#ff4b23;border-radius:8px;color:#fff;height:16px;line-height:1;padding:1px 6px 3px 18px;position:relative}.uppy-StatusBar-actionBtn--retry:focus{outline:none}.uppy-StatusBar-actionBtn--retry::-moz-focus-inner{border:0}.uppy-StatusBar-actionBtn--retry:focus{box-shadow:0 0 0 3px rgba(34,117,215,.5)}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus{outline:none}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus{box-shadow:0 0 0 2px rgba(170,225,255,.85)}.uppy-StatusBar-actionBtn--retry:hover{background-color:#f92d00}[dir=ltr] .uppy-StatusBar-actionBtn--retry svg{left:6px}[dir=rtl] .uppy-StatusBar-actionBtn--retry svg{right:6px}.uppy-StatusBar-actionBtn--retry svg{position:absolute;top:3px}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{background-color:#1bb240;color:#fff;font-size:14px;line-height:1;padding:15px 10px;width:100%}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover{background-color:#189c38}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{background-color:#1c8b37}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover{background-color:#18762f}.uppy-size--md .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{padding:13px 22px;width:auto}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover{background-color:#1bb240;cursor:not-allowed}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover{background-color:#1c8b37}.uppy-StatusBar:not(.is-waiting) .uppy-StatusBar-actionBtn--upload{background-color:transparent;color:#2275d7}[dir=ltr] .uppy-StatusBar-actionBtn--uploadNewlyAdded{padding-right:3px}[dir=ltr] .uppy-StatusBar-actionBtn--uploadNewlyAdded,[dir=rtl] .uppy-StatusBar-actionBtn--uploadNewlyAdded{padding-left:3px}[dir=rtl] .uppy-StatusBar-actionBtn--uploadNewlyAdded{padding-right:3px}.uppy-StatusBar-actionBtn--uploadNewlyAdded{border-radius:3px;padding-bottom:1px}.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{outline:none}.uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner{border:0}.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{box-shadow:0 0 0 3px rgba(34,117,215,.5)}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{outline:none}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{box-shadow:0 0 0 2px rgba(170,225,255,.85)}.uppy-StatusBar-actionBtn--done{border-radius:3px;line-height:1;padding:7px 8px}.uppy-StatusBar-actionBtn--done:focus{outline:none}.uppy-StatusBar-actionBtn--done::-moz-focus-inner{border:0}.uppy-StatusBar-actionBtn--done:hover{color:#1b5dab}.uppy-StatusBar-actionBtn--done:focus{background-color:#eceef2}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done:focus{background-color:#333}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done{color:#02baf2}.uppy-size--md .uppy-StatusBar-actionBtn--done{font-size:14px}.uppy-StatusBar-serviceMsg{color:#000;font-size:11px;line-height:1.1;padding-left:10px}.uppy-size--md .uppy-StatusBar-serviceMsg{font-size:14px;padding-left:15px}[data-uppy-theme=dark] .uppy-StatusBar-serviceMsg{color:#eaeaea}.uppy-StatusBar-serviceMsg-ghostsIcon{left:6px;opacity:.5;position:relative;top:2px;vertical-align:text-bottom;width:10px}.uppy-size--md .uppy-StatusBar-serviceMsg-ghostsIcon{left:10px;top:1px;width:15px}[dir=ltr] .uppy-StatusBar-details{left:2px}[dir=rtl] .uppy-StatusBar-details{right:2px}.uppy-StatusBar-details{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#939393;border-radius:50%;color:#fff;cursor:help;display:inline-block;font-size:10px;font-weight:600;height:13px;line-height:12px;position:relative;text-align:center;top:0;vertical-align:middle;width:13px}.uppy-StatusBar-details:after{word-wrap:break-word;line-height:1.3}[dir=ltr] .uppy-StatusBar-spinner{margin-right:10px}[dir=rtl] .uppy-StatusBar-spinner{margin-left:10px}.uppy-StatusBar-spinner{fill:#2275d7;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:uppy-StatusBar-spinnerAnimation;animation-name:uppy-StatusBar-spinnerAnimation;-webkit-animation-timing-function:linear;animation-timing-function:linear}.uppy-StatusBar.is-postprocessing .uppy-StatusBar-spinner,.uppy-StatusBar.is-preprocessing .uppy-StatusBar-spinner{fill:#f6a623}@-webkit-keyframes uppy-StatusBar-spinnerAnimation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes uppy-StatusBar-spinnerAnimation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list,.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;padding:6px}.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list:after,.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list:after{content:\"\";flex:auto}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem{margin:0;position:relative;width:50%}.uppy-size--md .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,.uppy-size--md .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem{width:33.3333%}.uppy-size--lg .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,.uppy-size--lg .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem{width:25%}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem:before,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem:before{content:\"\";display:block;padding-top:100%}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected img,.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected svg,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected img,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected svg{opacity:.85}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--disabled,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--disabled{opacity:.5}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner{background-color:hsla(0,0%,58%,.2)}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner{background-color:hsla(0,0%,92%,.2)}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg{fill:rgba(0,0,0,.7);height:30%;width:30%}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg{fill:hsla(0,0%,100%,.8)}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner{border-radius:4px;bottom:7px;height:calc(100% - 14px);left:7px;overflow:hidden;position:absolute;right:7px;text-align:center;top:7px;width:calc(100% - 14px)}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner .uppy.uppy-ProviderBrowserItem-inner-relative,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner .uppy.uppy-ProviderBrowserItem-inner-relative{position:relative}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author{background:rgba(0,0,0,.3);bottom:0;color:#fff;display:none;font-size:12px;font-weight:500;left:0;margin:0;padding:5px;position:absolute;text-decoration:none;width:100%}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author:hover,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author:hover{background:rgba(0,0,0,.4);text-decoration:underline}@media (hover:none){.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author{display:block}}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner{box-shadow:0 0 0 3px rgba(170,225,255,.7)}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner img,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner img{border-radius:4px;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox{background-color:#2275d7;border-radius:50%;height:26px;opacity:0;position:absolute;right:16px;top:16px;width:26px;z-index:1002}[dir=ltr] \n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox:after,[dir=ltr] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox:after{left:7px}[dir=rtl] \n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox:after,[dir=rtl] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox:after{right:7px}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox:after,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox:after{height:7px;top:8px;width:12px}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--is-checked,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--is-checked{opacity:1}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:hover+label .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:hover+label .uppy-ProviderBrowserItem-author{display:block}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label{box-shadow:0 0 0 3px rgba(34,117,215,.5)}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label:focus,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label:focus{outline:none}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label::-moz-focus-inner,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label::-moz-focus-inner{border:0}.uppy-ProviderBrowser-viewType--list{background-color:#fff}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list{background-color:#1f1f1f}.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem{align-items:center;display:flex;margin:0;padding:7px 15px}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem{color:#eaeaea}.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem--disabled{opacity:.6}[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{margin-right:15px}[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{margin-left:15px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{background-color:#fff;border:1px solid #cfcfcf;border-radius:3px;height:17px;width:17px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus{border:1px solid #2275d7;box-shadow:0 0 0 3px rgba(34,117,215,.25);outline:none}[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:after{left:3px}[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:after{right:3px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:after{height:5px;opacity:0;top:4px;width:9px}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus{border-color:rgba(2,186,242,.7);box-shadow:0 0 0 3px rgba(2,186,242,.2)}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked{background-color:#2275d7;border-color:#2275d7}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked:after{opacity:1}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner{align-items:center;display:flex;overflow:hidden;padding:2px;text-overflow:ellipsis;white-space:nowrap}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner:focus{outline:none;text-decoration:underline}[dir=ltr] \n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg,[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img{margin-right:8px}[dir=rtl] \n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg,[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img{margin-left:8px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg{max-height:20px;max-width:20px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner span{line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem--disabled .uppy-ProviderBrowserItem-inner{cursor:default}[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{margin-right:7px}[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{margin-left:7px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{width:20px}.uppy-ProviderBrowserItem-checkbox{cursor:pointer;flex-shrink:0;position:relative}.uppy-ProviderBrowserItem-checkbox:disabled{cursor:default}.uppy-ProviderBrowserItem-checkbox:after{border-bottom:2px solid #eaeaea;border-left:2px solid #eaeaea;content:\"\";cursor:pointer;position:absolute;transform:rotate(-45deg)}.uppy-ProviderBrowserItem-checkbox:disabled:after{cursor:default}[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox{background-color:#1f1f1f;border-color:#939393}[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox--is-checked{background-color:#333}.uppy-SearchProvider{align-items:center;display:flex;flex:1;flex-direction:column;height:100%;justify-content:center;width:100%}[data-uppy-theme=dark] .uppy-SearchProvider{background-color:#1f1f1f}.uppy-SearchProvider-input{margin-bottom:15px;max-width:650px;width:90%}.uppy-size--md .uppy-SearchProvider-input{margin-bottom:20px}.uppy-SearchProvider-searchButton{padding:13px 25px}.uppy-size--md .uppy-SearchProvider-searchButton{padding:13px 30px}.uppy-DashboardContent-panelBody{align-items:center;display:flex;flex:1;justify-content:center}[data-uppy-theme=dark] .uppy-DashboardContent-panelBody{background-color:#1f1f1f}.uppy-Provider-auth,.uppy-Provider-empty,.uppy-Provider-error,.uppy-Provider-loading{align-items:center;color:#939393;display:flex;flex:1;flex-flow:column wrap;justify-content:center}.uppy-Provider-empty{color:#939393}.uppy-Provider-authIcon svg{height:75px;margin-bottom:15px;width:100px}.uppy-Provider-authTitle{color:#757575;font-size:17px;font-weight:400;line-height:1.4;margin-bottom:30px;max-width:500px;padding:0 15px;text-align:center}.uppy-size--md .uppy-Provider-authTitle{font-size:20px}[data-uppy-theme=dark] .uppy-Provider-authTitle{color:#cfcfcf}.uppy-Provider-btn-google{align-items:center;background:#4285f4;display:flex;padding:8px 12px!important}.uppy-Provider-btn-google:hover{background-color:#1266f1}.uppy-Provider-btn-google:focus{box-shadow:0 0 0 3px rgba(66,133,244,.4);outline:none}.uppy-Provider-btn-google svg{margin-right:8px}[dir=ltr] .uppy-Provider-breadcrumbs{text-align:left}[dir=rtl] .uppy-Provider-breadcrumbs{text-align:right}.uppy-Provider-breadcrumbs{color:#525252;flex:1;font-size:12px;margin-bottom:10px}.uppy-size--md .uppy-Provider-breadcrumbs{margin-bottom:0}[data-uppy-theme=dark] .uppy-Provider-breadcrumbs{color:#eaeaea}[dir=ltr] .uppy-Provider-breadcrumbsIcon{margin-right:4px}[dir=rtl] .uppy-Provider-breadcrumbsIcon{margin-left:4px}.uppy-Provider-breadcrumbsIcon{color:#525252;display:inline-block;line-height:1;vertical-align:middle}.uppy-Provider-breadcrumbsIcon svg{fill:#525252;height:13px;width:13px}.uppy-Provider-breadcrumbs button{border-radius:3px;display:inline-block;line-height:inherit;padding:4px}.uppy-Provider-breadcrumbs button:focus{outline:none}.uppy-Provider-breadcrumbs button::-moz-focus-inner{border:0}.uppy-Provider-breadcrumbs button:hover{color:#1b5dab}.uppy-Provider-breadcrumbs button:focus{background-color:#eceef2}[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button:focus{background-color:#333}.uppy-Provider-breadcrumbs button:not(:last-of-type){text-decoration:underline}.uppy-Provider-breadcrumbs button:last-of-type{color:#333;cursor:normal;font-weight:500;pointer-events:none}.uppy-Provider-breadcrumbs button:hover{cursor:pointer}[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button{color:#eaeaea}.uppy-ProviderBrowser{display:flex;flex:1;flex-direction:column;font-size:14px;font-weight:400;height:100%}.uppy-ProviderBrowser-user{color:#333;font-weight:500;margin:0 8px 0 0}[data-uppy-theme=dark] .uppy-ProviderBrowser-user{color:#eaeaea}[dir=ltr] .uppy-ProviderBrowser-user:after{left:4px}[dir=rtl] .uppy-ProviderBrowser-user:after{right:4px}.uppy-ProviderBrowser-user:after{color:#939393;content:\"·\";font-weight:400;position:relative}.uppy-ProviderBrowser-header{border-bottom:1px solid #eaeaea;position:relative;z-index:1001}[data-uppy-theme=dark] .uppy-ProviderBrowser-header{border-bottom:1px solid #333}.uppy-ProviderBrowser-headerBar{background-color:#fafafa;color:#757575;font-size:12px;line-height:1.4;padding:7px 15px;z-index:1001}.uppy-size--md .uppy-ProviderBrowser-headerBar{align-items:center;display:flex}[data-uppy-theme=dark] .uppy-ProviderBrowser-headerBar{background-color:#1f1f1f}.uppy-ProviderBrowser-headerBar--simple{display:block;justify-content:center;text-align:center}.uppy-ProviderBrowser-headerBar--simple .uppy-Provider-breadcrumbsWrap{display:inline-block;flex:none;vertical-align:middle}.uppy-ProviderBrowser-search{align-items:center;background-color:#fff;display:flex;height:30px;margin-bottom:5px;margin-top:10px;position:relative;width:100%}[data-uppy-theme=dark] .uppy-ProviderBrowser-search{background-color:#1f1f1f}[dir=ltr] .uppy-ProviderBrowser-searchIcon{left:16px}[dir=rtl] .uppy-ProviderBrowser-searchIcon{right:16px}.uppy-ProviderBrowser-searchIcon{color:#bbb;height:12px;position:absolute;width:12px;z-index:1002}[dir=ltr] .uppy-ProviderBrowser-searchInput{padding-left:27px}[dir=rtl] .uppy-ProviderBrowser-searchInput{padding-right:27px}.uppy-ProviderBrowser-searchInput{background-color:transparent;border:0;border-radius:4px;font-family:-apple-system,blinkmacsystemfont,Segoe UI,helvetica,arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:12px;height:30px;line-height:1.4;margin:0 8px;outline:0;width:100%;z-index:1001}[data-uppy-theme=dark] .uppy-ProviderBrowser-searchInput{background-color:#1f1f1f;color:#eaeaea}.uppy-ProviderBrowser-searchInput:focus{background-color:#f4f4f4;outline:0}[data-uppy-theme=dark] .uppy-ProviderBrowser-searchInput:focus{background-color:#333}[dir=ltr] .uppy-ProviderBrowser-searchClose{right:12px}[dir=rtl] .uppy-ProviderBrowser-searchClose{left:12px}.uppy-ProviderBrowser-searchClose{color:#939393;cursor:pointer;height:22px;padding:6px;position:absolute;top:4px;width:22px;z-index:1002}.uppy-ProviderBrowser-searchClose:hover{color:#757575}.uppy-ProviderBrowser-searchClose svg{vertical-align:text-top}.uppy-ProviderBrowser-searchInput::-moz-placeholder{color:#939393;opacity:1}.uppy-ProviderBrowser-searchInput:-ms-input-placeholder{color:#939393;opacity:1}.uppy-ProviderBrowser-searchInput::placeholder{color:#939393;opacity:1}.uppy-ProviderBrowser-userLogout{border-radius:3px;color:#2275d7;cursor:pointer;line-height:inherit;padding:4px}.uppy-ProviderBrowser-userLogout:focus{outline:none}.uppy-ProviderBrowser-userLogout::-moz-focus-inner{border:0}.uppy-ProviderBrowser-userLogout:hover{color:#1b5dab}.uppy-ProviderBrowser-userLogout:focus{background-color:#eceef2}[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout:focus{background-color:#333}.uppy-ProviderBrowser-userLogout:hover{text-decoration:underline}[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout{color:#eaeaea}.uppy-ProviderBrowser-body{flex:1;position:relative}.uppy-ProviderBrowser-list{-webkit-overflow-scrolling:touch;background-color:#fff;border-spacing:0;bottom:0;display:block;flex:1;height:100%;left:0;list-style:none;margin:0;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;right:0;top:0;width:100%}[data-uppy-theme=dark] .uppy-ProviderBrowser-list{background-color:#1f1f1f}.uppy-ProviderBrowser-list:focus{outline:none}.uppy-ProviderBrowserItem-inner{cursor:pointer;font-size:13px;font-weight:500}.uppy-ProviderBrowser-footer{align-items:center;background-color:#fff;border-top:1px solid #eaeaea;display:flex;height:65px;padding:0 15px}[dir=ltr] .uppy-ProviderBrowser-footer button{margin-right:8px}[dir=rtl] .uppy-ProviderBrowser-footer button{margin-left:8px}[data-uppy-theme=dark] .uppy-ProviderBrowser-footer{background-color:#1f1f1f;border-top:1px solid #333}.uppy-Dashboard-Item-previewInnerWrap{align-items:center;border-radius:3px;box-shadow:0 0 2px 0 rgba(0,0,0,.4);display:flex;flex-direction:column;height:100%;justify-content:center;overflow:hidden;position:relative;width:100%}.uppy-size--md .uppy-Dashboard-Item-previewInnerWrap{box-shadow:0 1px 2px rgba(0,0,0,.15)}.uppy-Dashboard-Item-previewInnerWrap:after{background-color:rgba(0,0,0,.65);bottom:0;content:\"\";display:none;left:0;position:absolute;right:0;top:0;z-index:1001}.uppy-Dashboard-Item-previewLink{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1002}.uppy-Dashboard-Item-previewLink:focus{box-shadow:inset 0 0 0 3px #76abe9}[data-uppy-theme=dark] .uppy-Dashboard-Item-previewLink:focus{box-shadow:inset 0 0 0 3px #016c8d}.uppy-Dashboard-Item-preview img.uppy-Dashboard-Item-previewImg{border-radius:3px;height:100%;-o-object-fit:cover;object-fit:cover;transform:translateZ(0);width:100%}.uppy-Dashboard-Item-progress{color:#fff;left:50%;position:absolute;text-align:center;top:50%;transform:translate(-50%,-50%);transition:all .35 ease;width:120px;z-index:1002}.uppy-Dashboard-Item-progressIndicator{display:inline-block;height:38px;opacity:.9;width:38px}.uppy-size--md .uppy-Dashboard-Item-progressIndicator{height:55px;width:55px}button.uppy-Dashboard-Item-progressIndicator{cursor:pointer}button.uppy-Dashboard-Item-progressIndicator:focus{outline:none}button.uppy-Dashboard-Item-progressIndicator::-moz-focus-inner{border:0}button.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--bg,button.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--retry{fill:#76abe9}.uppy-Dashboard-Item-progressIcon--circle{height:100%;width:100%}.uppy-Dashboard-Item-progressIcon--bg{stroke:hsla(0,0%,100%,.4)}.uppy-Dashboard-Item-progressIcon--progress{stroke:#fff;transition:stroke-dashoffset .5s ease-out}.uppy-Dashboard-Item-progressIcon--play{fill:#fff;stroke:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--cancel{fill:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--pause{fill:#fff;stroke:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--check{fill:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--retry{fill:#fff}[dir=ltr] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{right:-8px}[dir=rtl] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{left:-8px}[dir=ltr] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{left:auto}[dir=rtl] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{right:auto}.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{top:-9px;transform:none;width:auto}.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator{height:18px;width:18px}.uppy-size--md .uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator{height:28px;width:28px}.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator{height:18px;opacity:1;width:18px}.uppy-size--md .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator{height:22px;width:22px}.uppy-Dashboard-Item.is-processing .uppy-Dashboard-Item-progress{opacity:0}[dir=ltr] .uppy-Dashboard-Item-fileInfo{padding-right:5px}[dir=rtl] .uppy-Dashboard-Item-fileInfo{padding-left:5px}.uppy-Dashboard-Item-name{word-wrap:anywhere;font-size:12px;font-weight:500;line-height:1.3;margin-bottom:5px;word-break:break-all}[data-uppy-theme=dark] .uppy-Dashboard-Item-name{color:#eaeaea}.uppy-Dashboard-Item-fileName{align-items:baseline;display:flex}.uppy-Dashboard-Item-fileName button{margin-left:5px}.uppy-Dashboard-Item-author{color:#757575;display:inline-block;font-size:11px;font-weight:400;line-height:1;margin-bottom:5px;vertical-align:bottom}.uppy-Dashboard-Item-author a{color:#757575}.uppy-Dashboard-Item-status{color:#757575;font-size:11px;font-weight:400;line-height:1}[data-uppy-theme=dark] .uppy-Dashboard-Item-status{color:#bbb}.uppy-Dashboard-Item-statusSize{display:inline-block;margin-bottom:5px;text-transform:uppercase;vertical-align:bottom}.uppy-Dashboard-Item-reSelect{color:#2275d7;font-family:inherit;font-size:inherit;font-weight:600}.uppy-Dashboard-Item-errorMessage{background-color:#fdeff1;color:#a51523;font-size:11px;font-weight:500;line-height:1.3;padding:5px 6px}.uppy-Dashboard-Item-errorMessageBtn{cursor:pointer;font-weight:500;text-decoration:underline}.uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage{display:none}.uppy-size--md .uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage{border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-top:1px solid #f7c2c8;bottom:0;display:block;left:0;line-height:1.4;padding:6px 8px;position:absolute;right:0}.uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage{border:1px solid #f7c2c8;border-radius:3px;display:inline-block;position:static}.uppy-size--md .uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage{display:none}.uppy-Dashboard-Item-action{color:#939393;cursor:pointer}.uppy-Dashboard-Item-action:focus{outline:none}.uppy-Dashboard-Item-action::-moz-focus-inner{border:0}.uppy-Dashboard-Item-action:focus{box-shadow:0 0 0 3px rgba(34,117,215,.5)}.uppy-Dashboard-Item-action:hover{color:#1f1f1f;opacity:1}[data-uppy-theme=dark] .uppy-Dashboard-Item-action{color:#cfcfcf}[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus{outline:none}[data-uppy-theme=dark] .uppy-Dashboard-Item-action::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus{box-shadow:0 0 0 2px rgba(170,225,255,.85)}[data-uppy-theme=dark] .uppy-Dashboard-Item-action:hover{color:#eaeaea}.uppy-Dashboard-Item-action--remove{color:#1f1f1f;opacity:.95}.uppy-Dashboard-Item-action--remove:hover{color:#000;opacity:1}[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove{color:#525252}[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove:hover{color:#333}.uppy-Dashboard:not(.uppy-size--md) .uppy-Dashboard-Item-actionWrapper{align-items:center;display:flex}.uppy-Dashboard:not(.uppy-size--md) .uppy-Dashboard-Item-action{height:22px;margin-left:3px;padding:3px;width:22px}.uppy-Dashboard:not(.uppy-size--md) .uppy-Dashboard-Item-action:focus{border-radius:3px}.uppy-size--md .uppy-Dashboard-Item-action--copyLink,.uppy-size--md .uppy-Dashboard-Item-action--edit{height:16px;padding:0;width:16px}.uppy-size--md .uppy-Dashboard-Item-action--copyLink:focus,.uppy-size--md .uppy-Dashboard-Item-action--edit:focus{border-radius:3px}[dir=ltr] .uppy-size--md .uppy-Dashboard-Item-action--remove{right:-8px}[dir=rtl] .uppy-size--md .uppy-Dashboard-Item-action--remove{left:-8px}.uppy-size--md .uppy-Dashboard-Item-action--remove{height:18px;padding:0;position:absolute;top:-8px;width:18px;z-index:1002}.uppy-size--md .uppy-Dashboard-Item-action--remove:focus{border-radius:50%}[dir=ltr] .uppy-Dashboard-Item{padding-right:0}[dir=rtl] .uppy-Dashboard-Item{padding-left:0}.uppy-Dashboard-Item{align-items:center;border-bottom:1px solid #eaeaea;display:flex;padding:10px}[data-uppy-theme=dark] .uppy-Dashboard-Item{border-bottom:1px solid #333}[dir=ltr] .uppy-size--md .uppy-Dashboard-Item{float:left}[dir=rtl] .uppy-size--md .uppy-Dashboard-Item{float:right}.uppy-size--md .uppy-Dashboard-Item{border-bottom:0;display:block;height:215px;margin:5px 15px;padding:0;position:relative;width:calc(33.333% - 30px)}.uppy-size--lg .uppy-Dashboard-Item{height:190px;margin:5px 15px;width:calc(25% - 30px)}.uppy-size--xl .uppy-Dashboard-Item{height:210px;width:calc(20% - 30px)}.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-previewInnerWrap{opacity:.2}.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-name{opacity:.7}.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35' height='39'%3E%3Cpath d='M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 0 1-3.417-3.416 3.383 3.383 0 0 1 3.417-3.417 3.383 3.383 0 0 1 3.417 3.417 3.383 3.383 0 0 1-3.417 3.416zm13.667 0A3.383 3.383 0 0 1 20.5 18.16a3.383 3.383 0 0 1 3.417-3.417 3.383 3.383 0 0 1 3.416 3.417 3.383 3.383 0 0 1-3.416 3.416z' fill='%2523000'/%3E%3C/svg%3E\");background-position:50% 10px;background-repeat:no-repeat;background-size:25px;bottom:0;content:\"\";left:0;opacity:.5;position:absolute;right:0;top:0;z-index:1005}.uppy-size--md .uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview:before{background-position:50% 50%;background-size:40px}.uppy-Dashboard-Item-preview{position:relative}.uppy-Dashboard:not(.uppy-size--md) .uppy-Dashboard-Item-preview{flex-grow:0;flex-shrink:0;height:50px;width:50px}.uppy-size--md .uppy-Dashboard-Item-preview{height:140px;width:100%}.uppy-size--lg .uppy-Dashboard-Item-preview{height:120px}.uppy-size--xl .uppy-Dashboard-Item-preview{height:140px}[dir=ltr] .uppy-Dashboard-Item-fileInfoAndButtons{padding-right:8px}[dir=rtl] .uppy-Dashboard-Item-fileInfoAndButtons{padding-left:8px}[dir=ltr] .uppy-Dashboard-Item-fileInfoAndButtons{padding-left:12px}[dir=rtl] .uppy-Dashboard-Item-fileInfoAndButtons{padding-right:12px}.uppy-Dashboard-Item-fileInfoAndButtons{align-items:center;display:flex;flex-grow:1;justify-content:space-between}.uppy-size--md .uppy-Dashboard-Item-fileInfoAndButtons{align-items:flex-start;padding:9px 0 0;width:100%}.uppy-Dashboard-Item-fileInfo{flex-grow:1;flex-shrink:1}.uppy-Dashboard-Item-actionWrapper{flex-grow:0;flex-shrink:0}.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-previewInnerWrap:after,.uppy-Dashboard-Item.is-inprogress .uppy-Dashboard-Item-previewInnerWrap:after{display:block}.uppy-Dashboard-Item.is-inprogress:not(.is-resumable) .uppy-Dashboard-Item-action--remove{display:none}[dir=ltr] .uppy-Dashboard-Item-errorDetails{left:2px}[dir=rtl] .uppy-Dashboard-Item-errorDetails{right:2px}.uppy-Dashboard-Item-errorDetails{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#939393;border:none;border-radius:50%;color:#fff;cursor:help;display:inline-block;font-size:10px;font-weight:600;height:13px;line-height:12px;position:relative;text-align:center;top:0;vertical-align:middle;width:13px}.uppy-Dashboard-Item-errorDetails:after{word-wrap:break-word;line-height:1.3}.uppy-Dashboard-FileCard{background-color:#fff;border-radius:5px;bottom:0;box-shadow:0 0 10px 4px rgba(0,0,0,.1);display:flex;flex-direction:column;height:100%;left:0;position:absolute;right:0;top:0;width:100%;z-index:1005}.uppy-Dashboard-FileCard .uppy-DashboardContent-bar{border-top-left-radius:5px;border-top-right-radius:5px}.uppy-Dashboard-FileCard .uppy-Dashboard-FileCard-actions{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.uppy-Dashboard-FileCard-inner{display:flex;flex-direction:column;flex-grow:1;flex-shrink:1;height:100%;min-height:0}.uppy-Dashboard-FileCard-preview{align-items:center;border-bottom:1px solid #eaeaea;display:flex;flex-grow:0;flex-shrink:1;height:60%;justify-content:center;min-height:0;position:relative}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-preview{background-color:#333;border-bottom:0}.uppy-Dashboard-FileCard-preview img.uppy-Dashboard-Item-previewImg{border-radius:3px;box-shadow:0 3px 20px rgba(0,0,0,.15);flex:0 0 auto;max-height:90%;max-width:90%;-o-object-fit:cover;object-fit:cover}[dir=ltr] .uppy-Dashboard-FileCard-edit{right:10px}[dir=rtl] .uppy-Dashboard-FileCard-edit{left:10px}.uppy-Dashboard-FileCard-edit{background-color:rgba(0,0,0,.5);border-radius:50px;color:#fff;font-size:13px;padding:7px 15px;position:absolute;top:10px}.uppy-Dashboard-FileCard-edit:focus{outline:none}.uppy-Dashboard-FileCard-edit::-moz-focus-inner{border:0}.uppy-Dashboard-FileCard-edit:focus{box-shadow:0 0 0 3px rgba(34,117,215,.5)}.uppy-Dashboard-FileCard-edit:hover{background-color:rgba(0,0,0,.8)}.uppy-Dashboard-FileCard-info{-webkit-overflow-scrolling:touch;flex-grow:0;flex-shrink:0;height:40%;overflow-y:auto;padding:30px 20px 20px}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-info{background-color:#1f1f1f}.uppy-Dashboard-FileCard-fieldset{border:0;font-size:0;margin:auto auto 12px;max-width:640px;padding:0}.uppy-Dashboard-FileCard-label{color:#525252;display:inline-block;font-size:12px;vertical-align:middle;width:22%}.uppy-size--md .uppy-Dashboard-FileCard-label{font-size:14px}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-label{color:#eaeaea}.uppy-Dashboard-FileCard-input{display:inline-block;vertical-align:middle;width:78%}.uppy-Dashboard-FileCard-actions{align-items:center;background-color:#fafafa;border-top:1px solid #eaeaea;display:flex;flex-grow:0;flex-shrink:0;height:55px;padding:0 15px}.uppy-size--md .uppy-Dashboard-FileCard-actions{height:65px}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-actions{background-color:#1f1f1f;border-top:1px solid #333}[dir=ltr] .uppy-Dashboard-FileCard-actionsBtn{margin-right:10px}[dir=rtl] .uppy-Dashboard-FileCard-actionsBtn{margin-left:10px}.uppy-transition-slideDownUp-enter{opacity:.01;transform:translate3d(0,-105%,0);transition:transform .25s ease-in-out,opacity .25s ease-in-out}.uppy-transition-slideDownUp-enter.uppy-transition-slideDownUp-enter-active{opacity:1;transform:translateZ(0)}.uppy-transition-slideDownUp-leave{opacity:1;transform:translateZ(0);transition:transform .25s ease-in-out,opacity .25s ease-in-out}.uppy-transition-slideDownUp-leave.uppy-transition-slideDownUp-leave-active{opacity:.01;transform:translate3d(0,-105%,0)}@-webkit-keyframes uppy-Dashboard-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes uppy-Dashboard-fadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes uppy-Dashboard-fadeOut{0%{opacity:1}to{opacity:0}}@keyframes uppy-Dashboard-fadeOut{0%{opacity:1}to{opacity:0}}@-webkit-keyframes uppy-Dashboard-slideDownAndFadeIn{0%{opacity:0;transform:translate3d(-50%,-70%,0)}to{opacity:1;transform:translate3d(-50%,-50%,0)}}@keyframes uppy-Dashboard-slideDownAndFadeIn{0%{opacity:0;transform:translate3d(-50%,-70%,0)}to{opacity:1;transform:translate3d(-50%,-50%,0)}}@-webkit-keyframes uppy-Dashboard-slideDownAndFadeIn--small{0%{opacity:0;transform:translate3d(0,-20%,0)}to{opacity:1;transform:translateZ(0)}}@keyframes uppy-Dashboard-slideDownAndFadeIn--small{0%{opacity:0;transform:translate3d(0,-20%,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes uppy-Dashboard-slideUpFadeOut{0%{opacity:1;transform:translate3d(-50%,-50%,0)}to{opacity:0;transform:translate3d(-50%,-70%,0)}}@keyframes uppy-Dashboard-slideUpFadeOut{0%{opacity:1;transform:translate3d(-50%,-50%,0)}to{opacity:0;transform:translate3d(-50%,-70%,0)}}@-webkit-keyframes uppy-Dashboard-slideUpFadeOut--small{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20%,0)}}@keyframes uppy-Dashboard-slideUpFadeOut--small{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20%,0)}}.uppy-Dashboard--modal{z-index:1001}.uppy-Dashboard--modal[aria-hidden=true]{display:none}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose>.uppy-Dashboard-inner{-webkit-animation:uppy-Dashboard-slideDownAndFadeIn--small .3s cubic-bezier(0,0,.2,1);animation:uppy-Dashboard-slideDownAndFadeIn--small .3s cubic-bezier(0,0,.2,1)}@media only screen and (min-width:820px){.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose>.uppy-Dashboard-inner{-webkit-animation:uppy-Dashboard-slideDownAndFadeIn .3s cubic-bezier(0,0,.2,1);animation:uppy-Dashboard-slideDownAndFadeIn .3s cubic-bezier(0,0,.2,1)}}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose>.uppy-Dashboard-overlay{-webkit-animation:uppy-Dashboard-fadeIn .3s cubic-bezier(0,0,.2,1);animation:uppy-Dashboard-fadeIn .3s cubic-bezier(0,0,.2,1)}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing>.uppy-Dashboard-inner{-webkit-animation:uppy-Dashboard-slideUpFadeOut--small .3s cubic-bezier(0,0,.2,1);animation:uppy-Dashboard-slideUpFadeOut--small .3s cubic-bezier(0,0,.2,1)}@media only screen and (min-width:820px){.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing>.uppy-Dashboard-inner{-webkit-animation:uppy-Dashboard-slideUpFadeOut .3s cubic-bezier(0,0,.2,1);animation:uppy-Dashboard-slideUpFadeOut .3s cubic-bezier(0,0,.2,1)}}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing>.uppy-Dashboard-overlay{-webkit-animation:uppy-Dashboard-fadeOut .3s cubic-bezier(0,0,.2,1);animation:uppy-Dashboard-fadeOut .3s cubic-bezier(0,0,.2,1)}.uppy-Dashboard-isFixed{height:100vh;overflow:hidden}.uppy-Dashboard--modal .uppy-Dashboard-overlay{background-color:rgba(0,0,0,.5);bottom:0;left:0;position:fixed;right:0;top:0;z-index:1001}.uppy-Dashboard-inner{background-color:#fafafa;border:1px solid #eaeaea;border-radius:5px;max-height:100%;max-width:100%;outline:none;position:relative}.uppy-size--md .uppy-Dashboard-inner{min-height:auto}@media only screen and (min-width:820px){.uppy-Dashboard-inner{height:550px;width:750px}}.uppy-Dashboard--modal .uppy-Dashboard-inner{z-index:1002}[data-uppy-theme=dark] .uppy-Dashboard-inner{background-color:#1f1f1f}.uppy-Dashboard--isDisabled .uppy-Dashboard-inner{cursor:not-allowed}.uppy-Dashboard-innerWrap{border-radius:5px;display:flex;flex-direction:column;height:100%;opacity:0;overflow:hidden;position:relative}.uppy-Dashboard--isInnerWrapVisible .uppy-Dashboard-innerWrap{opacity:1}.uppy-Dashboard--isDisabled .uppy-Dashboard-innerWrap{filter:grayscale(100%);opacity:.6;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.uppy-Dashboard--isDisabled .uppy-ProviderIconBg{fill:#9f9f9f}.uppy-Dashboard--modal .uppy-Dashboard-inner{border:none;bottom:15px;left:15px;position:fixed;right:15px;top:35px}@media only screen and (min-width:820px){.uppy-Dashboard--modal .uppy-Dashboard-inner{box-shadow:0 5px 15px 4px rgba(0,0,0,.15);left:50%;right:auto;top:50%;transform:translate(-50%,-50%)}}[dir=ltr] .uppy-Dashboard-close{right:-2px}[dir=rtl] .uppy-Dashboard-close{left:-2px}.uppy-Dashboard-close{color:hsla(0,0%,100%,.9);cursor:pointer;display:block;font-size:27px;position:absolute;top:-33px;z-index:1005}.uppy-Dashboard-close:focus{outline:none}.uppy-Dashboard-close::-moz-focus-inner{border:0}.uppy-Dashboard-close:focus{color:#8cb8ed}@media only screen and (min-width:820px){[dir=ltr] .uppy-Dashboard-close{right:-35px}[dir=rtl] .uppy-Dashboard-close{left:-35px}.uppy-Dashboard-close{font-size:35px;top:-10px}}.uppy-Dashboard-serviceMsg{background-color:#fffbf7;border-bottom:1px solid #edd4b9;border-top:1px solid #edd4b9;font-size:12px;font-weight:500;line-height:1.3;padding:12px 0;position:relative;top:-1px;z-index:1004}.uppy-size--md .uppy-Dashboard-serviceMsg{font-size:14px;line-height:1.4}[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg{background-color:#1f1f1f;border-bottom:1px solid #333;border-top:1px solid #333;color:#eaeaea}.uppy-Dashboard-serviceMsg-title{display:block;line-height:1;margin-bottom:4px;padding-left:42px}.uppy-Dashboard-serviceMsg-text{padding:0 15px}.uppy-Dashboard-serviceMsg-actionBtn{color:#2275d7;font-size:inherit;font-weight:inherit;vertical-align:initial}[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg-actionBtn{color:rgba(2,186,242,.9)}.uppy-Dashboard-serviceMsg-icon{left:15px;position:absolute;top:10px}.uppy-Dashboard-AddFiles{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;position:relative;text-align:center}[data-uppy-drag-drop-supported=true] .uppy-Dashboard-AddFiles{border:1px dashed #dfdfdf;border-radius:3px;height:calc(100% - 14px);margin:7px}.uppy-Dashboard-AddFilesPanel .uppy-Dashboard-AddFiles{border:none;height:calc(100% - 54px)}.uppy-Dashboard--modal .uppy-Dashboard-AddFiles{border-color:#cfcfcf}[data-uppy-theme=dark] .uppy-Dashboard-AddFiles{border-color:#757575}.uppy-Dashboard-AddFiles-info{display:none;margin-top:auto;padding-bottom:15px;padding-top:15px}.uppy-size--height-md .uppy-Dashboard-AddFiles-info{display:block}.uppy-size--md .uppy-Dashboard-AddFiles-info{bottom:25px;left:0;padding-bottom:0;padding-top:30px;position:absolute;right:0}[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-info{margin-top:0}.uppy-Dashboard-browse{color:rgba(34,117,215,.9);cursor:pointer}.uppy-Dashboard-browse:focus{outline:none}.uppy-Dashboard-browse::-moz-focus-inner{border:0}.uppy-Dashboard-browse:focus,.uppy-Dashboard-browse:hover{border-bottom:1px solid #2275d7}[data-uppy-theme=dark] .uppy-Dashboard-browse{color:rgba(2,186,242,.9)}[data-uppy-theme=dark] .uppy-Dashboard-browse:focus,[data-uppy-theme=dark] .uppy-Dashboard-browse:hover{border-bottom:1px solid #02baf2}.uppy-Dashboard-browseBtn{display:block;font-size:14px;font-weight:500;margin-bottom:5px;margin-top:8px;width:100%}.uppy-size--md .uppy-Dashboard-browseBtn{font-size:15px;margin:15px auto;padding:13px 44px;width:auto}.uppy-Dashboard-AddFiles-list{-webkit-overflow-scrolling:touch;display:flex;flex:1;flex-direction:column;margin-top:2px;overflow-y:auto;padding:2px 0;width:100%}.uppy-size--md .uppy-Dashboard-AddFiles-list{flex:none;flex-direction:row;flex-wrap:wrap;justify-content:center;margin-top:15px;max-width:600px;overflow-y:visible;padding-top:0}.uppy-DashboardTab{border-bottom:1px solid #eaeaea;text-align:center;width:100%}[data-uppy-theme=dark] .uppy-DashboardTab{border-bottom:1px solid #333}.uppy-size--md .uppy-DashboardTab{border-bottom:none;display:inline-block;margin-bottom:10px;width:auto}.uppy-DashboardTab-btn{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;color:#525252;cursor:pointer;display:flex;flex-direction:row;height:100%;padding:12px 15px;width:100%}.uppy-DashboardTab-btn:focus{outline:none}[dir=ltr] .uppy-size--md .uppy-DashboardTab-btn{margin-right:1px}[dir=rtl] .uppy-size--md .uppy-DashboardTab-btn{margin-left:1px}.uppy-size--md .uppy-DashboardTab-btn{border-radius:5px;flex-direction:column;padding:10px 3px;width:86px}[data-uppy-theme=dark] .uppy-DashboardTab-btn{color:#eaeaea}.uppy-DashboardTab-btn::-moz-focus-inner{border:0}.uppy-DashboardTab-btn:hover{background-color:#f1f3f6}[data-uppy-theme=dark] .uppy-DashboardTab-btn:hover{background-color:#333}.uppy-DashboardTab-btn:active,.uppy-DashboardTab-btn:focus{background-color:#eceef2}[data-uppy-theme=dark] .uppy-DashboardTab-btn:active,[data-uppy-theme=dark] .uppy-DashboardTab-btn:focus{background-color:#525252}[dir=ltr] .uppy-DashboardTab-btn svg{margin-right:10px}[dir=rtl] .uppy-DashboardTab-btn svg{margin-left:10px}.uppy-DashboardTab-btn svg{display:inline-block;max-height:100%;max-width:100%;overflow:hidden;transition:transform .15s ease-in-out;vertical-align:text-top}[dir=ltr] .uppy-size--md .uppy-DashboardTab-btn svg{margin-right:0}[dir=rtl] .uppy-size--md .uppy-DashboardTab-btn svg{margin-left:0}.uppy-DashboardTab-name{font-size:14px;font-weight:500}.uppy-size--md .uppy-DashboardTab-name{font-size:11px;line-height:15px;margin-bottom:0;margin-top:8px}.uppy-DashboardTab svg{height:23px;vertical-align:middle;width:23px}.uppy-size--md .uppy-DashboardTab svg{height:30px;width:30px}.uppy-Dashboard-input{height:.1px;opacity:0;overflow:hidden;position:absolute;width:.1px;z-index:-1}.uppy-DashboardContent-bar{align-items:center;background-color:#fafafa;border-bottom:1px solid #eaeaea;display:flex;flex-shrink:0;height:40px;justify-content:space-between;padding:0 10px;position:relative;width:100%;z-index:1004}.uppy-size--md .uppy-DashboardContent-bar{height:50px;padding:0 15px}[data-uppy-theme=dark] .uppy-DashboardContent-bar{background-color:#1f1f1f;border-bottom:1px solid #333}.uppy-DashboardContent-title{font-size:12px;font-weight:500;left:0;line-height:40px;margin:auto;max-width:170px;overflow-x:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0;white-space:nowrap;width:100%}.uppy-size--md .uppy-DashboardContent-title{font-size:14px;line-height:50px;max-width:300px}[data-uppy-theme=dark] .uppy-DashboardContent-title{color:#eaeaea}[dir=ltr] \n.uppy-DashboardContent-save,[dir=ltr] .uppy-DashboardContent-back{margin-left:-6px}[dir=rtl] \n.uppy-DashboardContent-save,[dir=rtl] .uppy-DashboardContent-back{margin-right:-6px}.uppy-DashboardContent-back,.uppy-DashboardContent-save{-webkit-appearance:none;background:none;border:0;border-radius:3px;color:inherit;color:#2275d7;cursor:pointer;font-family:inherit;font-size:inherit;font-size:12px;font-weight:400;line-height:1;margin:0;padding:7px 6px}.uppy-DashboardContent-back:focus,.uppy-DashboardContent-save:focus{outline:none}.uppy-DashboardContent-back::-moz-focus-inner,.uppy-DashboardContent-save::-moz-focus-inner{border:0}.uppy-DashboardContent-back:hover,.uppy-DashboardContent-save:hover{color:#1b5dab}.uppy-DashboardContent-back:focus,.uppy-DashboardContent-save:focus{background-color:#eceef2}[data-uppy-theme=dark] .uppy-DashboardContent-back:focus,[data-uppy-theme=dark] .uppy-DashboardContent-save:focus{background-color:#333}.uppy-size--md .uppy-DashboardContent-back,.uppy-size--md .uppy-DashboardContent-save{font-size:14px}[data-uppy-theme=dark] .uppy-DashboardContent-back,[data-uppy-theme=dark] .uppy-DashboardContent-save{color:#02baf2}[dir=ltr] .uppy-DashboardContent-addMore{margin-right:-5px}[dir=rtl] .uppy-DashboardContent-addMore{margin-left:-5px}.uppy-DashboardContent-addMore{-webkit-appearance:none;background:none;border:0;border-radius:3px;color:inherit;color:#2275d7;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;height:29px;line-height:1;margin:0;padding:7px 8px;width:29px}.uppy-DashboardContent-addMore:focus{outline:none}.uppy-DashboardContent-addMore::-moz-focus-inner{border:0}.uppy-DashboardContent-addMore:hover{color:#1b5dab}.uppy-DashboardContent-addMore:focus{background-color:#eceef2}[data-uppy-theme=dark] .uppy-DashboardContent-addMore:focus{background-color:#333}[dir=ltr] .uppy-size--md .uppy-DashboardContent-addMore{margin-right:-8px}[dir=rtl] .uppy-size--md .uppy-DashboardContent-addMore{margin-left:-8px}.uppy-size--md .uppy-DashboardContent-addMore{font-size:14px;height:auto;width:auto}[data-uppy-theme=dark] .uppy-DashboardContent-addMore{color:#02baf2}[dir=ltr] .uppy-DashboardContent-addMore svg{margin-right:4px}[dir=rtl] .uppy-DashboardContent-addMore svg{margin-left:4px}.uppy-DashboardContent-addMore svg{vertical-align:baseline}.uppy-size--md .uppy-DashboardContent-addMore svg{height:11px;width:11px}.uppy-DashboardContent-addMoreCaption{display:none}.uppy-size--md .uppy-DashboardContent-addMoreCaption{display:inline}.uppy-DashboardContent-panel{background-color:#f5f5f5;flex:1}.uppy-Dashboard-AddFilesPanel,.uppy-DashboardContent-panel{border-radius:5px;bottom:0;display:flex;flex-direction:column;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:1005}.uppy-Dashboard-AddFilesPanel{background:#fafafa;background:linear-gradient(0deg,#fafafa 35%,hsla(0,0%,98%,.85));box-shadow:0 0 10px 5px rgba(0,0,0,.15)}[data-uppy-theme=dark] .uppy-Dashboard-AddFilesPanel{background-color:#333;background-image:linear-gradient(0deg,#1f1f1f 35%,rgba(31,31,31,.85))}.uppy-Dashboard--isAddFilesPanelVisible .uppy-Dashboard-files{filter:blur(2px)}.uppy-Dashboard-progress{bottom:0;height:12%;left:0;position:absolute;width:100%}.uppy-Dashboard-progressBarContainer.is-active{height:100%;left:0;position:absolute;top:0;width:100%;z-index:1004}.uppy-Dashboard-filesContainer{flex:1;margin:0;overflow-y:hidden;position:relative}.uppy-Dashboard-filesContainer:after{clear:both;content:\"\";display:table}.uppy-Dashboard-files{-webkit-overflow-scrolling:touch;flex:1;margin:0;overflow-y:auto;padding:0 0 10px}.uppy-size--md .uppy-Dashboard-files{padding-top:10px}.uppy-Dashboard-dropFilesHereHint{align-items:center;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z' fill='%232275D7'/%3E%3C/svg%3E\");background-position:50% 50%;background-repeat:no-repeat;border:1px dashed #2275d7;border-radius:3px;bottom:7px;color:#757575;display:flex;font-size:16px;justify-content:center;left:7px;padding-top:90px;position:absolute;right:7px;text-align:center;top:7px;visibility:hidden;z-index:2000}[data-uppy-theme=dark] .uppy-Dashboard-dropFilesHereHint{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z' fill='%2302BAF2'/%3E%3C/svg%3E\");border-color:#02baf2;color:#bbb}.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-dropFilesHereHint{visibility:visible}.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-files,.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-progressindicators,.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-serviceMsg,.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-DashboardContent-bar{opacity:.15}.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-AddFiles{opacity:.03}.uppy-Dashboard-AddFiles-title{color:#000;font-size:17px;font-weight:500;line-height:1.35;margin-bottom:5px;margin-top:15px;padding:0 15px;text-align:inline-start;width:100%}.uppy-size--md .uppy-Dashboard-AddFiles-title{font-size:25px;font-weight:400;margin-top:5px;max-width:480px;text-align:center}[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-title{text-align:center}[data-uppy-theme=dark] .uppy-Dashboard-AddFiles-title{color:#eaeaea}.uppy-Dashboard-AddFiles-title button{font-weight:500}.uppy-size--md .uppy-Dashboard-AddFiles-title button{font-weight:400}.uppy-Dashboard-note{color:#757575;font-size:14px;line-height:1.25;margin:auto;max-width:350px;padding:0 15px;text-align:center}.uppy-size--md .uppy-Dashboard-note{font-size:15px;line-height:1.35;max-width:600px}[data-uppy-theme=dark] .uppy-Dashboard-note{color:#cfcfcf}a.uppy-Dashboard-poweredBy{color:#939393;display:inline-block;font-size:11px;margin-top:8px;text-align:center;text-decoration:none}.uppy-Dashboard-poweredByIcon{fill:none;stroke:#939393;margin-left:1px;margin-right:1px;opacity:.9;position:relative;top:1px;vertical-align:text-top}.uppy-Dashboard-Item-previewIcon{height:25px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:25px;z-index:100}.uppy-size--md .uppy-Dashboard-Item-previewIcon{height:38px;width:38px}.uppy-Dashboard-Item-previewIcon svg{height:100%;width:100%}.uppy-Dashboard-Item-previewIconWrap{height:76px;max-height:75%;position:relative}.uppy-Dashboard-Item-previewIconBg{filter:drop-shadow(rgba(0,0,0,.1) 0 1px 1px);height:100%;width:100%}.uppy-Dashboard-upload{height:50px;position:relative;width:50px}.uppy-size--md .uppy-Dashboard-upload{height:60px;width:60px}.uppy-Dashboard-upload .uppy-c-icon{position:relative;top:1px;width:50%}[dir=ltr] .uppy-Dashboard-uploadCount{right:-12px}[dir=rtl] .uppy-Dashboard-uploadCount{left:-12px}.uppy-Dashboard-uploadCount{background-color:#1bb240;border-radius:50%;color:#fff;font-size:8px;height:16px;line-height:16px;position:absolute;top:-12px;width:16px}.uppy-size--md .uppy-Dashboard-uploadCount{font-size:9px;height:18px;line-height:18px;width:18px}",""]);const s=o},6733:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(3645),o=r.n(i)()((function(e){return e[1]}));o.push([e.id,'.uppy-ImageCropper-range{-webkit-appearance:none;background:transparent;margin:9px 0;width:100%}.uppy-ImageCropper-range::-moz-focus-outer{border:0}.uppy-ImageCropper-range:focus{outline:0}.uppy-ImageCropper-range:focus::-webkit-slider-runnable-track{background:hsla(0,0%,100%,.2)}.uppy-ImageCropper-range:focus::-ms-fill-lower,.uppy-ImageCropper-range:focus::-ms-fill-upper{background:hsla(0,0%,100%,.2)}.uppy-ImageCropper-range::-webkit-slider-runnable-track{background:hsla(0,0%,100%,.2);border:0 solid transparent;border-radius:5px;box-shadow:0 0 0 transparent,0 0 0 hsla(0,0%,5%,0);cursor:default;height:4px;-webkit-transition:all .2s ease;transition:all .2s ease;width:100%}.uppy-ImageCropper-range::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;border:0 solid transparent;border-radius:9px;box-shadow:0 0 4px rgba(0,0,0,.2),0 0 0 hsla(0,0%,5%,.2);box-sizing:border-box;cursor:default;height:18px;margin-top:-7px;width:18px}.uppy-ImageCropper-range::-moz-range-track{background:hsla(0,0%,100%,.2);border:0 solid transparent;border-radius:5px;box-shadow:0 0 0 transparent,0 0 0 hsla(0,0%,5%,0);cursor:default;height:4px;-moz-transition:all .2s ease;transition:all .2s ease;width:100%}.uppy-ImageCropper-range::-moz-range-thumb{background:#fff;border:0 solid transparent;border-radius:9px;box-shadow:0 0 4px rgba(0,0,0,.2),0 0 0 hsla(0,0%,5%,.2);box-sizing:border-box;cursor:default;height:18px;width:18px}.uppy-ImageCropper-range::-ms-track{background:transparent;border-color:transparent;border-width:9px 0;color:transparent;cursor:default;height:4px;-ms-transition:all .2s ease;transition:all .2s ease;width:100%}.uppy-ImageCropper-range::-ms-fill-lower{background:hsla(0,0%,95%,.2)}.uppy-ImageCropper-range::-ms-fill-lower,.uppy-ImageCropper-range::-ms-fill-upper{border:0 solid transparent;border-radius:10px;box-shadow:0 0 0 transparent,0 0 0 hsla(0,0%,5%,0)}.uppy-ImageCropper-range::-ms-fill-upper{background:hsla(0,0%,100%,.2)}.uppy-ImageCropper-range::-ms-thumb{background:#fff;border:0 solid transparent;border-radius:9px;box-shadow:0 0 4px rgba(0,0,0,.2),0 0 0 hsla(0,0%,5%,.2);box-sizing:border-box;cursor:default;height:18px;margin-top:1px;width:18px}.uppy-ImageCropper-range:disabled::-moz-range-thumb,.uppy-ImageCropper-range:disabled::-ms-fill-lower,.uppy-ImageCropper-range:disabled::-ms-fill-upper,.uppy-ImageCropper-range:disabled::-ms-thumb,.uppy-ImageCropper-range:disabled::-webkit-slider-runnable-track,.uppy-ImageCropper-range:disabled::-webkit-slider-thumb{cursor:not-allowed}.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{image-orientation:0deg;display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:1}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.3333333333%;left:0;top:33.3333333333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.3333333333%;top:0;width:33.3333333333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;opacity:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}.uppy-ImageCropper{display:flex;flex-direction:column;height:100%;width:100%}.uppy-ImageCropper-container{flex-grow:1}.uppy-ImageCropper-image{display:block;max-height:400px}.uppy-ImageCropper-controls{align-items:center;background-color:rgba(0,0,0,.6);bottom:15px;color:#fff;display:flex;justify-content:center;left:50%;padding-top:38px;position:absolute;transform:translateX(-50%)}@media screen and (min-width:768px){.uppy-ImageCropper-controls{padding-top:0}}.uppy-ImageCropper-controls button{height:35px;width:35px}.uppy-ImageCropper-controls button svg{padding:3px}.uppy-size--md .uppy-ImageCropper-controls button{height:40px;width:40px}.uppy-size--md .uppy-ImageCropper-controls button svg{padding:1px}.uppy-ImageCropper-controls button:hover{background-color:rgba(34,117,215,.8)}.uppy-ImageCropper-controls button:focus{background-color:rgba(34,117,215,.8);outline:none}.uppy-ImageCropper-rangeWrapper{height:38px;left:10px;position:absolute!important;right:10px;top:0}@media screen and (min-width:768px){.uppy-ImageCropper-rangeWrapper{height:auto;position:static!important}.uppy-ImageCropper-range{margin-left:5px;margin-right:15px;width:180px}}.uppy-ImageCropper .cropper-point{height:8px;width:8px}.uppy-ImageCropper .cropper-view-box{outline:2px solid #39f}',""]);const s=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var s=0;s<this.length;s++){var n=this[s][0];null!=n&&(o[n]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},1227:(e,t,r)=>{var i=r(4155);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(o=i))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,r)=>{e.exports=function(e){function t(e){let r,o,s,n=null;function a(...e){if(!a.enabled)return;const i=a,o=Number(new Date),s=o-(r||o);i.diff=s,i.prev=r,i.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let n=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";n++;const s=t.formatters[o];if("function"==typeof s){const t=e[n];r=s.call(i,t),e.splice(n,1),n--}return r})),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{n=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,r){const i=t(this.namespace+(void 0===r?":":r)+e);return i.log=this.log,i}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),o=i.length;for(r=0;r<o;r++)i[r]&&("-"===(e=i[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,i;for(r=0,i=t.skips.length;r<i;r++)if(t.skips[r].test(e))return!1;for(r=0,i=t.names.length;r<i;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},7198:function(e,t,r){var i=r(4155),o=r(8764).Buffer;!function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});var r=["prototype","__proto__","caller","arguments","length","name"];Object.getOwnPropertyNames(t).forEach((function(i){-1===r.indexOf(i)&&e[i]!==t[i]&&(e[i]=t[i])})),t&&u(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,r){return(d=h()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&u(o,r.prototype),o}).apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return d(e,arguments,p(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u(i,e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function g(e){var t=h();return function(){var r,i=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return m(this,r)}}function y(e,t,r){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}var v=Object.values||function(e){var t=[];for(var r in e)t.push(e[r]);return t},b=Object.entries||function(e){var t=[];for(var r in e)t.push([r,e[r]]);return t},w=Object.assign||function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.forEach((function(t){for(var r in t)e[r]=t[r]})),e},x=Object.fromEntries||function(e){var t={};return k(e).forEach((function(e){var r=e[0],i=e[1];t[r]=i})),t},k=Array.from||function(e){if(e instanceof A){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t}return Array.prototype.slice.call(e)};function P(e){return-1!==this.indexOf(e)}Array.prototype.includes||(Array.prototype.includes=P),String.prototype.includes||(String.prototype.includes=P),String.prototype.startsWith||(String.prototype.startsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.substring(t,t+e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return this.substring(t-e.length,t)===e});var S="undefined"!=typeof self?self:r.g,C=S.fetch||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,i){var o=new XMLHttpRequest;if(o.open("get",e,!0),o.responseType="arraybuffer",o.onerror=i,t.headers)for(var s in t.headers)o.setRequestHeader(s,t.headers[s]);o.onload=function(){r({ok:o.status>=200&&o.status<300,status:o.status,arrayBuffer:function(){return Promise.resolve(o.response)}})},o.send(null)}))},_=function(e){var t=[];if(Object.defineProperties(t,{size:{get:function(){return this.length}},has:{value:function(e){return-1!==this.indexOf(e)}},add:{value:function(e){this.has(e)||this.push(e)}},delete:{value:function(e){if(this.has(e)){var t=this.indexOf(e);this.splice(t,1)}}}}),Array.isArray(e))for(var r=0;r<e.length;r++)t.add(e[r]);return t},D=function(e){return new A(e)},A=void 0!==S.Map&&void 0!==S.Map.prototype.keys?S.Map:function(){function e(r){if(t(this,e),this.clear(),r)for(var i=0;i<r.length;i++)this.set(r[i][0],r[i][1])}return n(e,[{key:"clear",value:function(){this._map={},this._keys=[]}},{key:"size",get:function(){return this._keys.length}},{key:"get",value:function(e){return this._map["map_"+e]}},{key:"set",value:function(e,t){return this._map["map_"+e]=t,this._keys.indexOf(e)<0&&this._keys.push(e),this}},{key:"has",value:function(e){return this._keys.indexOf(e)>=0}},{key:"delete",value:function(e){var t=this._keys.indexOf(e);return!(t<0||(delete this._map["map_"+e],this._keys.splice(t,1),0))}},{key:"keys",value:function(){return this._keys.slice(0)}},{key:"values",value:function(){var e=this;return this._keys.map((function(t){return e.get(t)}))}},{key:"entries",value:function(){var e=this;return this._keys.map((function(t){return[t,e.get(t)]}))}},{key:"forEach",value:function(e,t){for(var r=0;r<this._keys.length;r++)e.call(t,this._map["map_"+this._keys[r]],this._keys[r],this)}}]),e}(),F="undefined"!=typeof self?self:r.g,E="undefined"!=typeof navigator,B=E&&"undefined"==typeof HTMLImageElement,R=!(void 0===r.g||void 0===i||!i.versions||!i.versions.node),T=F.Buffer,I=!!T,O=function(e){return void 0!==e};function U(e){return void 0===e||(e instanceof A?0===e.size:0===v(e).filter(O).length)}function M(e){var t=new Error(e);throw delete t.stack,t}function z(e){var t=function(e){var t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var N=function(e){return String.fromCharCode.apply(null,e)},L="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;function j(e){return L?L.decode(e):I?o.from(e).toString("utf8"):decodeURIComponent(escape(N(e)))}var H=function(){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(t(this,e),"boolean"==typeof s&&(this.le=s),Array.isArray(r)&&(r=new Uint8Array(r)),0===r)this.byteOffset=0,this.byteLength=0;else if(r instanceof ArrayBuffer){void 0===o&&(o=r.byteLength-i);var n=new DataView(r,i,o);this._swapDataView(n)}else if(r instanceof Uint8Array||r instanceof DataView||r instanceof e){void 0===o&&(o=r.byteLength-i),(i+=r.byteOffset)+o>r.byteOffset+r.byteLength&&M("Creating view outside of available memory in ArrayBuffer");var a=new DataView(r.buffer,i,o);this._swapDataView(a)}else if("number"==typeof r){var l=new DataView(new ArrayBuffer(r));this._swapDataView(l)}else M("Invalid input argument for BufferView: "+r)}return n(e,[{key:"_swapArrayBuffer",value:function(e){this._swapDataView(new DataView(e))}},{key:"_swapBuffer",value:function(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}},{key:"_swapDataView",value:function(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}},{key:"_lengthToEnd",value:function(e){return this.byteLength-e}},{key:"set",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return t instanceof DataView||t instanceof e?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||M("BufferView.set(): Invalid data argument."),this.toUint8().set(t,r),new i(this,r,t.byteLength)}},{key:"subarray",value:function(t,r){return new e(this,t,r=r||this._lengthToEnd(t))}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}},{key:"getString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;return j(this.getUint8Array(e,t))}},{key:"getLatin1String",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,r=this.getUint8Array(e,t);return N(r)}},{key:"getUnicodeString",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,r=[],i=0;i<t&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return N(r)}},{key:"getInt8",value:function(e){return this.dataView.getInt8(e)}},{key:"getUint8",value:function(e){return this.dataView.getUint8(e)}},{key:"getInt16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt16(e,t)}},{key:"getInt32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt32(e,t)}},{key:"getUint16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint16(e,t)}},{key:"getUint32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint32(e,t)}},{key:"getFloat32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getFloat64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getDouble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getUintBytes",value:function(e,t,r){switch(t){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}},{key:"getUint",value:function(e,t,r){switch(t){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}},{key:"toString",value:function(e){return this.dataView.toString(e,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(t,r){return t instanceof this&&t.le===r?t:new e(t,void 0,void 0,r)}}]),e}();function $(e,t){M("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}var q=function(e){l(i,e);var r=g(i);function i(e){var o;return t(this,i),(o=r.call(this)).kind=e,o}return n(i,[{key:"get",value:function(e,t){return this.has(e)||$(this.kind,e),t&&(e in t||function(e,t){M("Unknown ".concat(e," '").concat(t,"'."))}(this.kind,e),t[e].enabled||$(this.kind,e)),y(p(i.prototype),"get",this).call(this,e)}},{key:"keyList",value:function(){return k(this.keys())}}]),i}(c(A)),V=new q("file parser"),W=new q("segment parser"),Y=new q("file reader");function X(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function G(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var K=X((function(e){return new Promise((function(t,r){var i=new FileReader;i.onloadend=function(){return t(i.result||new ArrayBuffer)},i.onerror=r,i.readAsArrayBuffer(e)}))})),Z=X((function(e){return C(e).then((function(e){return e.arrayBuffer()}))})),J=X((function(e,t){return G(t(e),(function(e){return new H(e)}))})),Q=X((function(e,t,r){var i=new(Y.get(r))(e,t);return G(i.read(),(function(){return i}))})),ee=X((function(e,t,r,i){return Y.has(r)?Q(e,t,r):i?J(e,i):(M("Parser ".concat(r," is not loaded")),G())})),te="Invalid input argument";function re(e,t){return(r=e).startsWith("data:")||r.length>1e4?Q(e,t,"base64"):E?ee(e,t,"url",Z):R?Q(e,t,"fs"):void M(te);var r}var ie=function(e){l(i,e);var r=g(i);function i(){return t(this,i),r.apply(this,arguments)}return n(i,[{key:"tagKeys",get:function(){return this.allKeys||(this.allKeys=k(this.keys())),this.allKeys}},{key:"tagValues",get:function(){return this.allValues||(this.allValues=k(this.values())),this.allValues}}]),i}(c(A));function oe(e,t,r){var i=new ie,o=r;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=k(o));for(var s=0;s<o.length;s++){var n=o[s],a=n[0],l=n[1];i.set(a,l)}if(Array.isArray(t)){var p=t;Array.isArray(p)||("function"==typeof p.entries&&(p=p.entries()),p=k(p));for(var u=0;u<p.length;u++){var h=p[u];e.set(h,i)}}else e.set(t,i);return i}function se(e,t,r){var i,o=e.get(t),s=r;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=k(s));for(var n=0;n<s.length;n++)i=s[n],o.set(i[0],i[1])}var ne=D(),ae=D(),le=D(),pe=37500,ue=37510,he=33723,de=34675,ce=34665,fe=34853,me=40965,ge=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ye=["jfif","xmp","icc","iptc","ihdr"],ve=["tiff"].concat(ye),be=["ifd0","ifd1","exif","gps","interop"],we=[].concat(ve,be),xe=["makerNote","userComment"],ke=["translateKeys","translateValues","reviveValues","multiSegment"],Pe=[].concat(ke,["sanitize","mergeOutput","silentErrors"]),Se=function(){function e(){t(this,e)}return n(e,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),e}(),Ce=function(e){l(i,e);var r=g(i);function i(e,o,s,n){var l;if(t(this,i),a(f(l=r.call(this)),"enabled",!1),a(f(l),"skip",_()),a(f(l),"pick",_()),a(f(l),"deps",_()),a(f(l),"translateKeys",!1),a(f(l),"translateValues",!1),a(f(l),"reviveValues",!1),l.key=e,l.enabled=o,l.parse=l.enabled,l.applyInheritables(n),l.canBeFiltered=be.includes(e),l.canBeFiltered&&(l.dict=ne.get(e)),void 0!==s)if(Array.isArray(s))l.parse=l.enabled=!0,l.canBeFiltered&&s.length>0&&l.translateTagSet(s,l.pick);else if("object"==typeof s){if(l.enabled=!0,l.parse=!1!==s.parse,l.canBeFiltered){var p=s.pick,u=s.skip;p&&p.length>0&&l.translateTagSet(p,l.pick),u&&u.length>0&&l.translateTagSet(u,l.skip)}l.applyInheritables(s)}else!0===s||!1===s?l.parse=l.enabled=s:M("Invalid options argument: ".concat(s));return l}return n(i,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(e){var t,r,i=ke;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=k(i));for(var o=0;o<i.length;o++)void 0!==(r=e[t=i[o]])&&(this[t]=r)}},{key:"translateTagSet",value:function(e,t){if(this.dict){var r,i,o=this.dict,s=o.tagKeys,n=o.tagValues,a=e;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=k(a));for(var l=0;l<a.length;l++)"string"==typeof(r=a[l])?(-1===(i=n.indexOf(r))&&(i=s.indexOf(Number(r))),-1!==i&&t.add(Number(s[i]))):t.add(r)}else{var p=e;Array.isArray(p)||("function"==typeof p.entries&&(p=p.entries()),p=k(p));for(var u=0;u<p.length;u++){var h=p[u];t.add(h)}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Be(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Be(this.pick,this.deps)}}]),i}(Se),_e={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},De=D(),Ae=function(e){l(i,e);var r=g(i);function i(e){var o;return t(this,i),o=r.call(this),!0===e?o.setupFromTrue():void 0===e?o.setupFromUndefined():Array.isArray(e)?o.setupFromArray(e):"object"==typeof e?o.setupFromObject(e):M("Invalid options argument ".concat(e)),void 0===o.firstChunkSize&&(o.firstChunkSize=E?o.firstChunkSizeBrowser:o.firstChunkSizeNode),o.mergeOutput&&(o.ifd1.enabled=!1),o.filterNestedSegmentTags(),o.traverseTiffDependencyTree(),o.checkLoadedPlugins(),o}return n(i,[{key:"setupFromUndefined",value:function(){var e,t=ge;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=k(t));for(var r=0;r<t.length;r++)this[e=t[r]]=_e[e];var i=Pe;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=k(i));for(var o=0;o<i.length;o++)this[e=i[o]]=_e[e];var s=xe;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=k(s));for(var n=0;n<s.length;n++)this[e=s[n]]=_e[e];var a=we;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=k(a));for(var l=0;l<a.length;l++)this[e=a[l]]=new Ce(e,_e[e],void 0,this)}},{key:"setupFromTrue",value:function(){var e,t=ge;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=k(t));for(var r=0;r<t.length;r++)this[e=t[r]]=_e[e];var i=Pe;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=k(i));for(var o=0;o<i.length;o++)this[e=i[o]]=_e[e];var s=xe;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=k(s));for(var n=0;n<s.length;n++)this[e=s[n]]=!0;var a=we;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=k(a));for(var l=0;l<a.length;l++)this[e=a[l]]=new Ce(e,!0,void 0,this)}},{key:"setupFromArray",value:function(e){var t,r=ge;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++)this[t=r[i]]=_e[t];var o=Pe;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=k(o));for(var s=0;s<o.length;s++)this[t=o[s]]=_e[t];var n=xe;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=k(n));for(var a=0;a<n.length;a++)this[t=n[a]]=_e[t];var l=we;Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=k(l));for(var p=0;p<l.length;p++)this[t=l[p]]=new Ce(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,be)}},{key:"setupFromObject",value:function(e){var t;be.ifd0=be.ifd0||be.image,be.ifd1=be.ifd1||be.thumbnail,w(this,e);var r=ge;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++)this[t=r[i]]=Ee(e[t],_e[t]);var o=Pe;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=k(o));for(var s=0;s<o.length;s++)this[t=o[s]]=Ee(e[t],_e[t]);var n=xe;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=k(n));for(var a=0;a<n.length;a++)this[t=n[a]]=Ee(e[t],_e[t]);var l=ve;Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=k(l));for(var p=0;p<l.length;p++)this[t=l[p]]=new Ce(t,_e[t],e[t],this);var u=be;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=k(u));for(var h=0;h<u.length;h++)this[t=u[h]]=new Ce(t,_e[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,be,we),!0===e.tiff?this.batchEnableWithBool(be,!0):!1===e.tiff?this.batchEnableWithUserValue(be,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,be):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,be)}},{key:"batchEnableWithBool",value:function(e,t){var r=e;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++)this[r[i]].enabled=t}},{key:"batchEnableWithUserValue",value:function(e,t){var r=e;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++){var o=r[i],s=t[o];this[o].enabled=!1!==s&&void 0!==s}}},{key:"setupGlobalFilters",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;if(e&&e.length){var o=i;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=k(o));for(var s=0;s<o.length;s++)this[o[s]].enabled=!1;var n=Fe(e,r);Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=k(n));for(var a=0;a<n.length;a++){var l=n[a],p=l[0],u=l[1];Be(this[p].pick,u),this[p].enabled=!0}}else if(t&&t.length){var h=Fe(t,r);Array.isArray(h)||("function"==typeof h.entries&&(h=h.entries()),h=k(h));for(var d=0;d<h.length;d++){var c=h[d],f=c[0],m=c[1];Be(this[f].skip,m)}}}},{key:"filterNestedSegmentTags",value:function(){var e=this.ifd0,t=this.exif,r=this.xmp,i=this.iptc,o=this.icc;this.makerNote?t.deps.add(pe):t.skip.add(pe),this.userComment?t.deps.add(ue):t.skip.add(ue),r.enabled||e.skip.add(700),i.enabled||e.skip.add(he),o.enabled||e.skip.add(de)}},{key:"traverseTiffDependencyTree",value:function(){var e=this,t=this.ifd0,r=this.exif,i=this.gps;this.interop.needed&&(r.deps.add(me),t.deps.add(me)),r.needed&&t.deps.add(ce),i.needed&&t.deps.add(fe),this.tiff.enabled=be.some((function(t){return!0===e[t].enabled}))||this.makerNote||this.userComment;var o=be;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=k(o));for(var s=0;s<o.length;s++)this[o[s]].finalizeFilters()}},{key:"onlyTiff",get:function(){var e=this;return!ye.map((function(t){return e[t].enabled})).some((function(e){return!0===e}))&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var e=ve;Array.isArray(e)||("function"==typeof e.entries&&(e=e.entries()),e=k(e));for(var t=0;t<e.length;t++){var r=e[t];this[r].enabled&&!W.has(r)&&$("segment parser",r)}}}],[{key:"useCached",value:function(e){var t=De.get(e);return void 0!==t||(t=new this(e),De.set(e,t)),t}}]),i}(Se);function Fe(e,t){var r,i,o,s=[],n=t;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=k(n));for(var a=0;a<n.length;a++){i=n[a],r=[];var l=ne.get(i);Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=k(l));for(var p=0;p<l.length;p++)o=l[p],(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0]);r.length&&s.push([i,r])}return s}function Ee(e,t){return void 0!==e?e:void 0!==t?t:void 0}function Be(e,t){var r=t;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++){var o=r[i];e.add(o)}}function Re(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Te(){}function Ie(e,t){if(!t)return e&&e.then?e.then(Te):Promise.resolve()}function Oe(e,t){var r=e();return r&&r.then?r.then(t):t(r)}a(Ae,"default",_e);var Ue,Me=function(){function e(r){t(this,e),a(this,"parsers",{}),this.options=Ae.useCached(r)}return n(e,[{key:"setup",value:function(){if(!this.fileParser){var e=this.file,t=e.getUint16(0),r=V;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++){var o=r[i],s=o[0],n=o[1];if(n.canHandle(e,t))return this.fileParser=new n(this.options,this.file,this.parsers),e[s]=!0}M("Unknown file format")}}},{key:"read",value:function(e){try{var t=this;return Re(function(e,t){return"string"==typeof e?re(e,t):E&&!B&&e instanceof HTMLImageElement?re(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new H(e):E&&e instanceof Blob?ee(e,t,"blob",K):void M(te)}(e,t.options),(function(e){t.file=e}))}catch(e){return Promise.reject(e)}}},{key:"parse",value:function(){try{var e=this;e.setup();var t={},r=[];return Oe((function(){return e.options.silentErrors?Re(e.doParse(t,r).catch((function(e){return r.push(e)})),(function(){r.push.apply(r,e.fileParser.errors)})):Ie(e.doParse(t,r))}),(function(){return e.file.close&&e.file.close(),e.options.silentErrors&&r.length>0&&(t.errors=r),U(i=t)?void 0:i;var i}))}catch(e){return Promise.reject(e)}}},{key:"doParse",value:function(e,t){try{var r=this;return Re(r.fileParser.parse(),(function(){var i,o=v(r.parsers).map((i=function(t){return Re(t.parse(),(function(r){t.assignToOutput(e,r)}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(i.apply(this,e))}catch(e){return Promise.reject(e)}}));if(r.options.silentErrors){var s=function(e){return t.push(e)};o=o.map((function(e){return e.catch(s)}))}return Ie(Promise.all(o))}))}catch(e){return Promise.reject(e)}}},{key:"extractThumbnail",value:function(){try{var e=this;e.setup();var t,r=e.options,i=e.file,o=W.get("tiff",r);return Oe((function(){if(!i.tiff)return function(e){var t=e();if(t&&t.then)return t.then(Te)}((function(){if(i.jpeg)return Re(e.fileParser.getOrFindSegment("tiff"),(function(e){t=e}))}));t={start:0,type:"tiff"}}),(function(){if(void 0!==t)return Re(e.fileParser.ensureSegmentChunk(t),(function(t){return Re((e.parsers.tiff=new o(t,r,i)).extractThumbnail(),(function(e){return i.close&&i.close(),e}))}))}))}catch(e){return Promise.reject(e)}}}]),e}(),ze=(Ue=function(e,t){var r,i,o,s=new Me(t);return r=s.read(e),i=function(){return s.parse()},o?i?i(r):r:(r&&r.then||(r=Promise.resolve(r)),i?r.then(i):r)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(Ue.apply(this,e))}catch(e){return Promise.reject(e)}}),Ne=Object.freeze({__proto__:null,parse:ze,Exifr:Me,fileParsers:V,segmentParsers:W,fileReaders:Y,tagKeys:ne,tagValues:ae,tagRevivers:le,createDictionary:oe,extendDictionary:se,fetchUrlAsArrayBuffer:Z,readBlobAsArrayBuffer:K,chunkedProps:ge,otherSegments:ye,segments:ve,tiffBlocks:be,segmentsAndBlocks:we,tiffExtractables:xe,inheritables:ke,allFormatters:Pe,Options:Ae});function Le(){}var je=function(){function e(r,i,o){var s=this;t(this,e),a(this,"errors",[]),a(this,"ensureSegmentChunk",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}((function(e){var t,r,i,o=e.start,n=e.size||65536;return t=function(){if(s.file.chunked)return function(e){var t=e();if(t&&t.then)return t.then(Le)}((function(){if(!s.file.available(o,n))return function(e){if(e&&e.then)return e.then(Le)}(function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return t=s.file.readChunk(o,n),r=function(t){e.chunk=t},i?r?r(t):t:(t&&t.then||(t=Promise.resolve(t)),r?t.then(r):t);var t,r,i}),(function(t){M("Couldn't read segment: ".concat(JSON.stringify(e),". ").concat(t.message))})));e.chunk=s.file.subarray(o,n)}));s.file.byteLength>o+n?e.chunk=s.file.subarray(o,n):void 0===e.size?e.chunk=s.file.subarray(o):M("Segment unreachable: "+JSON.stringify(e))},r=function(){return e.chunk},(i=t())&&i.then?i.then(r):r(i)}))),this.extendOptions&&this.extendOptions(r),this.options=r,this.file=i,this.parsers=o}return n(e,[{key:"injectSegment",value:function(e,t){this.options[e].enabled&&this.createParser(e,t)}},{key:"createParser",value:function(e,t){var r=new(W.get(e))(t,this.options,this.file);return this.parsers[e]=r}},{key:"createParsers",value:function(e){var t=e;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=k(t));for(var r=0;r<t.length;r++){var i=t[r],o=i.type,s=i.chunk,n=this.options[o];if(n&&n.enabled){var a=this.parsers[o];a&&a.append||a||this.createParser(o,s)}}}},{key:"readSegments",value:function(e){try{var t=e.map(this.ensureSegmentChunk);return function(e,t){return e&&e.then?e.then(Le):Promise.resolve()}(Promise.all(t))}catch(e){return Promise.reject(e)}}}]),e}(),He=function(){function e(r){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;t(this,e),a(this,"errors",[]),a(this,"raw",D()),a(this,"handleError",(function(e){if(!i.options.silentErrors)throw e;i.errors.push(e.message)})),this.chunk=this.normalizeInput(r),this.file=s,this.type=this.constructor.type,this.globalOptions=this.options=o,this.localOptions=o[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return n(e,[{key:"normalizeInput",value:function(e){return e instanceof H?e:new H(e)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?x(this.raw):void 0}},{key:"translateBlock",value:function(e,t){var r=le.get(t),i=ae.get(t),o=ne.get(t),s=this.options[t],n=s.reviveValues&&!!r,a=s.translateValues&&!!i,l=s.translateKeys&&!!o,p={},u=e;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=k(u));for(var h=0;h<u.length;h++){var d=u[h],c=d[0],f=d[1];n&&r.has(c)?f=r.get(c)(f):a&&i.has(c)&&(f=this.translateValue(f,i.get(c))),l&&o.has(c)&&(c=o.get(c)||c),p[c]=f}return p}},{key:"translateValue",value:function(e,t){return t[e]||t.DEFAULT||e}},{key:"assignToOutput",value:function(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}},{key:"assignObjectToOutput",value:function(e,t,r){if(this.globalOptions.mergeOutput)return w(e,r);e[t]?w(e[t],r):e[t]=r}}],[{key:"findPosition",value:function(e,t){var r=e.getUint16(t+2)+2,i="function"==typeof this.headerLength?this.headerLength(e,t,r):this.headerLength,o=t+i,s=r-i;return{offset:t,length:r,headerLength:i,start:o,size:s,end:o+s}}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(e,new Ae(a({},this.type,t))).parse()}}]),e}();function $e(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function qe(){}function Ve(e,t){if(!t)return e&&e.then?e.then(qe):Promise.resolve()}function We(e){var t=e();if(t&&t.then)return t.then(qe)}function Ye(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function Xe(e,t,r){if(!e.s){if(r instanceof Ge){if(!r.s)return void(r.o=Xe.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(Xe.bind(null,e,t),Xe.bind(null,e,2));e.s=t,e.v=r;var i=e.o;i&&i(e)}}a(He,"headerLength",4),a(He,"type",void 0),a(He,"multiSegment",!1),a(He,"canHandle",(function(){return!1}));var Ge=function(){function e(){}return e.prototype.then=function(t,r){var i=new e,o=this.s;if(o){var s=1&o?t:r;if(s){try{Xe(i,1,s(this.v))}catch(e){Xe(i,2,e)}return i}return this}return this.o=function(e){try{var o=e.v;1&e.s?Xe(i,1,t?t(o):o):r?Xe(i,1,r(o)):Xe(i,2,o)}catch(e){Xe(i,2,e)}},i},e}();function Ke(e){return e instanceof Ge&&1&e.s}function Ze(e,t,r){for(var i;;){var o=e();if(Ke(o)&&(o=o.v),!o)return s;if(o.then){i=0;break}var s=r();if(s&&s.then){if(!Ke(s)){i=1;break}s=s.s}if(t){var n=t();if(n&&n.then&&!Ke(n)){i=2;break}}}var a=new Ge,l=Xe.bind(null,a,2);return(0===i?o.then(u):1===i?s.then(p):n.then(h)).then(void 0,l),a;function p(i){s=i;do{if(t&&(n=t())&&n.then&&!Ke(n))return void n.then(h).then(void 0,l);if(!(o=e())||Ke(o)&&!o.v)return void Xe(a,1,s);if(o.then)return void o.then(u).then(void 0,l);Ke(s=r())&&(s=s.v)}while(!s||!s.then);s.then(p).then(void 0,l)}function u(e){e?(s=r())&&s.then?s.then(p).then(void 0,l):p(s):Xe(a,1,s)}function h(){(o=e())?o.then?o.then(u).then(void 0,l):u(o):Xe(a,1,s)}}function Je(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Qe(e){return e>=224&&e<=239}function et(e,t,r){var i=W;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=k(i));for(var o=0;o<i.length;o++){var s=i[o],n=s[0];if(s[1].canHandle(e,t,r))return n}}var tt=function(e){l(i,e);var r=g(i);function i(){var e;t(this,i);for(var o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return a(f(e=r.call.apply(r,[this].concat(s))),"appSegments",[]),a(f(e),"jpegSegments",[]),a(f(e),"unknownSegments",[]),e}return n(i,[{key:"parse",value:function(){try{var e=this;return $e(e.findAppSegments(),(function(){return $e(e.readSegments(e.appSegments),(function(){e.mergeMultiSegments(),e.createParsers(e.mergedAppSegments||e.appSegments)}))}))}catch(e){return Promise.reject(e)}}},{key:"setupSegmentFinderArgs",value:function(e){var t=this;!0===e?(this.findAll=!0,this.wanted=_(W.keyList())):(e=void 0===e?W.keyList().filter((function(e){return t.options[e].enabled})):e.filter((function(e){return t.options[e].enabled&&W.has(e)})),this.findAll=!1,this.remaining=_(e),this.wanted=_(e)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var r=this;r.setupSegmentFinderArgs(t);var i=r.file,o=r.findAll,s=r.wanted,n=r.remaining;return Ye((function(){if(!o&&r.file.chunked)return o=k(s).some((function(e){var t=W.get(e),i=r.options[e];return t.multiSegment&&i.multiSegment})),We((function(){if(o)return Ve(r.file.readWhole())}))}),(function(){var t=!1;if(e=r.findAppSegmentsInRange(e,i.byteLength),!r.options.onlyTiff)return function(){if(i.chunked){var o=!1;return Ze((function(){return!t&&n.size>0&&!o&&(!!i.canReadNextChunk||!!r.unfinishedMultiSegment)}),void 0,(function(){var s=i.nextChunkOffset,n=r.appSegments.some((function(e){return!r.file.available(e.offset||e.start,e.length||e.size)}));return Ye((function(){return $e(e>s&&!n?i.readNextChunk(e):i.readNextChunk(s),(function(e){o=!e}))}),(function(){void 0===(e=r.findAppSegmentsInRange(e,i.byteLength))&&(t=!0)}))}))}}()}))}catch(e){return Promise.reject(e)}}},{key:"findAppSegmentsInRange",value:function(e,t){t-=2;for(var r,i,o,s,n,a,l=this.file,p=this.findAll,u=this.wanted,h=this.remaining,d=this.options;e<t;e++)if(255===l.getUint8(e))if(Qe(r=l.getUint8(e+1))){if(i=l.getUint16(e+2),(o=et(l,e,i))&&u.has(o)&&(n=(s=W.get(o)).findPosition(l,e),a=d[o],n.type=o,this.appSegments.push(n),!p&&(s.multiSegment&&a.multiSegment?(this.unfinishedMultiSegment=n.chunkNumber<n.chunkCount,this.unfinishedMultiSegment||h.delete(o)):h.delete(o),0===h.size)))break;d.recordUnknownSegments&&((n=He.findPosition(l,e)).marker=r,this.unknownSegments.push(n)),e+=i+1}else if(Je(r)){if(i=l.getUint16(e+2),218===r&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}return e}},{key:"mergeMultiSegments",value:function(){var e=this;if(this.appSegments.some((function(e){return e.multiSegment}))){var t=function(e,t){for(var r,i,o,s=D(),n=0;n<e.length;n++)i=(r=e[n])[t],s.has(i)?o=s.get(i):s.set(i,o=[]),o.push(r);return k(s)}(this.appSegments,"type");this.mergedAppSegments=t.map((function(t){var r=t[0],i=t[1],o=W.get(r,e.options);return o.handleMultiSegments?{type:r,chunk:o.handleMultiSegments(i)}:i[0]}))}}},{key:"getSegment",value:function(e){return this.appSegments.find((function(t){return t.type===e}))}},{key:"getOrFindSegment",value:function(e){try{var t=this,r=t.getSegment(e);return Ye((function(){if(void 0===r)return $e(t.findAppSegments(0,[e]),(function(){r=t.getSegment(e)}))}),(function(){return r}))}catch(e){return Promise.reject(e)}}}],[{key:"canHandle",value:function(e,t){return 65496===t}}]),i}(je);function rt(){}function it(e,t){if(!t)return e&&e.then?e.then(rt):Promise.resolve()}function ot(e,t){var r=e();return r&&r.then?r.then(t):t(r)}a(tt,"type","jpeg"),V.set("jpeg",tt);var st=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],nt=function(e){l(i,e);var r=g(i);function i(){return t(this,i),r.apply(this,arguments)}return n(i,[{key:"parse",value:function(){try{var e=this;e.parseHeader();var t=e.options;return ot((function(){if(t.ifd0.enabled)return it(e.parseIfd0Block())}),(function(){return ot((function(){if(t.exif.enabled)return it(e.safeParse("parseExifBlock"))}),(function(){return ot((function(){if(t.gps.enabled)return it(e.safeParse("parseGpsBlock"))}),(function(){return ot((function(){if(t.interop.enabled)return it(e.safeParse("parseInteropBlock"))}),(function(){return ot((function(){if(t.ifd1.enabled)return it(e.safeParse("parseThumbnailBlock"))}),(function(){return e.createOutput()}))}))}))}))}))}catch(e){return Promise.reject(e)}}},{key:"safeParse",value:function(e){var t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}},{key:"findIfd0Offset",value:function(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(void 0===this.ifd1Offset){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}},{key:"parseBlock",value:function(e,t){var r=D();return this[t]=r,this.parseTags(e,t,r),r}},{key:"parseIfd0Block",value:function(){try{var e=this;if(e.ifd0)return;var t=e.file;return e.findIfd0Offset(),e.ifd0Offset<8&&M("Malformed EXIF data"),!t.chunked&&e.ifd0Offset>t.byteLength&&M("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(e.ifd0Offset,", file.byteLength: ").concat(t.byteLength)),ot((function(){if(t.tiff)return it(t.ensureChunk(e.ifd0Offset,z(e.options)))}),(function(){var t=e.parseBlock(e.ifd0Offset,"ifd0");if(0!==t.size)return e.exifOffset=t.get(ce),e.interopOffset=t.get(me),e.gpsOffset=t.get(fe),e.xmp=t.get(700),e.iptc=t.get(he),e.icc=t.get(de),e.options.sanitize&&(t.delete(ce),t.delete(me),t.delete(fe),t.delete(700),t.delete(he),t.delete(de)),t}))}catch(e){return Promise.reject(e)}}},{key:"parseExifBlock",value:function(){try{var e=this;if(e.exif)return;return ot((function(){if(!e.ifd0)return it(e.parseIfd0Block())}),(function(){if(void 0!==e.exifOffset)return ot((function(){if(e.file.tiff)return it(e.file.ensureChunk(e.exifOffset,z(e.options)))}),(function(){var t=e.parseBlock(e.exifOffset,"exif");return e.interopOffset||(e.interopOffset=t.get(me)),e.makerNote=t.get(pe),e.userComment=t.get(ue),e.options.sanitize&&(t.delete(me),t.delete(pe),t.delete(ue)),e.unpack(t,41728),e.unpack(t,41729),t}))}))}catch(e){return Promise.reject(e)}}},{key:"unpack",value:function(e,t){var r=e.get(t);r&&1===r.length&&e.set(t,r[0])}},{key:"parseGpsBlock",value:function(){try{var e=this;if(e.gps)return;return ot((function(){if(!e.ifd0)return it(e.parseIfd0Block())}),(function(){if(void 0!==e.gpsOffset){var t=e.parseBlock(e.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",at.apply(void 0,t.get(2).concat([t.get(1)]))),t.set("longitude",at.apply(void 0,t.get(4).concat([t.get(3)])))),t}}))}catch(e){return Promise.reject(e)}}},{key:"parseInteropBlock",value:function(){try{var e=this;if(e.interop)return;return ot((function(){if(!e.ifd0)return it(e.parseIfd0Block())}),(function(){return ot((function(){if(void 0===e.interopOffset&&!e.exif)return it(e.parseExifBlock())}),(function(){if(void 0!==e.interopOffset)return e.parseBlock(e.interopOffset,"interop")}))}))}catch(e){return Promise.reject(e)}}},{key:"parseThumbnailBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t=this;if(t.ifd1||t.ifd1Parsed)return;if(t.options.mergeOutput&&!e)return;return t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,"ifd1"),t.ifd1Parsed=!0),t.ifd1}catch(e){return Promise.reject(e)}}},{key:"extractThumbnail",value:function(){try{var e=this;return e.headerParsed||e.parseHeader(),ot((function(){if(!e.ifd1Parsed)return it(e.parseThumbnailBlock(!0))}),(function(){if(void 0!==e.ifd1){var t=e.ifd1.get(513),r=e.ifd1.get(514);return e.chunk.getUint8Array(t,r)}}))}catch(e){return Promise.reject(e)}}},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var e,t,r,i={},o=be;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=k(o));for(var s=0;s<o.length;s++)if(!U(e=this[t=o[s]]))if(r=this.canTranslate?this.translateBlock(e,t):x(e),this.options.mergeOutput){if("ifd1"===t)continue;w(i,r)}else i[t]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}},{key:"assignToOutput",value:function(e,t){if(this.globalOptions.mergeOutput)w(e,t);else{var r=b(t);Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++){var o=r[i],s=o[0],n=o[1];this.assignObjectToOutput(e,s,n)}}}}],[{key:"canHandle",value:function(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}}]),i}(function(e){l(i,e);var r=g(i);function i(){return t(this,i),r.apply(this,arguments)}return n(i,[{key:"parseHeader",value:function(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D(),i=this.options[t],o=i.pick,s=i.skip,n=(o=_(o)).size>0,a=0===s.size,l=this.chunk.getUint16(e);e+=2;for(var p=0;p<l;p++){var u=this.chunk.getUint16(e);if(n){if(o.has(u)&&(r.set(u,this.parseTag(e,u,t)),o.delete(u),0===o.size))break}else!a&&s.has(u)||r.set(u,this.parseTag(e,u,t));e+=12}return r}},{key:"parseTag",value:function(e,t,r){var i,o=this.chunk,s=o.getUint16(e+2),n=o.getUint32(e+4),a=st[s];if(a*n<=4?e+=8:e=o.getUint32(e+8),(s<1||s>13)&&M("Invalid TIFF value type. block: ".concat(r.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(s,", offset ").concat(e)),e>o.byteLength&&M("Invalid TIFF value offset. block: ".concat(r.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(s,", offset ").concat(e," is outside of chunk size ").concat(o.byteLength)),1===s)return o.getUint8Array(e,n);if(2===s)return""===(i=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(i=o.getString(e,n)).trim())?void 0:i;if(7===s)return o.getUint8Array(e,n);if(1===n)return this.parseTagValue(s,e);for(var l=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(s))(n),p=a,u=0;u<n;u++)l[u]=this.parseTagValue(s,e),e+=p;return l}},{key:"parseTagValue",value:function(e,t){var r=this.chunk;switch(e){case 1:return r.getUint8(t);case 3:return r.getUint16(t);case 4:case 13:return r.getUint32(t);case 5:return r.getUint32(t)/r.getUint32(t+4);case 6:return r.getInt8(t);case 8:return r.getInt16(t);case 9:return r.getInt32(t);case 10:return r.getInt32(t)/r.getInt32(t+4);case 11:return r.getFloat(t);case 12:return r.getDouble(t);default:M("Invalid tiff type ".concat(e))}}}]),i}(He));function at(e,t,r,i){var o=e+t/60+r/3600;return"S"!==i&&"W"!==i||(o*=-1),o}a(nt,"type","tiff"),a(nt,"headerLength",10),W.set("tiff",nt);var lt=Object.freeze({__proto__:null,default:Ne,Exifr:Me,fileParsers:V,segmentParsers:W,fileReaders:Y,tagKeys:ne,tagValues:ae,tagRevivers:le,createDictionary:oe,extendDictionary:se,fetchUrlAsArrayBuffer:Z,readBlobAsArrayBuffer:K,chunkedProps:ge,otherSegments:ye,segments:ve,tiffBlocks:be,segmentsAndBlocks:we,tiffExtractables:xe,inheritables:ke,allFormatters:Pe,Options:Ae,parse:ze});function pt(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function ut(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}var ht=ut((function(e){var t=new Me(yt);return pt(t.read(e),(function(){return pt(t.parse(),(function(e){if(e&&e.ifd0)return e.ifd0[274]}))}))})),dt=ut((function(e){var t=new Me(gt);return pt(t.read(e),(function(){return pt(t.parse(),(function(e){if(e&&e.gps){var t=e.gps;return{latitude:t.latitude,longitude:t.longitude}}}))}))})),ct=ut((function(e){return pt(this.thumbnail(e),(function(e){if(void 0!==e){var t=new Blob([e]);return URL.createObjectURL(t)}}))})),ft=ut((function(e){var t=new Me(vt);return pt(t.read(e),(function(){return pt(t.extractThumbnail(),(function(e){return e&&I?T.from(e):e}))}))})),mt={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},gt=w({},mt,{firstChunkSize:4e4,gps:[1,2,3,4]}),yt=w({},mt,{firstChunkSize:4e4,ifd0:[274]}),vt=w({},mt,{tiff:!1,ifd1:!0,mergeOutput:!1}),bt=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});if(e.rotateCanvas=!0,e.rotateCss=!0,"object"==typeof navigator){var wt=navigator.userAgent;if(wt.includes("iPad")||wt.includes("iPhone")){var xt=wt.match(/OS (\d+)_(\d+)/);if(xt){var kt=xt[1],Pt=xt[2],St=Number(kt)+.1*Number(Pt);e.rotateCanvas=St<13.4,e.rotateCss=!1}}else if(wt.includes("OS X 10")){var Ct=wt.match(/OS X 10[_.](\d+)/)[1];e.rotateCanvas=e.rotateCss=Number(Ct)<15}if(wt.includes("Chrome/")){var _t=wt.match(/Chrome\/(\d+)/)[1];e.rotateCanvas=e.rotateCss=Number(_t)<81}else if(wt.includes("Firefox/")){var Dt=wt.match(/Firefox\/(\d+)/)[1];e.rotateCanvas=e.rotateCss=Number(Dt)<77}}function At(){}var Ft=function(e){l(i,e);var r=g(i);function i(){var e;t(this,i);for(var o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return a(f(e=r.call.apply(r,[this].concat(s))),"ranges",new Et),0!==e.byteLength&&e.ranges.add(0,e.byteLength),e}return n(i,[{key:"_tryExtend",value:function(e,t,r){if(0===e&&0===this.byteLength&&r){var i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{var o=e+t;if(o>this.byteLength){var s=this._extend(o).dataView;this._swapDataView(s)}}}},{key:"_extend",value:function(e){var t;t=I?T.allocUnsafe(e):new Uint8Array(e);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:r}}},{key:"subarray",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=t||this._lengthToEnd(e),r&&this._tryExtend(e,t),this.ranges.add(e,t),y(p(i.prototype),"subarray",this).call(this,e,t)}},{key:"set",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this._tryExtend(t,e.byteLength,e);var r=y(p(i.prototype),"set",this).call(this,e,t);return this.ranges.add(t,r.byteLength),r}},{key:"ensureChunk",value:function(e,t){try{var r=this;if(!r.chunked)return;if(r.ranges.available(e,t))return;return function(e,t){return e&&e.then?e.then(At):Promise.resolve()}(r.readChunk(e,t))}catch(e){return Promise.reject(e)}}},{key:"available",value:function(e,t){return this.ranges.available(e,t)}}]),i}(H),Et=function(){function e(){t(this,e),a(this,"list",[])}return n(e,[{key:"length",get:function(){return this.list.length}},{key:"add",value:function(e,t){var r=e+t,i=this.list.filter((function(t){return Bt(e,t.offset,r)||Bt(e,t.end,r)}));if(i.length>0){e=Math.min.apply(Math,[e].concat(i.map((function(e){return e.offset})))),t=(r=Math.max.apply(Math,[r].concat(i.map((function(e){return e.end})))))-e;var o=i.shift();o.offset=e,o.length=t,o.end=r,this.list=this.list.filter((function(e){return!i.includes(e)}))}else this.list.push({offset:e,length:t,end:r})}},{key:"available",value:function(e,t){var r=e+t;return this.list.some((function(t){return t.offset<=e&&r<=t.end}))}}]),e}();function Bt(e,t,r){return e<=t&&t<=r}function Rt(){}function Tt(e,t){if(!t)return e&&e.then?e.then(Rt):Promise.resolve()}function It(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var Ot=function(e){l(i,e);var r=g(i);function i(){return t(this,i),r.apply(this,arguments)}return n(i,[{key:"readWhole",value:function(){try{var e=this;return e.chunked=!1,It(K(e.input),(function(t){e._swapArrayBuffer(t)}))}catch(e){return Promise.reject(e)}}},{key:"readChunked",value:function(){return this.chunked=!0,this.size=this.input.size,y(p(i.prototype),"readChunked",this).call(this)}},{key:"_readChunk",value:function(e,t){try{var r=this,i=t?e+t:void 0,o=r.input.slice(e,i);return It(K(o),(function(t){return r.set(t,e,!0)}))}catch(e){return Promise.reject(e)}}}]),i}(function(e){l(i,e);var r=g(i);function i(e,o){var s;return t(this,i),a(f(s=r.call(this,0)),"chunksRead",0),s.input=e,s.options=o,s}return n(i,[{key:"readWhole",value:function(){try{var e=this;return e.chunked=!1,Tt(e.readChunk(e.nextChunkOffset))}catch(e){return Promise.reject(e)}}},{key:"readChunked",value:function(){try{var e=this;return e.chunked=!0,Tt(e.readChunk(0,e.options.firstChunkSize))}catch(e){return Promise.reject(e)}}},{key:"readNextChunk",value:function(e){try{var t=this;if(void 0===e&&(e=t.nextChunkOffset),t.fullyRead)return t.chunksRead++,!1;var r=t.options.chunkSize;return i=t.readChunk(e,r),o=function(e){return!!e&&e.byteLength===r},s?o?o(i):i:(i&&i.then||(i=Promise.resolve(i)),o?i.then(o):i)}catch(e){return Promise.reject(e)}var i,o,s}},{key:"readChunk",value:function(e,t){try{var r=this;if(r.chunksRead++,0===(t=r.safeWrapAddress(e,t)))return;return r._readChunk(e,t)}catch(e){return Promise.reject(e)}}},{key:"safeWrapAddress",value:function(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}},{key:"nextChunkOffset",get:function(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}},{key:"canReadNextChunk",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:"fullyRead",get:function(){return void 0!==this.size&&this.nextChunkOffset===this.size}},{key:"read",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:"close",value:function(){}}]),i}(Ft));Y.set("blob",Ot),e.Exifr=Me,e.Options=Ae,e.allFormatters=Pe,e.chunkedProps=ge,e.createDictionary=oe,e.default=lt,e.disableAllOptions=mt,e.extendDictionary=se,e.fetchUrlAsArrayBuffer=Z,e.fileParsers=V,e.fileReaders=Y,e.gps=dt,e.gpsOnlyOptions=gt,e.inheritables=ke,e.orientation=ht,e.orientationOnlyOptions=yt,e.otherSegments=ye,e.parse=ze,e.readBlobAsArrayBuffer=K,e.rotation=function(t){return pt(ht(t),(function(t){return w({canvas:e.rotateCanvas,css:e.rotateCss},bt[t])}))},e.rotations=bt,e.segmentParsers=W,e.segments=ve,e.segmentsAndBlocks=we,e.tagKeys=ne,e.tagRevivers=le,e.tagValues=ae,e.thumbnail=ft,e.thumbnailOnlyOptions=vt,e.thumbnailUrl=ct,e.tiffBlocks=be,e.tiffExtractables=xe,Object.defineProperty(e,"__esModule",{value:!0})}(t)},8864:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,getFieldData:()=>u});var i={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},o={button:!0,fieldset:!0,reset:!0,submit:!0},s={checkbox:!0,radio:!0},n=/^\s+|\s+$/g,a=Array.prototype.slice,l=Object.prototype.toString;function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trim:!1};if(!e)throw new Error("A form is required by getFormData, was given form="+e);for(var r={},i=void 0,s=[],n={},a=0,l=e.elements.length;a<l;a++){var p=e.elements[a];o[p.type]||p.disabled||(i=p.name||p.id)&&!n[i]&&(s.push(i),n[i]=!0)}for(var h=0,d=s.length;h<d;h++){var c=u(e,i=s[h],t);null!=c&&(r[i]=c)}return r}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{trim:!1};if(!e)throw new Error("A form is required by getFieldData, was given form="+e);if(!t&&"[object String]"!==l.call(t))throw new Error("A field name is required by getFieldData, was given fieldName="+t);var o=e.elements[t];if(!o||o.disabled)return null;if(!i[l.call(o)])return h(o,r.trim);for(var s=[],n=!0,a=0,p=o.length;a<p;a++)if(!o[a].disabled){n&&"radio"!==o[a].type&&(n=!1);var u=h(o[a],r.trim);null!=u&&(s=s.concat(u))}return n&&1===s.length?s[0]:s.length>0?s:null}function h(e,t){var r=null,i=e.type;if("select-one"===i)return e.options.length&&(r=e.options[e.selectedIndex].value),r;if("select-multiple"===i){r=[];for(var o=0,l=e.options.length;o<l;o++)e.options[o].selected&&r.push(e.options[o].value);return 0===r.length&&(r=null),r}return"file"===i&&"files"in e?(e.multiple?0===(r=a.call(e.files)).length&&(r=null):r=e.files[0],r):(s[i]?e.checked&&(r=e.value):r=t?e.value.replace(n,""):e.value,r)}p.getFieldData=u},8058:e=>{try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},645:(e,t)=>{t.read=function(e,t,r,i,o){var s,n,a=8*o-i-1,l=(1<<a)-1,p=l>>1,u=-7,h=r?o-1:0,d=r?-1:1,c=e[t+h];for(h+=d,s=c&(1<<-u)-1,c>>=-u,u+=a;u>0;s=256*s+e[t+h],h+=d,u-=8);for(n=s&(1<<-u)-1,s>>=-u,u+=i;u>0;n=256*n+e[t+h],h+=d,u-=8);if(0===s)s=1-p;else{if(s===l)return n?NaN:1/0*(c?-1:1);n+=Math.pow(2,i),s-=p}return(c?-1:1)*n*Math.pow(2,s-i)},t.write=function(e,t,r,i,o,s){var n,a,l,p=8*s-o-1,u=(1<<p)-1,h=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,c=i?0:s-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,n=u):(n=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-n))<1&&(n--,l*=2),(t+=n+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(n++,l/=2),n+h>=u?(a=0,n=u):n+h>=1?(a=(t*l-1)*Math.pow(2,o),n+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),n=0));o>=8;e[r+c]=255&a,c+=f,a/=256,o-=8);for(n=n<<o|a,p+=o;p>0;e[r+c]=255&n,c+=f,n/=256,p-=8);e[r+c-f]|=128*m}},81:e=>{e.exports=function(e,t){if(e===t)return!0;for(var r in e)if(!(r in t))return!1;for(var r in t)if(e[r]!==t[r])return!1;return!0}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},9575:function(e,t,r){var i,o;o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:this,e.exports=function(r){"use strict";var o,s=(r=r||{}).Base64,n="2.6.4",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=function(e){for(var t={},r=0,i=e.length;r<i;r++)t[e.charAt(r)]=r;return t}(a),p=String.fromCharCode,u=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?p(192|t>>>6)+p(128|63&t):p(224|t>>>12&15)+p(128|t>>>6&63)+p(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return p(240|t>>>18&7)+p(128|t>>>12&63)+p(128|t>>>6&63)+p(128|63&t)},h=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(h,u)},c=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[a.charAt(r>>>18),a.charAt(r>>>12&63),t>=2?"=":a.charAt(r>>>6&63),t>=1?"=":a.charAt(63&r)].join("")},f=r.btoa&&"function"==typeof r.btoa?function(e){return r.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,c)},m=function(e){return f(d(String(e)))},g=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},y=function(e,t){return t?g(m(e)):m(e)},v=function(e){return y(e,!0)};r.Uint8Array&&(o=function(e,t){for(var r="",i=0,o=e.length;i<o;i+=3){var s=e[i],n=e[i+1],l=e[i+2],p=s<<16|n<<8|l;r+=a.charAt(p>>>18)+a.charAt(p>>>12&63)+(void 0!==n?a.charAt(p>>>6&63):"=")+(void 0!==l?a.charAt(63&p):"=")}return t?g(r):r});var b,w=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,x=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return p(55296+(t>>>10))+p(56320+(1023&t));case 3:return p((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return p((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},k=function(e){return e.replace(w,x)},P=function(e){var t=e.length,r=t%4,i=(t>0?l[e.charAt(0)]<<18:0)|(t>1?l[e.charAt(1)]<<12:0)|(t>2?l[e.charAt(2)]<<6:0)|(t>3?l[e.charAt(3)]:0),o=[p(i>>>16),p(i>>>8&255),p(255&i)];return o.length-=[0,0,2,1][r],o.join("")},S=r.atob&&"function"==typeof r.atob?function(e){return r.atob(e)}:function(e){return e.replace(/\S{1,4}/g,P)},C=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_=function(e){return k(S(e))},D=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},A=function(e){return _(D(e))};r.Uint8Array&&(b=function(e){return Uint8Array.from(C(D(e)),(function(e){return e.charCodeAt(0)}))});var F=function(){var e=r.Base64;return r.Base64=s,e};if(r.Base64={VERSION:n,atob:C,btoa:f,fromBase64:A,toBase64:y,utob:d,encode:y,encodeURI:v,btou:k,decode:A,noConflict:F,fromUint8Array:o,toUint8Array:b},"function"==typeof Object.defineProperty){var E=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",E((function(){return A(this)}))),Object.defineProperty(String.prototype,"toBase64",E((function(e){return y(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",E((function(){return y(this,!0)})))}}return r.Meteor&&(Base64=r.Base64),e.exports?e.exports.Base64=r.Base64:void 0===(i=function(){return r.Base64}.apply(t,[]))||(e.exports=i),{Base64:r.Base64}}(o)},1296:(e,t,r)=>{var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,n=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,p="object"==typeof self&&self&&self.Object===Object&&self,u=l||p||Function("return this")(),h=Object.prototype.toString,d=Math.max,c=Math.min,f=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||n.test(e)?a(e.slice(2),r?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,r){var i,o,s,n,a,l,p=0,u=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=i,s=o;return i=o=void 0,p=t,n=e.apply(s,r)}function b(e){return p=e,a=setTimeout(x,t),u?v(e):n}function w(e){var r=e-l;return void 0===l||r>=t||r<0||h&&e-p>=s}function x(){var e=f();if(w(e))return k(e);a=setTimeout(x,function(e){var r=t-(e-l);return h?c(r,s-(e-p)):r}(e))}function k(e){return a=void 0,y&&i?v(e):(i=o=void 0,n)}function P(){var e=f(),r=w(e);if(i=arguments,o=this,l=e,r){if(void 0===a)return b(l);if(h)return a=setTimeout(x,t),v(l)}return void 0===a&&(a=setTimeout(x,t)),n}return t=g(t)||0,m(r)&&(u=!!r.leading,s=(h="maxWait"in r)?d(g(r.maxWait)||0,t):s,y="trailing"in r?!!r.trailing:y),P.cancel=function(){void 0!==a&&clearTimeout(a),p=0,i=l=o=a=void 0},P.flush=function(){return void 0===a?n:k(f())},P}},3096:(e,t,r)=>{var i="Expected a function",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,p="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,h=p||u||Function("return this")(),d=Object.prototype.toString,c=Math.max,f=Math.min,m=function(){return h.Date.now()};function g(e,t,r){var o,s,n,a,l,p,u=0,h=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var r=o,i=s;return o=s=void 0,u=t,a=e.apply(i,r)}function w(e){return u=e,l=setTimeout(k,t),h?b(e):a}function x(e){var r=e-p;return void 0===p||r>=t||r<0||d&&e-u>=n}function k(){var e=m();if(x(e))return P(e);l=setTimeout(k,function(e){var r=t-(e-p);return d?f(r,n-(e-u)):r}(e))}function P(e){return l=void 0,g&&o?b(e):(o=s=void 0,a)}function S(){var e=m(),r=x(e);if(o=arguments,s=this,p=e,r){if(void 0===l)return w(p);if(d)return l=setTimeout(k,t),b(p)}return void 0===l&&(l=setTimeout(k,t)),a}return t=v(t)||0,y(r)&&(h=!!r.leading,n=(d="maxWait"in r)?c(v(r.maxWait)||0,t):n,g="trailing"in r?!!r.trailing:g),S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,o=p=s=l=void 0},S.flush=function(){return void 0===l?a:P(m())},S}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=n.test(e);return r||a.test(e)?l(e.slice(2),r?2:8):s.test(e)?NaN:+e}e.exports=function(e,t,r){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return y(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),g(e,t,{leading:o,maxWait:t,trailing:s})}},845:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(o=e[r],s=t[r],!(o===s||i(o)&&i(s)))return!1;var o,s;return!0}const s=function(e,t){var r;void 0===t&&(t=o);var i,s=[],n=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n&&r===this&&t(o,s)||(i=e.apply(this,o),n=!0,r=this,s=o),i}}},4193:(e,t,r)=>{var i=r(1196),o=/[\/\+\.]/;e.exports=function(e,t){function r(t){var r=i(t,e,o);return r&&r.length>=2}return t?r(t.split(";")[0]):r}},7824:e=>{var t=1e3,r=60*t,i=60*r,o=24*i,s=7*o,n=365.25*o;function a(e,t,r,i){var o=t>=1.5*r;return Math.round(e/r)+" "+i+(o?"s":"")}e.exports=function(e,l){l=l||{};var p=typeof e;if("string"===p&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*n;case"weeks":case"week":case"w":return l*s;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*i;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===p&&isFinite(e))return l.long?function(e){var s=Math.abs(e);if(s>=o)return a(e,s,o,"day");if(s>=i)return a(e,s,i,"hour");if(s>=r)return a(e,s,r,"minute");if(s>=t)return a(e,s,t,"second");return e+" ms"}(e):function(e){var s=Math.abs(e);if(s>=o)return Math.round(e/o)+"d";if(s>=i)return Math.round(e/i)+"h";if(s>=r)return Math.round(e/r)+"m";if(s>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},4800:e=>{e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,r,i,o,s,n,a){var l=function(e){var r=t[e]?t[e]:[],i=e.indexOf(":"),o=-1===i?[e]:[e.substring(0,i),e.substring(i+1)],s=Object.keys(t),n=0,a=s.length;for(;n<a;n++){var l=s[n];if("*"===l&&(r=r.concat(t[l])),2===o.length&&o[0]===l){r=r.concat(t[l]);break}}return r}(e);l.length&&function(e,t,r){var i=0,o=t.length;for(;i<o&&t[i];i++)t[i].event=e,t[i].apply(t[i],r)}(e,l,[r,i,o,s,n,a])},e.on=function(e,r){t[e]||(t[e]=[]),t[e].push(r)},e.once=function(t,r){this.on(t,(function i(){r.apply(this,arguments),e.off(t,i)}))},e.off=function(e,t){var r=[];if(e&&t)for(var i=this._fns[e],o=0,s=i?i.length:0;o<s;o++)i[o]!==t&&r.push(i[o]);r.length?this._fns[e]=r:delete this._fns[e]},e}},1830:(e,t)=>{t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),i=0,o=r.length;i<o;i++){var s=r[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},4187:e=>{var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var i=e,o=e.indexOf("["),s=e.indexOf("]");-1!=o&&-1!=s&&(e=e.substring(0,o)+e.substring(o,s).replace(/:/g,";")+e.substring(s,e.length));for(var n,a,l=t.exec(e||""),p={},u=14;u--;)p[r[u]]=l[u]||"";return-1!=o&&-1!=s&&(p.source=i,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=function(e,t){var r=/\/{2,9}/g,i=t.replace(r,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||i.splice(0,1);"/"==t.substr(t.length-1,1)&&i.splice(i.length-1,1);return i}(0,p.path),p.queryKey=(n=p.query,a={},n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(a[t]=r)})),a),p}},6400:(e,t,r)=>{"use strict";r.r(t),r.d(t,{render:()=>N,hydrate:()=>L,createElement:()=>g,h:()=>g,Fragment:()=>b,createRef:()=>v,isValidElement:()=>n,Component:()=>w,cloneElement:()=>j,createContext:()=>H,toChildArray:()=>D,options:()=>o});var i,o,s,n,a,l,p,u,h={},d=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var r in t)e[r]=t[r];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,r){var o,s,n,a={};for(n in t)"key"==n?o=t[n]:"ref"==n?s=t[n]:a[n]=t[n];if(arguments.length>2&&(a.children=arguments.length>3?i.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===a[n]&&(a[n]=e.defaultProps[n]);return y(e,a,o,s,null)}function y(e,t,r,i,n){var a={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==n?++s:n};return null==n&&null!=o.vnode&&o.vnode(a),a}function v(){return{current:null}}function b(e){return e.children}function w(e,t){this.props=e,this.context=t}function x(e,t){if(null==t)return e.__?x(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?x(e):null}function k(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return k(e)}}function P(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!S.__r++||p!==o.debounceRendering)&&((p=o.debounceRendering)||l)(S)}function S(){for(var e;S.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,r,i,o,s,n;e.__d&&(s=(o=(t=e).__v).__e,(n=t.__P)&&(r=[],(i=f({},o)).__v=o.__v+1,T(n,o,i,t.__n,void 0!==n.ownerSVGElement,null!=o.__h?[s]:null,r,null==s?x(o):s,o.__h),I(r,o),o.__e!=s&&k(o)))}))}function C(e,t,r,i,o,s,n,a,l,p){var u,c,f,m,g,v,w,k=i&&i.__k||d,P=k.length;for(r.__k=[],u=0;u<t.length;u++)if(null!=(m=r.__k[u]=null==(m=t[u])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?y(null,m,null,null,m):Array.isArray(m)?y(b,{children:m},null,null,null):m.__b>0?y(m.type,m.props,m.key,null,m.__v):m)){if(m.__=r,m.__b=r.__b+1,null===(f=k[u])||f&&m.key==f.key&&m.type===f.type)k[u]=void 0;else for(c=0;c<P;c++){if((f=k[c])&&m.key==f.key&&m.type===f.type){k[c]=void 0;break}f=null}T(e,m,f=f||h,o,s,n,a,l,p),g=m.__e,(c=m.ref)&&f.ref!=c&&(w||(w=[]),f.ref&&w.push(f.ref,null,m),w.push(c,m.__c||g,m)),null!=g?(null==v&&(v=g),"function"==typeof m.type&&m.__k===f.__k?m.__d=l=_(m,l,e):l=A(e,m,f,k,g,l),"function"==typeof r.type&&(r.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=x(f))}for(r.__e=v,u=P;u--;)null!=k[u]&&("function"==typeof r.type&&null!=k[u].__e&&k[u].__e==r.__d&&(r.__d=x(i,u+1)),M(k[u],k[u]));if(w)for(u=0;u<w.length;u++)U(w[u],w[++u],w[++u])}function _(e,t,r){for(var i,o=e.__k,s=0;o&&s<o.length;s++)(i=o[s])&&(i.__=e,t="function"==typeof i.type?_(i,t,r):A(r,i,i,o,i.__e,t));return t}function D(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){D(e,t)})):t.push(e)),t}function A(e,t,r,i,o,s){var n,a,l;if(void 0!==t.__d)n=t.__d,t.__d=void 0;else if(null==r||o!=s||null==o.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(o),n=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<i.length;l+=2)if(a==o)break e;e.insertBefore(o,s),n=s}return void 0!==n?n:o.nextSibling}function F(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||c.test(t)?r:r+"px"}function E(e,t,r,i,o){var s;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)r&&t in r||F(e.style,t,"");if(r)for(t in r)i&&r[t]===i[t]||F(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?i||e.addEventListener(t,s?R:B,s):e.removeEventListener(t,s?R:B,s);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function B(e){this.l[e.type+!1](o.event?o.event(e):e)}function R(e){this.l[e.type+!0](o.event?o.event(e):e)}function T(e,t,r,i,s,n,a,l,p){var u,h,d,c,m,g,y,v,x,k,P,S=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(p=r.__h,l=t.__e=r.__e,t.__h=null,n=[l]),(u=o.__b)&&u(t);try{e:if("function"==typeof S){if(v=t.props,x=(u=S.contextType)&&i[u.__c],k=u?x?x.props.value:u.__:i,r.__c?y=(h=t.__c=r.__c).__=h.__E:("prototype"in S&&S.prototype.render?t.__c=h=new S(v,k):(t.__c=h=new w(v,k),h.constructor=S,h.render=z),x&&x.sub(h),h.props=v,h.state||(h.state={}),h.context=k,h.__n=i,d=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=S.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=f({},h.__s)),f(h.__s,S.getDerivedStateFromProps(v,h.__s))),c=h.props,m=h.state,d)null==S.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==S.getDerivedStateFromProps&&v!==c&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(v,k),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(v,h.__s,k)||t.__v===r.__v){h.props=v,h.state=h.__s,t.__v!==r.__v&&(h.__d=!1),h.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),h.__h.length&&a.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(v,h.__s,k),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(c,m,g)}))}h.context=k,h.props=v,h.state=h.__s,(u=o.__r)&&u(t),h.__d=!1,h.__v=t,h.__P=e,u=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(i=f(f({},i),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(g=h.getSnapshotBeforeUpdate(c,m)),P=null!=u&&u.type===b&&null==u.key?u.props.children:u,C(e,Array.isArray(P)?P:[P],t,r,i,s,n,a,l,p),h.base=t.__e,t.__h=null,h.__h.length&&a.push(h),y&&(h.__E=h.__=null),h.__e=!1}else null==n&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=O(r.__e,t,r,i,s,n,a,p);(u=o.diffed)&&u(t)}catch(e){t.__v=null,(p||null!=n)&&(t.__e=l,t.__h=!!p,n[n.indexOf(l)]=null),o.__e(e,t,r)}}function I(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function O(e,t,r,o,s,n,a,l){var p,u,d,c=r.props,f=t.props,g=t.type,y=0;if("svg"===g&&(s=!0),null!=n)for(;y<n.length;y++)if((p=n[y])&&"setAttribute"in p==!!g&&(g?p.localName===g:3===p.nodeType)){e=p,n[y]=null;break}if(null==e){if(null===g)return document.createTextNode(f);e=s?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,f.is&&f),n=null,l=!1}if(null===g)c===f||l&&e.data===f||(e.data=f);else{if(n=n&&i.call(e.childNodes),u=(c=r.props||h).dangerouslySetInnerHTML,d=f.dangerouslySetInnerHTML,!l){if(null!=n)for(c={},y=0;y<e.attributes.length;y++)c[e.attributes[y].name]=e.attributes[y].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,r,i,o){var s;for(s in r)"children"===s||"key"===s||s in t||E(e,s,null,r[s],i);for(s in t)o&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||r[s]===t[s]||E(e,s,t[s],r[s],i)}(e,f,c,s,l),d)t.__k=[];else if(y=t.props.children,C(e,Array.isArray(y)?y:[y],t,r,o,s&&"foreignObject"!==g,n,a,n?n[0]:r.__k&&x(r,0),l),null!=n)for(y=n.length;y--;)null!=n[y]&&m(n[y]);l||("value"in f&&void 0!==(y=f.value)&&(y!==c.value||y!==e.value||"progress"===g&&!y)&&E(e,"value",y,c.value,!1),"checked"in f&&void 0!==(y=f.checked)&&y!==e.checked&&E(e,"checked",y,c.checked,!1))}return e}function U(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,r)}}function M(e,t,r){var i,s;if(o.unmount&&o.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||U(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){o.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&M(i[s],t,"function"!=typeof e.type);r||null==e.__e||m(e.__e),e.__e=e.__d=void 0}function z(e,t,r){return this.constructor(e,r)}function N(e,t,r){var s,n,a;o.__&&o.__(e,t),n=(s="function"==typeof r)?null:r&&r.__k||t.__k,a=[],T(t,e=(!s&&r||t).__k=g(b,null,[e]),n||h,h,void 0!==t.ownerSVGElement,!s&&r?[r]:n?null:t.firstChild?i.call(t.childNodes):null,a,!s&&r?r:n?n.__e:t.firstChild,s),I(a,e)}function L(e,t){N(e,t,L)}function j(e,t,r){var o,s,n,a=f({},e.props);for(n in t)"key"==n?o=t[n]:"ref"==n?s=t[n]:a[n]=t[n];return arguments.length>2&&(a.children=arguments.length>3?i.call(arguments,2):r),y(e.type,a,o||e.key,s||e.ref,null)}function H(e,t){var r={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,i;return this.getChildContext||(r=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some(P)},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r}i=d.slice,o={__e:function(e,t){for(var r,i,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},s=0,n=function(e){return null!=e&&void 0===e.constructor},w.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},r),this.props)),e&&f(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),P(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),P(this))},w.prototype.render=b,a=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,S.__r=0,u=0},396:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useState:()=>m,useReducer:()=>g,useEffect:()=>y,useLayoutEffect:()=>v,useRef:()=>b,useImperativeHandle:()=>w,useMemo:()=>x,useCallback:()=>k,useContext:()=>P,useDebugValue:()=>S,useErrorBoundary:()=>C});var i,o,s,n=r(6400),a=0,l=[],p=n.options.__b,u=n.options.__r,h=n.options.diffed,d=n.options.__c,c=n.options.unmount;function f(e,t){n.options.__h&&n.options.__h(o,e,a||t),a=0;var r=o.__H||(o.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function m(e){return a=1,g(B,e)}function g(e,t,r){var s=f(i++,2);return s.t=e,s.__c||(s.__=[r?r(t):B(void 0,t),function(e){var t=s.t(s.__[0],e);s.__[0]!==t&&(s.__=[t,s.__[1]],s.__c.setState({}))}],s.__c=o),s.__}function y(e,t){var r=f(i++,3);!n.options.__s&&E(r.__H,t)&&(r.__=e,r.__H=t,o.__H.__h.push(r))}function v(e,t){var r=f(i++,4);!n.options.__s&&E(r.__H,t)&&(r.__=e,r.__H=t,o.__h.push(r))}function b(e){return a=5,x((function(){return{current:e}}),[])}function w(e,t,r){a=6,v((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))}function x(e,t){var r=f(i++,7);return E(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function k(e,t){return a=8,x((function(){return e}),t)}function P(e){var t=o.context[e.__c],r=f(i++,9);return r.c=e,t?(null==r.__&&(r.__=!0,t.sub(o)),t.props.value):e.__}function S(e,t){n.options.useDebugValue&&n.options.useDebugValue(t?t(e):e)}function C(e){var t=f(i++,10),r=m();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}function _(){var e;for(l.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=l.pop();)if(e.__P)try{e.__H.__h.forEach(A),e.__H.__h.forEach(F),e.__H.__h=[]}catch(t){e.__H.__h=[],n.options.__e(t,e.__v)}}n.options.__b=function(e){o=null,p&&p(e)},n.options.__r=function(e){u&&u(e),i=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(A),t.__h.forEach(F),t.__h=[])},n.options.diffed=function(e){h&&h(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==l.push(t)&&s===n.options.requestAnimationFrame||((s=n.options.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(i),D&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(r,100);D&&(t=requestAnimationFrame(r))})(_)),o=null},n.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(A),e.__h=e.__h.filter((function(e){return!e.__||F(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],n.options.__e(r,e.__v)}})),d&&d(e,t)},n.options.unmount=function(e){c&&c(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{A(e)}catch(e){t=e}})),t&&n.options.__e(t,r.__v))};var D="function"==typeof requestAnimationFrame;function A(e){var t=o,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),o=t}function F(e){var t=o;e.__c=e.__(),o=t}function E(e,t){return!e||e.length!==t.length||t.some((function(t,r){return t!==e[r]}))}function B(e,t){return"function"==typeof t?t(e):t}},4155:e=>{var t,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function n(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,l=[],p=!1,u=-1;function h(){p&&a&&(p=!1,a.length?l=a.concat(l):u=-1,l.length&&d())}function d(){if(!p){var e=n(h);p=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,p=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new c(e,t)),1!==l.length||p||n(d)},c.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},7129:(e,t)=>{"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var i,s,n=[];for(s in"string"!=typeof t&&(t="?"),e)if(r.call(e,s)){if((i=e[s])||null!=i&&!isNaN(i)||(i=""),s=o(s),i=o(i),null===s||null===i)continue;n.push(s+"="+i)}return n.length?t+n.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,o={};t=r.exec(e);){var s=i(t[1]),n=i(t[2]);null===s||null===n||s in o||(o[s]=n)}return o}},7418:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},3379:(e,t,r)=>{"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),n=[];function a(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},i=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],p=r[l]||0,u="".concat(l," ").concat(p);r[l]=p+1;var h=a(u),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(n[h].references++,n[h].updater(d)):n.push({identifier:u,updater:g(d,t),references:1}),i.push(u)}return i}function p(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=r.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var n=s(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,r,i){var o=r?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=h(t,o);else{var s=document.createTextNode(o),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(s,n[t]):e.appendChild(s)}}function c(e,t,r){var i=r.css,o=r.media,s=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,m=0;function g(e,t){var r,i,o;if(t.singleton){var s=m++;r=f||(f=p(t)),i=d.bind(null,r,s,!1),o=d.bind(null,r,s,!0)}else r=p(t),i=c.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<r.length;i++){var o=a(r[i]);n[o].references--}for(var s=l(e,t),p=0;p<r.length;p++){var u=a(r[p]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}r=s}}}},6641:(e,t,r)=>{"use strict";r.r(t),r.d(t,{HttpStack:()=>j,Upload:()=>ue,canStoreURLs:()=>U,defaultOptions:()=>pe,enableDebugLog:()=>g,isSupported:()=>fe});var i=r(9575),o=r(4564),s=r.n(o);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return u(e,arguments,c(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d(i,e)},p(e)}function u(e,t,r){return u=h()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&d(o,r.prototype),o},u.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,r=(t=i,function(){var e,r=c(t);if(h()){var i=c(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return l(this,e)});function i(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a(this,i),(t=r.call(this,e)).originalRequest=s,t.originalResponse=n,t.causingError=o,null!=o&&(e+=", caused by ".concat(o.toString())),null!=s){var l=s.getHeader("X-Request-ID")||"n/a",p=s.getMethod(),u=s.getURL(),h=n?n.getStatus():"n/a",d=n?n.getBody()||"":"n/a";e+=", originated from request (method: ".concat(p,", url: ").concat(u,", response code: ").concat(h,", response text: ").concat(d,", request id: ").concat(l,")")}return t.message=e,t}return i}(p(Error));var m=!1;function g(){m=!0}function y(e){m&&console.log(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var k={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},P=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}var t,r,i;return t=e,r=[{key:"findPreviousUploads",value:function(){var e=this;return this.options.fingerprint(this.file,this.options).then((function(t){return e._urlStorage.findUploadsByFingerprint(t)}))}},{key:"resumeFromPreviousUpload",value:function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}},{key:"start",value:function(){var e=this,t=this.file;if(t)if(this.options.endpoint||this.options.uploadUrl){var r=this.options.retryDelays;null==r||"[object Array]"===Object.prototype.toString.call(r)?(this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach((function(t){e.options[t]&&e._emitError(new Error("tus: cannot use the ".concat(t," option when parallelUploads is enabled")))})),this.options.fingerprint(t,this.options).then((function(r){return y(null==r?"No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.":"Calculated fingerprint: ".concat(r)),e._fingerprint=r,e._source?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)})).then((function(t){e._source=t,e.options.parallelUploads>1||null!=e._parallelUploadUrls?e._startParallelUpload():e._startSingleUpload()})).catch((function(t){e._emitError(t)}))):this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var t=this,r=this._size=this._source.size,i=0;this._parallelUploads=[];var o=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,s=function(e,t,r){for(var i=Math.floor(e/t),o=[],s=0;s<t;s++)o.push({start:i*s,end:i*(s+1)});return o[t-1].end=e,r&&o.forEach((function(e,t){e.uploadUrl=r[t]||null})),o}(this._source.size,o,this._parallelUploadUrls);this._parallelUploadUrls=new Array(s.length);var n,a=s.map((function(o,n){var a=0;return t._source.slice(o.start,o.end).then((function(l){var p=l.value;return new Promise((function(l,u){var h=b({},t.options,{uploadUrl:o.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:b({},t.options.headers,{"Upload-Concat":"partial"}),onSuccess:l,onError:u,onProgress:function(e){i=i-a+e,a=e,t._emitProgress(i,r)},_onUploadUrlAvailable:function(){t._parallelUploadUrls[n]=d.url,t._parallelUploadUrls.filter((function(e){return!!e})).length===s.length&&t._saveUploadInUrlStorage()}}),d=new e(p,h);d.start(),t._parallelUploads.push(d)}))}))}));Promise.all(a).then((function(){(n=t._openRequest("POST",t.options.endpoint)).setHeader("Upload-Concat","final;".concat(t._parallelUploadUrls.join(" ")));var e=S(t.options.metadata);return""!==e&&n.setHeader("Upload-Metadata",e),t._sendRequest(n,null)})).then((function(e){if(C(e.getStatus(),200)){var r=e.getHeader("Location");null!=r?(t.url=F(t.options.endpoint,r),y("Created upload at ".concat(t.url)),t._emitSuccess()):t._emitHttpError(n,e,"tus: invalid or missing Location header")}else t._emitHttpError(n,e,"tus: unexpected response while creating upload")})).catch((function(e){t._emitError(e)}))}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=this._source.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return this._aborted=!1,null!=this.url?(y("Resuming upload from previous URL: ".concat(this.url)),void this._resumeUpload()):null!=this.options.uploadUrl?(y("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,void this._resumeUpload()):(y("Creating a new upload"),void this._createUpload())}},{key:"abort",value:function(t){var r=this;if(arguments.length>1&&"function"==typeof arguments[1])throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return null!=this._parallelUploads&&this._parallelUploads.forEach((function(e){e.abort(t)})),null!==this._req&&(this._req.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),t&&null!=this.url?e.terminate(this.url,this.options).then((function(){return r._removeFromUrlStorage()})):Promise.resolve()}},{key:"_emitHttpError",value:function(e,t,r,i){this._emitError(new f(r,i,e,t))}},{key:"_emitError",value:function(e){var t=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),A(e,this._retryAttempt,this.options))){var r=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout((function(){t.start()}),r))}if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,r){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,r)}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?t.setHeader("Upload-Defer-Length",1):t.setHeader("Upload-Length",this._size);var r,i=S(this.options.metadata);""!==i&&t.setHeader("Upload-Metadata",i),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,r=this._addChunkToRequest(t)):r=this._sendRequest(t,null),r.then((function(r){if(C(r.getStatus(),200)){var i=r.getHeader("Location");if(null!=i){if(e.url=F(e.options.endpoint,i),y("Created upload at ".concat(e.url)),"function"==typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),0===e._size)return e._emitSuccess(),void e._source.close();e._saveUploadInUrlStorage(),e.options.uploadDataDuringCreation?e._handleUploadResponse(t,r):(e._offset=0,e._performUpload())}else e._emitHttpError(t,r,"tus: invalid or missing Location header")}else e._emitHttpError(t,r,"tus: unexpected response while creating upload")})).catch((function(r){e._emitHttpError(t,null,"tus: failed to create upload",r)}))}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var e=this,t=this._openRequest("HEAD",this.url);this._sendRequest(t,null).then((function(r){var i=r.getStatus();if(!C(i,200))return C(i,400)&&e._removeFromUrlStorage(),423===i?void e._emitHttpError(t,r,"tus: upload is currently locked; retry later"):e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitHttpError(t,r,"tus: unable to resume upload (new upload cannot be created without an endpoint)");var o=parseInt(r.getHeader("Upload-Offset"),10);if(isNaN(o))e._emitHttpError(t,r,"tus: invalid or missing offset value");else{var s=parseInt(r.getHeader("Upload-Length"),10);if(!isNaN(s)||e.options.uploadLengthDeferred){if("function"==typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),o===s)return e._emitProgress(s,s),void e._emitSuccess();e._offset=o,e._performUpload()}else e._emitHttpError(t,r,"tus: invalid or missing length value")}})).catch((function(r){e._emitHttpError(t,null,"tus: failed to resume upload",r)}))}},{key:"_performUpload",value:function(){var e,t=this;this._aborted||(this.options.overridePatchMethod?(e=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then((function(r){C(r.getStatus(),200)?t._handleUploadResponse(e,r):t._emitHttpError(e,r,"tus: unexpected response while uploading chunk")})).catch((function(r){t._aborted||t._emitHttpError(e,null,"tus: failed to upload chunk at offset ".concat(t._offset),r)})))}},{key:"_addChunkToRequest",value:function(e){var t=this,r=this._offset,i=this._offset+this.options.chunkSize;return e.setProgressHandler((function(e){t._emitProgress(r+e,t._size)})),e.setHeader("Content-Type","application/offset+octet-stream"),(i===1/0||i>this._size)&&!this.options.uploadLengthDeferred&&(i=this._size),this._source.slice(r,i).then((function(r){var i=r.value,o=r.done;return t.options.uploadLengthDeferred&&o&&(t._size=t._offset+(i&&i.size?i.size:0),e.setHeader("Upload-Length",t._size)),null===i?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,i))}))}},{key:"_handleUploadResponse",value:function(e,t){var r=parseInt(t.getHeader("Upload-Offset"),10);if(isNaN(r))this._emitHttpError(e,t,"tus: invalid or missing offset value");else{if(this._emitProgress(r,this._size),this._emitChunkComplete(r-this._offset,r,this._size),this._offset=r,r==this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function(e,t){var r=_(e,t,this.options);return this._req=r,r}},{key:"_removeFromUrlStorage",value:function(){var e=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch((function(t){e._emitError(t)})),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var e=this;if(this.options.storeFingerprintForResuming&&this._fingerprint){var t={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then((function(t){return e._urlStorageKey=t})).catch((function(t){e._emitError(t)}))}}},{key:"_sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return D(e,t,this.options)}}],i=[{key:"terminate",value:function(t,r){if(arguments.length>1&&"function"==typeof arguments[arguments.length-1])throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");void 0===r&&(r={});var i=_("DELETE",t,r);return D(i,null,r).then((function(e){if(204!==e.getStatus())throw new f("tus: unexpected response while terminating upload",null,i,e)})).catch((function(o){if(o instanceof f||(o=new f("tus: failed to terminate upload",o,i,null)),!A(o,0,r))throw o;var s=r.retryDelays[0],n=r.retryDelays.slice(1),a=b({},r,{retryDelays:n});return new Promise((function(e){return setTimeout(e,s)})).then((function(){return e.terminate(t,a)}))}))}}],r&&x(t.prototype,r),i&&x(t,i),e}();function S(e){var t=[];for(var r in e)t.push("".concat(r," ").concat(i.Base64.encode(e[r])));return t.join(",")}function C(e,t){return e>=t&&e<t+100}function _(e,t,r){var i=r.httpStack.createRequest(e,t);i.setHeader("Tus-Resumable","1.0.0");var o=r.headers||{};for(var s in o)i.setHeader(s,o[s]);if(r.addRequestId){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));i.setHeader("X-Request-ID",n)}return i}function D(e,t,r){return("function"==typeof r.onBeforeRequest?Promise.resolve(r.onBeforeRequest(e)):Promise.resolve()).then((function(){return e.send(t).then((function(t){return("function"==typeof r.onAfterResponse?Promise.resolve(r.onAfterResponse(e,t)):Promise.resolve()).then((function(){return t}))}))}))}function A(e,t,r){if(null==r.retryDelays||t>=r.retryDelays.length||null==e.originalRequest)return!1;if(r&&"function"==typeof r.onShouldRetry)return r.onShouldRetry(e,t,r);var i,o=e.originalResponse?e.originalResponse.getStatus():0;return(!C(o,400)||409===o||423===o)&&(i=!0,"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(i=!1),i)}function F(e,t){return new(s())(t,e).toString()}P.defaultOptions=k;const E=P;function B(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve([])}},{key:"removeUpload",value:function(e){return Promise.resolve()}},{key:"addUpload",value:function(e,t){return Promise.resolve(null)}}])&&B(t.prototype,r),i&&B(t,i),e}();function T(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=!1;try{I="localStorage"in window;var O="tusSupport";localStorage.setItem(O,localStorage.getItem(O))}catch(e){if(e.code!==e.SECURITY_ERR&&e.code!==e.QUOTA_EXCEEDED_ERR)throw e;I=!1}var U=I,M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,r=[{key:"findAllUploads",value:function(){var e=this._findEntries("tus::");return Promise.resolve(e)}},{key:"findUploadsByFingerprint",value:function(e){var t=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(t)}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,t){var r=Math.round(1e12*Math.random()),i="tus::".concat(e,"::").concat(r);return localStorage.setItem(i,JSON.stringify(t)),Promise.resolve(i)}},{key:"_findEntries",value:function(e){for(var t=[],r=0;r<localStorage.length;r++){var i=localStorage.key(r);if(0===i.indexOf(e))try{var o=JSON.parse(localStorage.getItem(i));o.urlStorageKey=i,t.push(o)}catch(e){}}return t}}],r&&T(t.prototype,r),i&&T(t,i),e}();function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function L(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),e}var j=function(){function e(){z(this,e)}return L(e,[{key:"createRequest",value:function(e,t){return new H(e,t)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),H=function(){function e(t,r){z(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,r,!0),this._method=t,this._url=r,this._headers={}}return L(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}},{key:"getHeader",value:function(e){return this._headers[e]}},{key:"setProgressHandler",value:function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded)})}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(r,i){e._xhr.onload=function(){r(new $(e._xhr))},e._xhr.onerror=function(e){i(e)},e._xhr.send(t)}))}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),$=function(){function e(t){z(this,e),this._xhr=t}return L(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(e){return this._xhr.getResponseHeader(e)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}();const q=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};const V=function(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)};function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,t,r){return t&&Y(e.prototype,t),r&&Y(e,r),e}var G=function(){function e(t){W(this,e),this._file=t,this.size=t.size}return X(e,[{key:"slice",value:function(e,t){if(V())return r=this._file.slice(e,t),new Promise((function(e,t){var i=new FileReader;i.onload=function(){var t=new Uint8Array(i.result);e({value:t})},i.onerror=function(e){t(e)},i.readAsArrayBuffer(r)}));var r,i=this._file.slice(e,t);return Promise.resolve({value:i})}},{key:"close",value:function(){}}]),e}(),K=function(){function e(t,r){W(this,e),this._chunkSize=r,this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return X(e,[{key:"slice",value:function(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}},{key:"_readUntilEnoughDataOrDone",value:function(e,t){var r=this,i=t<=this._bufferOffset+Z(this._buffer);if(this._done||i){var o=this._getDataFromBuffer(e,t),s=null==o&&this._done;return Promise.resolve({value:o,done:s})}return this._reader.read().then((function(i){var o=i.value;return i.done?r._done=!0:void 0===r._buffer?r._buffer=o:r._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}(r._buffer,o),r._readUntilEnoughDataOrDone(e,t)}))}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var r=0===Z(this._buffer);return this._done&&r?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),e}();function Z(e){return void 0===e?0:void 0!==e.size?e.size:e.length}var J=function(){function e(){W(this,e)}return X(e,[{key:"openFile",value:function(e,t){return q()&&e&&void 0!==e.uri?(r=e.uri,new Promise((function(e,t){var i=new XMLHttpRequest;i.responseType="blob",i.onload=function(){var t=i.response;e(t)},i.onerror=function(e){t(e)},i.open("GET",r),i.send()}))).then((function(e){return new G(e)})).catch((function(e){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(e))})):"function"==typeof e.slice&&void 0!==e.size?Promise.resolve(new G(e)):"function"==typeof e.read?(t=+t,isFinite(t)?Promise.resolve(new K(e,t)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"));var r}}]),e}();function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function re(e,t){return re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},re(e,t)}function ie(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=ae({},E.defaultOptions,{httpStack:new j,fileReader:new J,urlStorage:U?new M:new R,fingerprint:function(e,t){return q()?Promise.resolve(function(e,t){var r=e.exif?function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t}(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/")}(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}}),ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(n,e);var t,r,i,o,s=(t=n,function(){var e,r=se(t);if(oe()){var i=se(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ie(this,e)});function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ee(this,n),t=ae({},pe,{},t),s.call(this,e,t)}return r=n,o=[{key:"terminate",value:function(e,t,r){return t=ae({},pe,{},t),E.terminate(e,t,r)}}],(i=null)&&te(r.prototype,i),o&&te(r,o),n}(E),he=window,de=he.XMLHttpRequest,ce=he.Blob,fe=de&&ce&&"function"==typeof ce.prototype.slice},4564:(e,t,r)=>{"use strict";var i=r(7418),o=r(7129),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,n=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/,l=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function p(e){return(e||"").toString().replace(l,"")}var u=[["#","hash"],["?","query"],function(e,t){return c(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function d(e){var t,i=("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{}).location||{},o={},n=typeof(e=e||i);if("blob:"===e.protocol)o=new m(unescape(e.pathname),{});else if("string"===n)for(t in o=new m(e,{}),h)delete o[t];else if("object"===n){for(t in e)t in h||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function c(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function f(e,t){e=p(e),t=t||{};var r,i=n.exec(e),o=i[1]?i[1].toLowerCase():"",s=!!i[2],a=!!i[3],l=0;return s?a?(r=i[2]+i[3]+i[4],l=i[2].length+i[3].length):(r=i[2]+i[4],l=i[2].length):a?(r=i[3]+i[4],l=i[3].length):r=i[4],"file:"===o?l>=2&&(r=r.slice(2)):c(o)?r=i[4]:o?s&&(r=r.slice(2)):l>=2&&c(t.protocol)&&(r=i[4]),{protocol:o,slashes:s||c(o),slashesCount:l,rest:r}}function m(e,t,r){if(e=p(e),!(this instanceof m))return new m(e,t,r);var s,n,l,h,g,y,v=u.slice(),b=typeof t,w=this,x=0;for("object"!==b&&"string"!==b&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),s=!(n=f(e||"",t=d(t))).protocol&&!n.slashes,w.slashes=n.slashes||s&&t.slashes,w.protocol=n.protocol||t.protocol||"",e=n.rest,("file:"===n.protocol&&(2!==n.slashesCount||a.test(e))||!n.slashes&&(n.protocol||n.slashesCount<2||!c(w.protocol)))&&(v[3]=[/(.*)/,"pathname"]);x<v.length;x++)"function"!=typeof(h=v[x])?(l=h[0],y=h[1],l!=l?w[y]=e:"string"==typeof l?~(g=e.indexOf(l))&&("number"==typeof h[2]?(w[y]=e.slice(0,g),e=e.slice(g+h[2])):(w[y]=e.slice(g),e=e.slice(0,g))):(g=l.exec(e))&&(w[y]=g[1],e=e.slice(0,g.index)),w[y]=w[y]||s&&h[3]&&t[y]||"",h[4]&&(w[y]=w[y].toLowerCase())):e=h(e,w);r&&(w.query=r(w.query)),s&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=r.length,o=r[i-1],s=!1,n=0;i--;)"."===r[i]?r.splice(i,1):".."===r[i]?(r.splice(i,1),n++):n&&(0===i&&(s=!0),r.splice(i,1),n--);return s&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&c(w.protocol)&&(w.pathname="/"+w.pathname),i(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(h=w.auth.split(":"),w.username=h[0],w.password=h[1]||""),w.origin="file:"!==w.protocol&&c(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}m.prototype={set:function(e,t,r){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),s[e]=t;break;case"port":s[e]=t,i(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!r;break;case"pathname":case"hash":if(t){var n="pathname"===e?"/":"#";s[e]=t.charAt(0)!==n?n+t:t}else s[e]=t;break;case"username":case"password":s[e]=encodeURIComponent(t);break;case"auth":var a=t.split(":");s.username=a[0],s.password=2===a.length?a[1]:""}for(var l=0;l<u.length;l++){var p=u[l];p[4]&&(s[p[1]]=s[p[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin="file:"!==s.protocol&&c(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,i=r.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(r.protocol&&r.slashes||c(r.protocol)?"//":"");return r.username?(s+=r.username,r.password&&(s+=":"+r.password),s+="@"):r.password&&(s+=":"+r.password,s+="@"),s+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(s+=r.hash),s}},m.extractProtocol=f,m.location=d,m.trimLeft=p,m.qs=o,e.exports=m},9167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var i=r(9429),o=(r(6385),r(7792),r(6273),r(5062),r(3121)),s=(r(6129),r(1298),r(6262),r(873),r(4749),r(3215),r(8919)),n=r.n(s),a=(r(8602),r(9270),r(3885),r(6178),r(3291),r(6669),r(5810),r(9905),r(9189),r(9904),r(1947),r(4105),r(7949),r(3189),r(5753)),l=(r(6116),r(8682),r(1419),r(851),r(7753),r(3379)),p=r.n(l),u=r(1570),h={insert:"head",singleton:!1};p()(u.Z,h);u.Z.locals;var d=r(594),c={insert:"head",singleton:!1};p()(d.Z,c);d.Z.locals;var f=r(6733),m={insert:"head",singleton:!1};p()(f.Z,m);f.Z.locals;const g={props:{options:Object,isShown:{type:Boolean,default:!1}},data:function(){return{instance:null}},watch:{isShown:function(e,t){e&&!this.instance&&this.initializeUppy()}},computed:{endpoint:function(){return this.options.endpoint},restrictions:function(){return this.options.restrictions}},beforeDestroy:function(){this.instance.close()},methods:{computeWidth:function(){for(var e=this.$el,t=function(e){return e.getBoundingClientRect().width};!t(e);)e=e.parentNode,console.log(e);return.95*t(e)},registerDashboard:function(){var e=this.computeWidth();this.instance.use(o,{inline:!0,target:this.$el,replaceTargetContent:!0,showProgressDetails:!0,width:e,height:Math.min(e/1.7,window.innerHeight-this.$el.getBoundingClientRect().top),metaFields:[{id:"name",name:"Name",placeholder:"file name"},{id:"caption",name:"Caption",placeholder:"describe what the image is about"},{id:"keywords",name:"Keywords"}],browserBackButtonClose:!0})},registerTus:function(){this.instance.use(a,{endpoint:this.endpoint,withCredentials:!0,headers:this.getHeaders(),resume:!0,retryDelays:[0]})},getHeaders:function(){return{"X-CSRF-Token":document.head.querySelector('meta[name="csrf-token"]').content,Accept:"application/json"}},registerEvents:function(){var e=this;this.instance.on("complete",(function(e){if(!e.failed.length){var t=new CustomEvent("uppy-complete",{detail:{result:e}});document.dispatchEvent(t)}})),this.instance.on("upload-success",(function(t,r,i){e.instance.setFileState(t.id,{uploadURL:"http://www.blah.com"})})),this.instance.on("upload-error",(function(e,t){})),this.instance.on("error",(function(e){console.log("uppy error",e)}))},initializeUppy:function(){this.instance=new i({debug:!1,autoProceed:!1,allowMultipleUploads:!0,restrictions:this.restrictions}),this.registerDashboard(),this.instance.use(n(),{target:o}),this.registerTus(),this.registerEvents()}},mounted:function(){this.isShown&&!this.instance&&this.initializeUppy()}};const y=(0,r(1900).Z)(g,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports},1900:(e,t,r)=>{"use strict";function i(e,t,r,i,o,s,n,a){var l,p="function"==typeof e?e.options:e;if(t&&(p.render=t,p.staticRenderFns=r,p._compiled=!0),i&&(p.functional=!0),s&&(p._scopeId="data-v-"+s),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},p._ssrRegister=l):o&&(l=a?function(){o.call(this,(p.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(p.functional){p._injectStyles=l;var u=p.render;p.render=function(e,t){return l.call(t),u(e,t)}}else{var h=p.beforeCreate;p.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:p}}r.d(t,{Z:()=>i})},1196:e=>{"use strict";function t(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}t.prototype.match=function(e){var t,r,i=!0,o=this.parts,s=o.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(r=(e||"").split(this.separator),t=0;i&&t<s;t++)"*"!==o[t]&&(i=t<r.length&&o[t]===r[t]);i=i&&r}else i=!1;else if("function"==typeof e.splice)for(i=[],t=e.length;t--;)this.match(e[t])&&(i[i.length]=e[t]);else if("object"==typeof e)for(var n in i={},e)this.match(n)&&(i[n]=e[n]);return i},e.exports=function(e,r,i){var o=new t(e,i||/[\/\.]/);return void 0!==r?o.match(r):o}},2281:e=>{"use strict";var t,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},o=0,s=0;function n(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function a(){var e=n(+new Date);return e!==t?(o=0,t=e):e+"."+n(o++)}for(;s<64;s++)i[r[s]]=s;a.encode=n,a.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+i[e.charAt(s)];return t},e.exports=a},1951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},3211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installTimerFunctions=t.transports=t.Transport=t.protocol=t.Socket=void 0;const i=r(7698);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}}),t.protocol=i.Socket.protocol;var o=r(6686);Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return o.Transport}});var s=r(1263);Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return s.transports}});var n=r(6076);Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return n.installTimerFunctions}})},7698:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const o=r(1263),s=r(6076),n=i(r(1830)),a=i(r(4187)),l=i(r(1227)),p=r(3063),u=r(6583),h=(0,l.default)("engine.io-client:socket");class d extends p.Emitter{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,a.default)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,a.default)(t.host).host),(0,s.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=n.default.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){h('creating transport "%s"',e);const t=function(e){const t={};for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return h("options: %j",r),new o.transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return h("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){h("setting transport %s",e.name),this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(()=>{this.onClose("transport close")}))}probe(e){h('probing transport "%s"',e);let t=this.createTransport(e),r=!1;d.priorWebsocketSuccess=!1;const i=()=>{r||(h('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(i=>{if(!r)if("pong"===i.type&&"probe"===i.data){if(h('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;d.priorWebsocketSuccess="websocket"===t.name,h('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{r||"closed"!==this.readyState&&(h("changing transport and sending upgrade packet"),p(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{h('probe transport "%s" failed',e);const r=new Error("probe error");r.transport=t.name,this.emitReserved("upgradeError",r)}})))};function o(){r||(r=!0,p(),t.close(),t=null)}const s=r=>{const i=new Error("probe error: "+r);i.transport=t.name,o(),h('probe transport "%s" failed because of error: %s',e,r),this.emitReserved("upgradeError",i)};function n(){s("transport closed")}function a(){s("socket closed")}function l(e){t&&e.name!==t.name&&(h('"%s" works - aborting "%s"',e.name,t.name),o())}const p=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",n),this.off("close",a),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",n),this.once("close",a),this.once("upgrading",l),t.open()}onOpen(){if(h("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){h("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else h('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof r&&(i=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const o={type:e,data:t,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),h("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){h("socket error %j",e),d.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(h('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}t.Socket=d,d.protocol=u.protocol},6686:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const o=r(6583),s=r(3063),n=r(6076),a=(0,i(r(1227)).default)("engine.io-client:transport");class l extends s.Emitter{constructor(e){super(),this.writable=!1,(0,n.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const r=new Error(e);return r.type="TransportError",r.description=t,super.emit("error",r),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):a("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const t=(0,o.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}}t.Transport=l},1263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;const i=r(8438),o=r(5579);t.transports={websocket:o.WS,polling:i.XHR}},8438:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.XHR=void 0;const o=i(r(8157)),s=i(r(1227)),n=i(r(1951)),a=r(6076),l=r(3063),p=r(8011),u=(0,s.default)("engine.io-client:polling-xhr");function h(){}const d=null!=new o.default({xdomain:!1}).responseType;class c extends p.Polling{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=d&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new f(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e=>{this.onError("xhr post error",e)}))}doPoll(){u("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e=>{this.onError("xhr poll error",e)})),this.pollXhr=e}}t.XHR=c;class f extends l.Emitter{constructor(e,t){super(),(0,a.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=(0,a.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new o.default(e);try{u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},u("xhr data %s",this.data),t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=f.requestsCount++,f.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=h,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete f.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}abort(){this.cleanup()}}if(t.Request=f,f.requestsCount=0,f.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",m);else if("function"==typeof addEventListener){const e="onpagehide"in n.default?"pagehide":"unload";addEventListener(e,m,!1)}function m(){for(let e in f.requests)f.requests.hasOwnProperty(e)&&f.requests[e].abort()}},8011:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;const o=r(6686),s=i(r(1227)),n=i(r(2281)),a=i(r(1830)),l=r(6583),p=(0,s.default)("engine.io-client:polling");class u extends o.Transport{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{p("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(p("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){p("pre-pause polling complete"),--e||t()}))),this.writable||(p("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){p("pre-pause writing complete"),--e||t()})))}else t()}poll(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){p("polling got data %s",e);(0,l.decodePayload)(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose(),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{p("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(p("transport open - closing"),e()):(p("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,l.encodePayload)(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,n.default)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=a.default.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}}t.Polling=u},7427:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;const o=i(r(1951));t.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),t.WebSocket=o.default.WebSocket||o.default.MozWebSocket,t.usingBrowserWebSocket=!0,t.defaultBinaryType="arraybuffer"},5579:function(e,t,r){"use strict";var i=r(8764).Buffer,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;const s=r(6686),n=o(r(1830)),a=o(r(2281)),l=r(6076),p=r(7427),u=o(r(1227)),h=r(6583),d=(0,u.default)("engine.io-client:websocket"),c="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class f extends s.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=c?{}:(0,l.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=p.usingBrowserWebSocket&&!c?t?new p.WebSocket(e,t):new p.WebSocket(e):new p.WebSocket(e,t,r)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||p.defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],o=t===e.length-1;(0,h.encodePacket)(r,this.supportsBinary,(e=>{const t={};if(!p.usingBrowserWebSocket&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate)){("string"==typeof e?i.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}try{p.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,t)}catch(e){d("websocket closed before onclose event")}o&&(0,p.nextTick)((()=>{this.writable=!0,this.emit("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,a.default)()),this.supportsBinary||(e.b64=1);const i=n.default.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!(!p.WebSocket||"__initialize"in p.WebSocket&&this.name===f.prototype.name)}}t.WS=f},8157:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(8058)),s=i(r(1951));t.default=function(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o.default))return new XMLHttpRequest}catch(e){}if(!t)try{return new(s.default[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},6076:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.installTimerFunctions=t.pick=void 0;const o=i(r(1951));t.pick=function(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})};const s=setTimeout,n=clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=s.bind(o.default),e.clearTimeoutFn=n.bind(o.default)):(e.setTimeoutFn=setTimeout.bind(o.default),e.clearTimeoutFn=clearTimeout.bind(o.default))}},4250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const r=Object.create(null);t.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const i=Object.create(null);t.PACKET_TYPES_REVERSE=i,Object.keys(r).forEach((e=>{i[r[e]]=e}));t.ERROR_PACKET={type:"error",data:"parser error"}},1069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4250),o=r(3426),s="function"==typeof ArrayBuffer,n=(e,t)=>{if(s){const r=(0,o.decode)(e);return a(r,t)}return{base64:!0,data:e}},a=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e;t.default=(e,t)=>{if("string"!=typeof e)return{type:"message",data:a(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:n(e.substring(1),t)};return i.PACKET_TYPES_REVERSE[r]?e.length>1?{type:i.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:i.PACKET_TYPES_REVERSE[r]}:i.ERROR_PACKET}},6486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4250),o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),s="function"==typeof ArrayBuffer,n=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+e)},r.readAsDataURL(e)};t.default=({type:e,data:t},r,a)=>{return o&&t instanceof Blob?r?a(t):n(t,a):s&&(t instanceof ArrayBuffer||(l=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer))?r?a(t):n(new Blob([t]),a):a(i.PACKET_TYPES[e]+(t||""));var l}},6583:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0;const i=r(6486);t.encodePacket=i.default;const o=r(1069);t.decodePacket=o.default;const s=String.fromCharCode(30);t.encodePayload=(e,t)=>{const r=e.length,o=new Array(r);let n=0;e.forEach(((e,a)=>{(0,i.default)(e,!1,(e=>{o[a]=e,++n===r&&t(o.join(s))}))}))};t.decodePayload=(e,t)=>{const r=e.split(s),i=[];for(let e=0;e<r.length;e++){const s=(0,o.default)(r[e],t);if(i.push(s),"error"===s.type)break}return i},t.protocol=4},6247:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;const o=r(1561),s=r(7836);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return s.Manager}});const n=r(3810);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return n.Socket}});const a=i(r(1227)).default("socket.io-client"),l={};function p(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const r=o.url(e,t.path||"/socket.io"),i=r.source,n=r.id,p=r.path,u=l[n]&&p in l[n].nsps;let h;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(a("ignoring socket cache for %s",i),h=new s.Manager(i,t)):(l[n]||(a("new io instance for %s",i),l[n]=new s.Manager(i,t)),h=l[n]),r.query&&!t.query&&(t.query=r.queryKey),h.socket(r.path,t)}t.io=p,t.connect=p,t.default=p,Object.assign(p,{Manager:s.Manager,Socket:n.Socket,io:p,connect:p});var u=r(8872);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.exports=p},7836:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const a=r(3211),l=r(3810),p=s(r(8872)),u=r(7283),h=n(r(3010)),d=r(3063),c=n(r(1227)).default("socket.io-client:manager");class f extends d.Emitter{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,a.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new h.default({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||p;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(c("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=u.on(t,"open",(function(){r.onopen(),e&&e()})),o=u.on(t,"error",(t=>{c("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",t),e?e(t):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;c("connect attempt will timeout after %d",e),0===e&&i();const r=this.setTimeoutFn((()=>{c("connect attempt timed out after %d",e),i(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){c("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(u.on(e,"ping",this.onping.bind(this)),u.on(e,"data",this.ondata.bind(this)),u.on(e,"error",this.onerror.bind(this)),u.on(e,"close",this.onclose.bind(this)),u.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){c("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new l.Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void c("socket %s is still active, skipping close",e)}this._close()}_packet(e){c("writing packet %j",e);const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){c("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){c("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){c("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(c("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(c("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(c("reconnect success"),e.onreconnect())})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=f},7283:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,r){return e.on(t,r),function(){e.off(t,r)}}},3810:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const o=r(8872),s=r(7283),n=r(3063),a=i(r(1227)).default("socket.io-client:socket"),l=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class p extends n.Emitter{constructor(e,t,r){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[s.on(e,"open",this.onopen.bind(this)),s.on(e,"packet",this.onpacket.bind(this)),s.on(e,"error",this.onerror.bind(this)),s.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(l.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:o.PacketType.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;a("emitting packet with ack id %d",e);const i=t.pop();this._registerAckCallback(e,i),r.id=e}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?a("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(a("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));a("event with ack id %d has timed out after %d ms",e,r),t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this.packet({type:o.PacketType.CONNECT,data:e})})):this.packet({type:o.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){a("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case o.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case o.PacketType.EVENT:case o.PacketType.BINARY_EVENT:this.onevent(e);break;case o.PacketType.ACK:case o.PacketType.BINARY_ACK:this.onack(e);break;case o.PacketType.DISCONNECT:this.ondisconnect();break;case o.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,a("sending ack %j",i),t.packet({type:o.PacketType.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(a("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):a("bad ack %s",e.id)}onconnect(e){a("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>this.packet(e))),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:o.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}t.Socket=p},1561:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const o=i(r(4187)),s=i(r(1227)).default("socket.io-client:url");t.url=function(e,t="",r){let i=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e=void 0!==r?r.protocol+"//"+e:"https://"+e),s("parse %s",e),i=o.default(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const n=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port+t,i.href=i.protocol+"://"+n+(r&&r.port===i.port?"":":"+i.port),i}},2166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const i=r(2590);function o(e,t){if(!e)return e;if(i.isBinary(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=o(e[i],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const i in e)e.hasOwnProperty(i)&&(r[i]=o(e[i],t));return r}return e}function s(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=s(e[r],t);else if("object"==typeof e)for(const r in e)e.hasOwnProperty(r)&&(e[r]=s(e[r],t));return e}t.deconstructPacket=function(e){const t=[],r=e.data,i=e;return i.data=o(r,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=s(e.data,t),e.attachments=void 0,e}},8872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const i=r(3063),o=r(2166),s=r(2590),n=r(1227).default("socket.io-parser");var a;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(a=t.PacketType||(t.PacketType={}));t.Encoder=class{encode(e){return n("encoding packet %j",e),e.type!==a.EVENT&&e.type!==a.ACK||!s.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==a.BINARY_EVENT&&e.type!==a.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),n("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=o.deconstructPacket(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};class l extends i.Emitter{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===a.BINARY_EVENT||t.type===a.BINARY_ACK?(this.reconstructor=new p(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!s.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===a[r.type])throw new Error("unknown packet type "+r.type);if(r.type===a.BINARY_EVENT||r.type===a.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(i,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!l.isPayloadValid(r.type,i))throw new Error("invalid payload");r.data=i}return n("decoded %s as %j",e,r),r}static isPayloadValid(e,t){switch(e){case a.CONNECT:return"object"==typeof t;case a.DISCONNECT:return void 0===t;case a.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case a.EVENT:case a.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case a.ACK:case a.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=l;class p{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},2590:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function n(e){return r&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||o&&e instanceof Blob||s&&e instanceof File}t.isBinary=n,t.hasBinary=function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(e(t[r]))return!0;return!1}if(n(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},2961:e=>{e.exports={nanoid:(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t)=>()=>{let r="",i=t;for(;i--;)r+=e[Math.random()*e.length|0];return r}}}}]);